!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=112)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(0),i=n(26),o=n(56),u=n(5),a=n(41),s=n(16),c=n(36),l=function(t){function e(n,r,i){var u=t.call(this)||this;switch(u.syncErrorValue=null,u.syncErrorThrown=!1,u.syncErrorThrowable=!1,u.isStopped=!1,arguments.length){case 0:u.destination=o.a;break;case 1:if(!n){u.destination=o.a;break}if("object"==typeof n){n instanceof e?(u.syncErrorThrowable=n.syncErrorThrowable,u.destination=n,n.add(u)):(u.syncErrorThrowable=!0,u.destination=new f(u,n));break}default:u.syncErrorThrowable=!0,u.destination=new f(u,n,r,i)}return u}return r.a(e,t),e.prototype[a.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(u.a),f=function(t){function e(e,n,r,u){var a,s=t.call(this)||this;s._parentSubscriber=e;var c=s;return Object(i.a)(n)?a=n:n&&(a=n.next,r=n.error,u=n.complete,n!==o.a&&(c=Object.create(n),Object(i.a)(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=a,s._error=r,s._complete=u,s}return r.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw t;Object(c.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(c.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(53),i=n(1),o=n(41),u=n(56);var a=n(22),s=n(40),c=n(16),l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(u.a)}(t,e,n);if(r?a.add(r.call(a,this.source)):a.add(this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(r.a)(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=f(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=f(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function f(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(15),i=n(43),o=n(2);function u(t,e,n,u,a){if(void 0===a&&(a=new r.a(t,n,u)),!a.closed)return e instanceof o.a?e.subscribe(a):Object(i.a)(e)(a)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n(1).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(7),i=n(52),o=n(26),u=n(42),a=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,a=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l){n[l].remove(this)}if(Object(o.a)(a))try{a.call(this)}catch(t){e=t instanceof u.a?s(t.errors):[t]}if(Object(r.a)(c)){l=-1;for(var f=c.length;++l<f;){var h=c[l];if(Object(i.a)(h))try{h.unsubscribe()}catch(t){e=e||[],t instanceof u.a?e=e.concat(s(t.errors)):e.push(t)}}}if(e)throw new u.a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function s(t){return t.reduce((function(t,e){return t.concat(e instanceof u.a?e.errors:e)}),[])}},function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f}));var r=n(0),i=n(2),o=n(1),u=n(5),a=n(23),s=n(77),c=n(41),l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.a(e,t),e}(o.a),f=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.a(e,t),e.prototype[c.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),u.a.EMPTY):this.isStopped?(t.complete(),u.a.EMPTY):(this.observers.push(t),new s.a(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):u.a.EMPTY},e}(f)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(33),i=new(n(30).a)(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=n(1);function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new u(t,e))}}var u=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a)},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";t.exports=n(113)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n(2),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(2),i=n(43),o=n(72);function u(t,e){return e?Object(o.a)(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.SPRITE=0]="SPRITE",t[t.UI=1]="UI",t[t.SCENERY=2]="SCENERY"}(e.SpriteSheets||(e.SpriteSheets={})),function(t){t[t.HEALTH_BAR=0]="HEALTH_BAR"}(e.UIANIMATIONS||(e.UIANIMATIONS={})),function(t){t[t.DEFAULT=0]="DEFAULT"}(e.MAPS||(e.MAPS={})),function(t){t[t.KEY_UP=0]="KEY_UP",t[t.KEY_DOWN=1]="KEY_DOWN",t[t.PANEL_CENTER=2]="PANEL_CENTER",t[t.PANEL_TL=3]="PANEL_TL",t[t.PANEL_TM=4]="PANEL_TM",t[t.PANEL_TR=5]="PANEL_TR",t[t.PANEL_ML=6]="PANEL_ML",t[t.PANEL_MR=7]="PANEL_MR",t[t.PANEL_BL=8]="PANEL_BL",t[t.PANEL_BM=9]="PANEL_BM",t[t.PANEL_BR=10]="PANEL_BR",t[t.PANEL_SL=11]="PANEL_SL",t[t.PANEL_SM=12]="PANEL_SM",t[t.PANEL_SR=13]="PANEL_SR",t[t.PANEL_SS=14]="PANEL_SS",t[t.BUTTON_DEFAULT_TL=15]="BUTTON_DEFAULT_TL",t[t.BUTTON_DEFAULT_TM=16]="BUTTON_DEFAULT_TM",t[t.BUTTON_DEFAULT_TR=17]="BUTTON_DEFAULT_TR",t[t.BUTTON_DEFAULT_ML=18]="BUTTON_DEFAULT_ML",t[t.BUTTON_DEFAULT_MM=19]="BUTTON_DEFAULT_MM",t[t.BUTTON_DEFAULT_MR=20]="BUTTON_DEFAULT_MR",t[t.BUTTON_DEFAULT_BL=21]="BUTTON_DEFAULT_BL",t[t.BUTTON_DEFAULT_BM=22]="BUTTON_DEFAULT_BM",t[t.BUTTON_DEFAULT_BR=23]="BUTTON_DEFAULT_BR",t[t.BUTTON_DEFAULT_SL=24]="BUTTON_DEFAULT_SL",t[t.BUTTON_DEFAULT_SM=25]="BUTTON_DEFAULT_SM",t[t.BUTTON_DEFAULT_SR=26]="BUTTON_DEFAULT_SR",t[t.BUTTON_DEFAULT_SS=27]="BUTTON_DEFAULT_SS",t[t.BUTTON_HOVER_TL=28]="BUTTON_HOVER_TL",t[t.BUTTON_HOVER_TM=29]="BUTTON_HOVER_TM",t[t.BUTTON_HOVER_TR=30]="BUTTON_HOVER_TR",t[t.BUTTON_HOVER_ML=31]="BUTTON_HOVER_ML",t[t.BUTTON_HOVER_MM=32]="BUTTON_HOVER_MM",t[t.BUTTON_HOVER_MR=33]="BUTTON_HOVER_MR",t[t.BUTTON_HOVER_BL=34]="BUTTON_HOVER_BL",t[t.BUTTON_HOVER_BM=35]="BUTTON_HOVER_BM",t[t.BUTTON_HOVER_BR=36]="BUTTON_HOVER_BR",t[t.BUTTON_HOVER_SL=37]="BUTTON_HOVER_SL",t[t.BUTTON_HOVER_SM=38]="BUTTON_HOVER_SM",t[t.BUTTON_HOVER_SR=39]="BUTTON_HOVER_SR",t[t.BUTTON_HOVER_SS=40]="BUTTON_HOVER_SS",t[t.BUTTON_PRESS_TL=41]="BUTTON_PRESS_TL",t[t.BUTTON_PRESS_TM=42]="BUTTON_PRESS_TM",t[t.BUTTON_PRESS_TR=43]="BUTTON_PRESS_TR",t[t.BUTTON_PRESS_ML=44]="BUTTON_PRESS_ML",t[t.BUTTON_PRESS_MM=45]="BUTTON_PRESS_MM",t[t.BUTTON_PRESS_MR=46]="BUTTON_PRESS_MR",t[t.BUTTON_PRESS_BL=47]="BUTTON_PRESS_BL",t[t.BUTTON_PRESS_BM=48]="BUTTON_PRESS_BM",t[t.BUTTON_PRESS_BR=49]="BUTTON_PRESS_BR",t[t.BUTTON_PRESS_SL=50]="BUTTON_PRESS_SL",t[t.BUTTON_PRESS_SM=51]="BUTTON_PRESS_SM",t[t.BUTTON_PRESS_SR=52]="BUTTON_PRESS_SR",t[t.BUTTON_PRESS_SS=53]="BUTTON_PRESS_SS"}(e.UISPRITES||(e.UISPRITES={})),function(t){t[t.CRABLET_BROWN=0]="CRABLET_BROWN",t[t.CRABLET_GREEN=1]="CRABLET_GREEN",t[t.CRABLET_BLUE=2]="CRABLET_BLUE",t[t.CRABLET_BROWN_ATTACK=3]="CRABLET_BROWN_ATTACK",t[t.CRABLET_GREEN_ATTACK=4]="CRABLET_GREEN_ATTACK",t[t.CRABLET_BLUE_ATTACK=5]="CRABLET_BLUE_ATTACK",t[t.EGG_CHARGE=6]="EGG_CHARGE"}(e.Animations||(e.Animations={})),function(t){t[t.SWORD=0]="SWORD",t[t.MACATOR_DAMAGED=1]="MACATOR_DAMAGED",t[t.MACATOR_DEAD_BROWN=2]="MACATOR_DEAD_BROWN",t[t.MACATOR_DEAD_GREEN=3]="MACATOR_DEAD_GREEN",t[t.MACATOR_DEAD_BLUE=4]="MACATOR_DEAD_BLUE"}(e.Sprites||(e.Sprites={})),function(t){t[t.INTRO=0]="INTRO",t[t.BOING=1]="BOING",t[t.POINT=2]="POINT",t[t.SLAM=3]="SLAM",t[t.WHOOSH=4]="WHOOSH",t[t.PLAYER_HIT=5]="PLAYER_HIT",t[t.END=6]="END",t[t.HISS=7]="HISS",t[t.INCOMING=8]="INCOMING"}(e.Audios||(e.Audios={})),function(t){t[t.WALL=0]="WALL",t[t.FLOOR=1]="FLOOR"}(e.SCENERYSPRITES||(e.SCENERYSPRITES={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n(1).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=n(1);function o(t,e){return function(n){return n.lift(new u(t,e))}}var u=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var r,i=n(12),o=n(38),u=n(47);r||(r={});var a=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(u.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));var i=r()},function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0),i=n(3),o=n(4),u=n(15),a=n(9),s=n(13);function c(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(c((function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new l(t,n))})}var l=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project,this.concurrent))},t}(),f=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new u.a(this,e,n),o=this.destination;o.add(r);var a=Object(i.a)(this,t,void 0,void 0,r);a!==r&&o.add(a)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOM_WIDTH=1280,e.DOM_HEIGHT=720,e.RES_DIV=4,e.WIDTH=e.DOM_WIDTH/e.RES_DIV,e.HEIGHT=e.DOM_HEIGHT/e.RES_DIV,e.ASPECT_RATIO=e.DOM_WIDTH/e.DOM_HEIGHT,e.FOV=45,e.ZNEAR=.001,e.ZFAR=1e4,e.TARGET_FPS=60,e.TARGET_MILLIS=Math.floor(1e3/e.TARGET_FPS),e.DEFAULT_PLAYER_HEIGHT=.5,e.DEFAULT_PLAYER_RADIUS=.5,e.SCENERY_PIXEL_DENSITY=16},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.EntityComponent=class{}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=n(58),o=function(t){function e(n,r){void 0===r&&(r=i.a.now);var o=t.call(this,n,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.a(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(2),i=n(75),o=n(54);function u(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(0),i=n(6),o=n(5),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return r.a(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.a.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return r.a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(5).a))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(7);function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(38),i=n(65);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(i.a)()(r.a.apply(void 0,t))}},function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(141),i=n(84);e.animation=t=>new i.GameAnimation(t),e.parallel=(...t)=>new r.CompositeAnimation({type:r.CompositeAnimationType.PARALLEL,animations:t}),e.sequence=(...t)=>new r.CompositeAnimation({type:r.CompositeAnimationType.SERIAL,animations:t}),e.interpolate=(t,e)=>n=>(1-n)*t+n*e,e.identity=t=>t,e.floorStepper=t=>e=>1===e?t-1:Math.floor(e*t),e.sin=function(t){return Math.sin(t*Math.PI/2)},e.easeInOutCirc=function(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(10),i=n(31),o=n(54);function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(r.a)(n)?(t.pop(),Object(o.a)(t,n)):Object(i.a)(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(182),o=n(81);e.useGlobalState=()=>{const[t,e]=r.useState(o.store.getValue());return r.useEffect(()=>{const t=o.store.pipe(i.skip(1)).subscribe(e);return()=>t.unsubscribe()},[]),[t,t=>o.dispatch.next(t)]},e.useDispatchListener=t=>{r.useEffect(()=>{const e=o.dispatch.subscribe(t);return()=>e.unsubscribe()},[])}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n(17);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(75),i=n(36),o=n(20),u=n(22),a=n(74),s=n(76),c=n(52),l=function(t){if(t&&"function"==typeof t[u.a])return l=t,function(t){var e=l[u.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(s.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,f=Object(c.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+f+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.PLAYER_ATTACK="PLAYER_ATTACK",t.PLAYER_DAMAGED="PLAYER_DAMAGED",t.PLAYER_KILLED="PLAYER_KILLED",t.PLAYER_INFO_CHANGE="PLAYER_INFO_CHANGE"}(e.PlayerEventType||(e.PlayerEventType={}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f}));var r=n(0),i=n(10),o=n(7),u=n(4),a=n(3),s=n(31),c={};function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(i.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(o.a)(t[0])&&(t=t[0]),Object(s.a)(t,r).lift(new f(n))}var f=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.resultSelector))},t}(),h=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.a(e,t),e.prototype._next=function(t){this.values.push(c),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(a.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,u=o[n],a=this.toRespond?u===c?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(u.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(24),i=n(17);function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(i.a,t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(2);function i(t,e){return e?new r.a((function(n){return e.schedule(o,0,{error:t,subscriber:n})})):new r.a((function(e){return e.error(t)}))}function o(t){var e=t.error;t.subscriber.error(e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=n(1);function o(){return function(t){return t.lift(new u(t))}}var u=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new a(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.a(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(0),i=n(6),o=n(73),u=n(5),a=n(68),s=n(23),c=n(77),l=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.a(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new f(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new s.a;if(this.isStopped||this.hasError?e=u.a.EMPTY:(this.observers.push(t),e=new c.a(this,t)),i&&t.add(t=new a.a(t,i)),n)for(var l=0;l<o&&!t.closed;l++)t.next(r[l]);else for(l=0;l<o&&!t.closed;l++)t.next(r[l].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.a).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(i.a),f=function(){return function(t,e){this.time=t,this.value=e}}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(2),i=n(13),o=n(12);function u(t){return new r.a((function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(e)}))}},function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f}));var r=n(0),i=n(31),o=n(7),u=n(1),a=n(4),s=n(3),c=n(20);function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),Object(i.a)(t,void 0).lift(new f(n))}var f=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.resultSelector))},t}(),h=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var i=t.call(this,e)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:null,i.values=r,i}return r.a(e,t),e.prototype._next=function(t){var e=this.iterators;Object(o.a)(t)?e.push(new p(t)):"function"==typeof t[c.a]?e.push(new d(t[c.a]())):e.push(new v(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe(r,n));else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"==typeof(u=t[r]).hasValue&&!u.hasValue())return}var i=!1,o=[];for(r=0;r<e;r++){var u,a=(u=t[r]).next();if(u.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(u.a),d=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),p=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[c.a]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),v=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.a(e,t),e.prototype[c.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Object(s.a)(this,this.observable,this,e)},e}(a.a)},function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(1);function i(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.a?i:null}return!0}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2),i=n(5);function o(t,e){return new r.a((function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(0),i=1,o=function(){return Promise.resolve()}(),u={};function a(t){return t in u&&(delete u[t],!0)}var s=function(t){var e=i++;return u[e]=!0,o.then((function(){return a(e)&&t()})),e},c=function(t){a(t)},l=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=s(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(c(n),e.scheduled=void 0)},e}(n(33).a),f=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(n(30).a))(l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(16),i=n(36),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.START_GAME="START_GAME",t.FADE_BACKGROUND="FADE_BACKGROUND",t.FADE_MENU="FADE_MENU"}(r=e.GameStartActionType||(e.GameStartActionType={})),e.startGame=()=>({type:r.START_GAME})},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}()},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return h}));var r=n(0),i=n(1),o=n(5),u=n(2),a=n(6);function s(t,e,n,r){return function(i){return i.lift(new c(t,e,n,r))}}var c=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),l=function(t){function e(e,n,r,i,o){var u=t.call(this,e)||this;return u.keySelector=n,u.elementSelector=r,u.durationSelector=i,u.subjectSelector=o,u.groups=null,u.attemptedToUnsubscribe=!1,u.count=0,u}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new a.a,n.set(e,i);var o=new h(e,i,this);if(this.destination.next(o),this.durationSelector){var u=void 0;try{u=this.durationSelector(new h(e,i))}catch(t){return void this.error(t)}this.add(u.subscribe(new f(e,i,this)))}}i.closed||i.next(r)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach((function(e,n){e.error(t)})),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.a),f=function(t){function e(e,n,r){var i=t.call(this,n)||this;return i.key=e,i.group=n,i.parent=r,i}return r.a(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(i.a),h=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=r,i}return r.a(e,t),e.prototype._subscribe=function(t){var e=new o.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new d(n)),e.add(r.subscribe(t)),e},e}(u.a),d=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return r.a(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.ENEMY_KILLED="ENEMY_KILLED"}(e.EnemyEventType||(e.EnemyEventType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11);!function(t){t.REGULAR="yoster_islandregular"}(e.TextFont||(e.TextFont={})),function(t){t[t.SMALL=20]="SMALL",t[t.MED=36]="MED",t[t.BIG=50]="BIG"}(e.TextSize||(e.TextSize={})),function(t){t.LIGHT="#c0cbdc",t.DARK="#3e2731"}(e.TextColour||(e.TextColour={}));const i=["←","→"];e.TextComponent=t=>{const e=i.find(e=>e===t.text)?{}:{fontFamily:t.font};return r.createElement("div",{style:Object.assign(Object.assign(Object.assign({},e),{fontSize:t.size,color:t.colour,MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",userSelect:"none"}),t.style)},t.text)}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(147)),r(n(148)),r(n(149)),r(n(150))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.ATTACK="ATTACK"}(e.InteractionType||(e.InteractionType={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(2),i=n(8),o=n(34),u=n(10);function a(t,e,n){void 0===t&&(t=0);var a=-1;return Object(o.a)(e)?a=Number(e)<1?1:Number(e):Object(u.a)(e)&&(n=e),Object(u.a)(n)||(n=i.a),new r.a((function(e){var r=Object(o.a)(t)?t:+t-n.now();return n.schedule(s,r,{index:0,period:a,subscriber:e})}))}function s(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(46);function i(){return Object(r.a)(1)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(2),i=n(10),o=n(46),u=n(31);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,a=null,s=t[t.length-1];return Object(i.a)(s)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof s&&(n=t.pop()),null===a&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(n)(Object(u.a)(t,a))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));var r=n(0),i=n(6),o=n(2),u=n(1),a=n(5),s=n(48),c=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.a(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t},e.prototype.refCount=function(){return Object(s.a)()(this)},e}(o.a),l=function(){var t=c.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.a(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.b);u.a},function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return s}));var r=n(0),i=n(1),o=n(19);function u(t,e){return void 0===e&&(e=0),function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))},t}(),s=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return r.a(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.a.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.a.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(o.a.createComplete()),this.unsubscribe()},e}(i.a),c=function(){return function(t,e){this.notification=t,this.destination=e}}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(0),i=n(6),o=n(23),u=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.a(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(0),i=n(7),o=n(31),u=n(4),a=n(3);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!Object(i.a)(t[0]))return t[0];t=t[0]}return Object(o.a)(t,void 0).lift(new c)}var c=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new l(t))},t}(),l=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.a(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=Object(a.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var u=this.subscriptions[o];u.unsubscribe(),this.remove(u)}this.subscriptions=null}this.destination.next(e)},e}(u.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(2),i=n(5),o=n(22);var u=n(54),a=n(20);var s=n(76),c=n(74);function l(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a((function(n){var r=new i.a;return r.add(e.schedule((function(){var i=t[o.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(s.a)(t))return function(t,e){return new r.a((function(n){var r=new i.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(c.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,o=new i.a;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(e.schedule((function(){r=t[a.a](),o.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),o}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n(33).a),o=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e}(n(30).a))(i)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n(5).a)},function(t,e,n){"use strict";function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SyncedArray=class{constructor(t){this.callbacks=t,this.array=[],this.uniqueId=0}createItem(t){return this.uniqueId++,this.array.push({obj:t,uniqueId:this.uniqueId}),this.requireConstruction=!0,this.uniqueId}updateItem(t,e){const n=this.findRealIndexOf(t);if(n>=0){const t=this.array[n];t.obj=Object.assign(Object.assign({},t.obj),e),this.requireConstruction||(this.callbacks.onInjection(n,this.array[n]),this.requireUpdate=!0)}}freeItem(t){const e=this.findRealIndexOf(t);e>=0&&(this.requireConstruction=!0,this.array.splice(e,1))}sync(){this.requireConstruction&&(this.callbacks.onReconstruct(this.array),this.requireUpdate=!1,this.requireConstruction=!1),this.requireUpdate&&(this.callbacks.onUpdate(this.array),this.requireUpdate=!1)}getArray(){return this.array}findRealIndexOf(t){if(0===this.array.length)return-1;let e,n=!1,r=0,i=this.array.length;for(;0==n&&!(r>i);){e=~~((r+i)/2);const o=this.array[e].uniqueId;if(NaN===o||o===1/0)return-1;if(t===o){n=!0;break}t<o?i=e-1:t>o&&(r=e+1)}return!0===n?e:-1}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(123),i=n(124),o=n(125),u=n(126),a=n(127),s=n(128);e.compileSpriteShader=function(t){const e=o.initShaderProgram(t,u.BilloardVertex.source,r.fsSource);return{shaderId:e,uniform:{textureSampler:t.getUniformLocation(e,u.BilloardVertex.v.textureSampler),projectionMatrix:t.getUniformLocation(e,u.BilloardVertex.v.projectionMatrix),modelMatrix:t.getUniformLocation(e,u.BilloardVertex.v.modelMatrix)},attribute:{vertexPosition:t.getAttribLocation(e,u.BilloardVertex.v.vertexPosition),vertexTranslation:t.getAttribLocation(e,u.BilloardVertex.v.vertexTranslation),texturePosition:t.getAttribLocation(e,u.BilloardVertex.v.texturePosition)}}},e.compileModelShader=function(t){const e=o.initShaderProgram(t,s.Vertex.source,r.fsSource);return{shaderId:e,uniform:{textureSampler:t.getUniformLocation(e,s.Vertex.v.textureSampler),projectionMatrix:t.getUniformLocation(e,s.Vertex.v.projectionMatrix),modelMatrix:t.getUniformLocation(e,s.Vertex.v.modelMatrix)},attribute:{vertexPosition:t.getAttribLocation(e,s.Vertex.v.vertexPosition),texturePosition:t.getAttribLocation(e,s.Vertex.v.texturePosition)}}},e.compileTextureRepeatShader=function(t){const e=o.initShaderProgram(t,a.RepeatedVertex.source,i.rfsSource);return{shaderId:e,uniform:{textureSampler:t.getUniformLocation(e,a.RepeatedVertex.v.textureSampler),projectionMatrix:t.getUniformLocation(e,a.RepeatedVertex.v.projectionMatrix),modelMatrix:t.getUniformLocation(e,a.RepeatedVertex.v.modelMatrix)},attribute:{vertexPosition:t.getAttribLocation(e,a.RepeatedVertex.v.vertexPosition),texturePosition:t.getAttribLocation(e,a.RepeatedVertex.v.texturePosition),textureStart:t.getAttribLocation(e,a.RepeatedVertex.v.textureStart),textureSize:t.getAttribLocation(e,a.RepeatedVertex.v.textureSize)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(110),i=n(133),o=n(134),u=n(135),a=n(136),s=n(137);e.reducers={uiState:u.uiReducer,weaponState:a.weaponReducer,healthState:o.healthBarReducer,gameStart:i.gameStartReducer},e.farmState=(t,n)=>Object.keys(e.reducers).reduce((r,i)=>{const o=t&&t[i];return Object.assign(Object.assign({},r),{[i]:e.reducers[i](o,n)})},{});const c=e.farmState(void 0,{type:-1});e.dispatch=new r.Subject,e.store=new r.BehaviorSubject(c),e.dispatch.subscribe(t=>{const n=e.store.getValue(),r=e.farmState(n,t);e.store.next(r)});for(const t of s.Sagas)e.dispatch.subscribe(e=>t.next(e))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(95);e.SpriteImageComponent=t=>{const e=t.serviceLocator.getResourceManager().manifest.spritesheets[t.spriteSheet];return r.createElement("div",{style:Object.assign(Object.assign({},i.getImagePropsFromSprite(e.getSprite(t.sprite),t.style.width,t.style.height)),t.style)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11);e.ViewportComponent=t=>r.createElement("div",{style:Object.assign({maxWidth:t.width,maxHeight:t.height,width:t.width,height:t.height,overflow:"hidden",marginLeft:t.x,marginTop:t.y,position:"absolute"},t.style)},t.children)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(27),i=n(101);e.ANIMATION_RESOLUTION=Math.floor(1e3/r.TARGET_FPS);e.GameAnimation=class{constructor(t){return this.callback=t,this.speedMilliseconds=1e3,this.loop=!1,this.currentPosition=0,this.playCount=0,this.playing=!1,this.tweenFunction=t=>t,this}driven(){return this.driver=new i.IntervalDriver,this}speed(t){return this.speedMilliseconds=t||1e3,this}tween(t){const e=this.tweenFunction;return this.tweenFunction=n=>t(e(n)),this}looping(){return this.loop=!0,this}whenDone(t){return this.onFinish=t,this}withOffset(t){return this.currentPosition=t,this}start(){return this.playing=!0,this.driver&&this.driver.drive(()=>this.tick()),this}pause(){this.playing=!1,this.driver&&this.driver.undrive()}stop(){this.playing=!1,this.currentPosition=0,this.driver&&this.driver.undrive()}tick(){if(this.playing)if(this.currentPosition>=1)this.callback(this.tweenFunction(1)),this.loop?this.currentPosition=0:this.stop(),this.playCount++,this.onFinish&&this.onFinish();else{this.callback(this.tweenFunction(this.currentPosition));const t=e.ANIMATION_RESOLUTION/this.speedMilliseconds;this.currentPosition+=t}}getCurrentPosition(){return this.currentPosition}getPlayCount(){return this.playCount}isPlaying(){return this.isPlaying}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ConsistentArray=class{constructor(){this.array=[],this.toAdd=[],this.toRemove=[]}getArray(){return this.array}getToAdd(){return this.toAdd}getToRemove(){return this.toRemove}add(t){this.toAdd.push(t)}remove(t){this.toRemove.push(t)}sync(){this.array.push(...this.toAdd),this.toRemove.forEach(t=>{const e=this.array.indexOf(t);e<0||this.array.splice(e,1)}),this.toAdd=[],this.toRemove=[]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.ATTACK="ATTACK",t.ON_DAMAGED="ON_DAMAGED"}(e.InteractionEventType||(e.InteractionEventType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.FORWARD="FORWARD",t.BACK="BACK",t.LEFT="LEFT",t.RIGHT="RIGHT"}(e.WalkDirection||(e.WalkDirection={})),function(t){t.CLOCKWISE="CLOCKWISE",t.ANTICLOCKWISE="ANTICLOCKWISE"}(e.TurnDirection||(e.TurnDirection={})),function(t){t.WALK="WALK",t.TURN="TURN"}(e.TravelEventType||(e.TravelEventType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(103);e.Entity=class{constructor(t,...e){this.serviceLocator=t,this.initialised=!1,this.listeners=[],this.components=e;let n={};for(let t=0;t<this.components.length;t++)n=Object.assign(Object.assign({},n),this.components[t].init(this));this.state=n,this.initialised=!0}getState(){return this.state}attachListener(t){this.listeners.push(t)}removeListener(t){this.listeners.splice(this.listeners.indexOf(t))}update(){for(let t=0;t<this.components.length;t++)this.components[t].update(this)}setState(t,e=!0){const n=Object.assign(Object.assign({},this.state),t);this.initialised&&e&&this.emit({type:r.EntityEventType.STATE_TRANSITION,payload:{from:this.state,to:n}}),this.state=n}emit(t){for(let e=0;e<this.components.length;e++)switch(this.components[e].onEvent(this,t),t.type){case r.EntityEventType.STATE_TRANSITION:this.components[e].onStateTransition(this,t.payload.from,t.payload.to);break;case r.EntityEventType.ENTITY_CREATED:this.components[e].onCreate(this);break;case r.EntityEventType.ENTITY_DELETED:this.components[e].onDestroy(this)}for(let e=0;e<this.listeners.length;e++)this.listeners[e].onObservedEvent(t)}onObservedEvent(t){for(let e=0;e<this.components.length;e++)this.components[e].onObservedEvent(this,t)}emitGlobally(t){this.serviceLocator.getWorld().emitOutOfWorld(t);for(let e=0;e<this.listeners.length;e++)this.listeners[e].onObservedEvent(t)}getServiceLocator(){return this.serviceLocator}}},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function u(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=u(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var f=0;f<a.length;f++)o.call(n,a[f])&&(s[a[f]]=n[a[f]])}}return s}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(119)),r(n(120)),r(n(121))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.fadeAccuracy=8,e.fadePixelAccuracy=4,e.fadeFunction=`\n    lowp float fade(lowp float distance) {\n\n        lowp float accuracy = ${e.fadeAccuracy}.0;\n        lowp float minDistance = 6.0;\n        lowp float maxDistance = 20.0;\n\n        lowp float grad = (distance - minDistance) / (maxDistance - minDistance);\n\n        grad = floor(grad * accuracy) / accuracy;\n\n        return 1.0 - max(min(grad, 1.0), 0.0);\n    }\n`},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.hazeFunction="\n    lowp vec3 haze(lowp vec3 colour) {\n\n        lowp vec3 hazeColour = vec3(\n            0.22, 0.26, 0.4\n        );\n\n        lowp float grad = 0.2;\n\n        return (grad * hazeColour) + ((1.0 - grad) * colour);\n    }\n"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.GAME_INITIALISED="GameInitialised"}(e.RootEventType||(e.RootEventType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(82),o=n(14),u=n(83);e.GamePanelComponent=t=>{const e=Math.ceil(t.width/64),n=Math.ceil(t.height/64),i=64*e,o=64*n,s=a(t.serviceLocator,t.panelMap,e,n,64,64),c=i-32,l=o-32;return r.createElement("div",{style:Object.assign({width:i,height:o},t.style)},s,r.createElement(u.ViewportComponent,{x:16,y:16,width:c,height:l,style:t.childStyle},t.children))};const a=(t,e,n,r,i,o)=>{const u=[];for(let a=0;a<n;a++)for(let c=0;c<r;c++)u.push(s(t,e,a,c,i,o,n,r));return u},s=(t,e,n,u,a,s,l,f)=>{const h=n*a,d=u*s,p=c(e,n,u,l,f);return r.createElement(i.SpriteImageComponent,{key:`${n}-${u}`,serviceLocator:t,spriteSheet:o.SpriteSheets.UI,sprite:p,style:{position:"absolute",width:a,height:s,transform:`translate(${h}px, ${d}px)`}})},c=(t,e,n,r,i)=>{if(1===r&&1===i)return t.tiny;if(1===r&&console.log("Dodgy panel of width 1"),1===i)return 0===e?t.wideLeft:e===r-1?t.wideRight:t.wideMiddle;let o=t.middleMiddle;return 0===e&&(o=t.middleLeft),e===r-1&&(o=t.middleRight),0===n&&(o=t.topMiddle),n===i-1&&(o=t.bottomMiddle),0===e&&0===n&&(o=t.topLeft),e===r-1&&0===n&&(o=t.topRight),0===e&&n===i-1&&(o=t.bottomLeft),e===r-1&&n===i-1&&(o=t.bottomRight),o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getImagePropsFromSprite=function(t,e,n){const r=t.pixelCoordinate.textureWidth,i=t.pixelCoordinate.textureHeight,o=t.pixelCoordinate.textureX,u=t.pixelCoordinate.textureY,a=t.spriteSheetWidth,s=t.spriteSheetHeight,c=e/r,l=n/i,f=Math.ceil(a*c),h=Math.ceil(s*l),d=Math.ceil(o*c),p=Math.ceil(u*l);return{backgroundImage:`url(${t.source})`,backgroundPosition:`-${d}px -${p}px`,backgroundSize:`${f}px ${h}px`,imageRendering:"pixelated"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(14);e.DARK_PANEL_SPRITES={[r.UISPRITES.PANEL_TL]:{width:16,height:16,x:240,y:0},[r.UISPRITES.PANEL_TM]:{width:16,height:16,x:256,y:0},[r.UISPRITES.PANEL_TR]:{width:16,height:16,x:272,y:0},[r.UISPRITES.PANEL_ML]:{width:16,height:16,x:240,y:16},[r.UISPRITES.PANEL_CENTER]:{width:16,height:16,x:256,y:16},[r.UISPRITES.PANEL_MR]:{width:16,height:16,x:272,y:16},[r.UISPRITES.PANEL_BL]:{width:16,height:16,x:240,y:32},[r.UISPRITES.PANEL_BM]:{width:16,height:16,x:256,y:32},[r.UISPRITES.PANEL_BR]:{width:16,height:16,x:272,y:32},[r.UISPRITES.PANEL_SL]:{width:16,height:16,x:96,y:32},[r.UISPRITES.PANEL_SM]:{width:16,height:16,x:112,y:32},[r.UISPRITES.PANEL_SR]:{width:16,height:16,x:128,y:32},[r.UISPRITES.PANEL_SS]:{width:16,height:16,x:128,y:64}},e.DARK_PANEL={spritesheet:r.SpriteSheets.UI,topLeft:r.UISPRITES.PANEL_TL,topMiddle:r.UISPRITES.PANEL_TM,topRight:r.UISPRITES.PANEL_TR,middleLeft:r.UISPRITES.PANEL_ML,middleMiddle:r.UISPRITES.PANEL_CENTER,middleRight:r.UISPRITES.PANEL_MR,bottomLeft:r.UISPRITES.PANEL_BL,bottomMiddle:r.UISPRITES.PANEL_BM,bottomRight:r.UISPRITES.PANEL_BR,wideLeft:r.UISPRITES.PANEL_SL,wideMiddle:r.UISPRITES.PANEL_SM,wideRight:r.UISPRITES.PANEL_SR,thinLeft:r.UISPRITES.PANEL_SL,thinMiddle:r.UISPRITES.PANEL_SM,thinight:r.UISPRITES.PANEL_SR,tiny:r.UISPRITES.PANEL_SS}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(14);e.BUTTON_DEFAULT_SPRITES={[r.UISPRITES.BUTTON_DEFAULT_TL]:{width:16,height:16,x:144,y:0},[r.UISPRITES.BUTTON_DEFAULT_TM]:{width:16,height:16,x:160,y:0},[r.UISPRITES.BUTTON_DEFAULT_TR]:{width:16,height:16,x:176,y:0},[r.UISPRITES.BUTTON_DEFAULT_ML]:{width:16,height:16,x:144,y:16},[r.UISPRITES.BUTTON_DEFAULT_MM]:{width:16,height:16,x:160,y:16},[r.UISPRITES.BUTTON_DEFAULT_MR]:{width:16,height:16,x:176,y:16},[r.UISPRITES.BUTTON_DEFAULT_BL]:{width:16,height:16,x:144,y:32},[r.UISPRITES.BUTTON_DEFAULT_BM]:{width:16,height:16,x:160,y:32},[r.UISPRITES.BUTTON_DEFAULT_BR]:{width:16,height:16,x:176,y:32},[r.UISPRITES.BUTTON_DEFAULT_SL]:{width:16,height:16,x:96,y:0},[r.UISPRITES.BUTTON_DEFAULT_SM]:{width:16,height:16,x:112,y:0},[r.UISPRITES.BUTTON_DEFAULT_SR]:{width:16,height:16,x:128,y:0},[r.UISPRITES.BUTTON_DEFAULT_SS]:{width:16,height:16,x:96,y:64}},e.BUTTON_DEFAULT={spritesheet:r.SpriteSheets.UI,topLeft:r.UISPRITES.BUTTON_DEFAULT_TL,topMiddle:r.UISPRITES.BUTTON_DEFAULT_TM,topRight:r.UISPRITES.BUTTON_DEFAULT_TR,middleLeft:r.UISPRITES.BUTTON_DEFAULT_ML,middleMiddle:r.UISPRITES.BUTTON_DEFAULT_MM,middleRight:r.UISPRITES.BUTTON_DEFAULT_MR,bottomLeft:r.UISPRITES.BUTTON_DEFAULT_BL,bottomMiddle:r.UISPRITES.BUTTON_DEFAULT_BM,bottomRight:r.UISPRITES.BUTTON_DEFAULT_BR,wideLeft:r.UISPRITES.BUTTON_DEFAULT_SL,wideMiddle:r.UISPRITES.BUTTON_DEFAULT_SM,wideRight:r.UISPRITES.BUTTON_DEFAULT_SR,thinLeft:r.UISPRITES.BUTTON_DEFAULT_SL,thinMiddle:r.UISPRITES.BUTTON_DEFAULT_SM,thinight:r.UISPRITES.BUTTON_DEFAULT_SR,tiny:r.UISPRITES.BUTTON_DEFAULT_SS}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(14);e.BUTTON_HOVER_SPRITES={[r.UISPRITES.BUTTON_HOVER_TL]:{width:16,height:16,x:288,y:0},[r.UISPRITES.BUTTON_HOVER_TM]:{width:16,height:16,x:304,y:0},[r.UISPRITES.BUTTON_HOVER_TR]:{width:16,height:16,x:320,y:0},[r.UISPRITES.BUTTON_HOVER_ML]:{width:16,height:16,x:288,y:16},[r.UISPRITES.BUTTON_HOVER_MM]:{width:16,height:16,x:304,y:16},[r.UISPRITES.BUTTON_HOVER_MR]:{width:16,height:16,x:320,y:16},[r.UISPRITES.BUTTON_HOVER_BL]:{width:16,height:16,x:288,y:32},[r.UISPRITES.BUTTON_HOVER_BM]:{width:16,height:16,x:304,y:32},[r.UISPRITES.BUTTON_HOVER_BR]:{width:16,height:16,x:320,y:32},[r.UISPRITES.BUTTON_HOVER_SL]:{width:16,height:16,x:96,y:48},[r.UISPRITES.BUTTON_HOVER_SM]:{width:16,height:16,x:112,y:48},[r.UISPRITES.BUTTON_HOVER_SR]:{width:16,height:16,x:128,y:48},[r.UISPRITES.BUTTON_HOVER_SS]:{width:16,height:16,x:144,y:64}},e.BUTTON_HOVER={spritesheet:r.SpriteSheets.UI,topLeft:r.UISPRITES.BUTTON_HOVER_TL,topMiddle:r.UISPRITES.BUTTON_HOVER_TM,topRight:r.UISPRITES.BUTTON_HOVER_TR,middleLeft:r.UISPRITES.BUTTON_HOVER_ML,middleMiddle:r.UISPRITES.BUTTON_HOVER_MM,middleRight:r.UISPRITES.BUTTON_HOVER_MR,bottomLeft:r.UISPRITES.BUTTON_HOVER_BL,bottomMiddle:r.UISPRITES.BUTTON_HOVER_BM,bottomRight:r.UISPRITES.BUTTON_HOVER_BR,wideLeft:r.UISPRITES.BUTTON_HOVER_SL,wideMiddle:r.UISPRITES.BUTTON_HOVER_SM,wideRight:r.UISPRITES.BUTTON_HOVER_SR,thinLeft:r.UISPRITES.BUTTON_HOVER_SL,thinMiddle:r.UISPRITES.BUTTON_HOVER_SM,thinight:r.UISPRITES.BUTTON_HOVER_SR,tiny:r.UISPRITES.BUTTON_HOVER_SS}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(14);e.BUTTON_PRESS_SPRITES={[r.UISPRITES.BUTTON_PRESS_TL]:{width:16,height:16,x:192,y:0},[r.UISPRITES.BUTTON_PRESS_TM]:{width:16,height:16,x:208,y:0},[r.UISPRITES.BUTTON_PRESS_TR]:{width:16,height:16,x:224,y:0},[r.UISPRITES.BUTTON_PRESS_ML]:{width:16,height:16,x:192,y:16},[r.UISPRITES.BUTTON_PRESS_MM]:{width:16,height:16,x:208,y:16},[r.UISPRITES.BUTTON_PRESS_MR]:{width:16,height:16,x:224,y:16},[r.UISPRITES.BUTTON_PRESS_BL]:{width:16,height:16,x:192,y:32},[r.UISPRITES.BUTTON_PRESS_BM]:{width:16,height:16,x:208,y:32},[r.UISPRITES.BUTTON_PRESS_BR]:{width:16,height:16,x:224,y:32},[r.UISPRITES.BUTTON_PRESS_SL]:{width:16,height:16,x:96,y:16},[r.UISPRITES.BUTTON_PRESS_SM]:{width:16,height:16,x:112,y:16},[r.UISPRITES.BUTTON_PRESS_SR]:{width:16,height:16,x:128,y:16},[r.UISPRITES.BUTTON_PRESS_SS]:{width:16,height:16,x:112,y:64}},e.BUTTON_PRESS={spritesheet:r.SpriteSheets.UI,topLeft:r.UISPRITES.BUTTON_PRESS_TL,topMiddle:r.UISPRITES.BUTTON_PRESS_TM,topRight:r.UISPRITES.BUTTON_PRESS_TR,middleLeft:r.UISPRITES.BUTTON_PRESS_ML,middleMiddle:r.UISPRITES.BUTTON_PRESS_MM,middleRight:r.UISPRITES.BUTTON_PRESS_MR,bottomLeft:r.UISPRITES.BUTTON_PRESS_BL,bottomMiddle:r.UISPRITES.BUTTON_PRESS_BM,bottomRight:r.UISPRITES.BUTTON_PRESS_BR,wideLeft:r.UISPRITES.BUTTON_PRESS_SL,wideMiddle:r.UISPRITES.BUTTON_PRESS_SM,wideRight:r.UISPRITES.BUTTON_PRESS_SR,thinLeft:r.UISPRITES.BUTTON_PRESS_SL,thinMiddle:r.UISPRITES.BUTTON_PRESS_SM,thinight:r.UISPRITES.BUTTON_PRESS_SR,tiny:r.UISPRITES.BUTTON_PRESS_SS}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(37);e.FadeComponent=t=>{let e=t.shouldShow?1:0;void 0!==t.startingShown&&(e=t.startingShown?1:0);const[n,o]=r.useState(e);return r.useEffect(()=>{const e=i.animation(o).speed(t.shouldShow?t.fadeInSpeed:t.fadeOutSpeed).tween(i.interpolate(n,t.shouldShow?1:0)).driven().start();return()=>{e.stop()}},[t.shouldShow]),0===n?r.createElement(r.Fragment,null):r.createElement("div",{style:{opacity:n,width:"100%",height:"100%",position:"absolute"}},t.children)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(84);e.IntervalDriver=class{drive(t){return this.maybeStopTimer(),this.intervalId=setInterval(t,r.ANIMATION_RESOLUTION),this}undrive(){this.maybeStopTimer()}maybeStopTimer(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=void 0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ShadowComponentStyle=()=>({backgroundColor:"rgba(0, 0, 0, 0.8)",boxShadow:"0 0 20px 20px rgba(0, 0, 0, 0.8)"})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.STATE_TRANSITION="STATE_TRANSITION",t.ENTITY_CREATED="ENTITY_CREATED",t.ENTITY_DELETED="ENTITY_DELETED"}(e.EntityEventType||(e.EntityEventType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(t,e,n,r){if(t.timeSinceLastPlayed=Date.now(),n<0)return;const i=new StereoPannerNode(e,{pan:r}),o=e.createGain();o.gain.setValueAtTime(n,e.currentTime);const u=e.createBufferSource();return u.buffer=t.buffer,u.connect(i).connect(o).connect(e.destination),u.start(0),u}e.AudioService=class{constructor(t){this.context=t,window.AudioContext=window.AudioContext}attachCamera(t){this.camera=t}play(t,e=1,n=0){if(this.canPlay(t))return r(t,this.context,e,n)}play3D(t,e,n=1){if(!this.camera||!this.canPlay(t))return;const i=e[0]-this.camera.position.x,o=e[1]-this.camera.position.y,u=Math.sqrt(i*i+o*o),a=Math.min(n/(1*u),1),s=Math.sin(Math.atan2(i,-o)-this.camera.angle);return r(t,this.context,a,s)}getContext(){return this.context}canPlay(t){if(void 0===t.timeSinceLastPlayed)return!0;return Date.now()-t.timeSinceLastPlayed>=100}},e.loadSound=function(t,e){return new Promise(n=>{const r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){e.decodeAudioData(r.response,t=>{n({buffer:t})},t=>console.log(t))},r.send()})},e.playSound=r},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.ROOT="ROOT",t.WORLD="WORLD",t.UI="UI",t.INPUT="INPUT"}(r=e.GameEventSource||(e.GameEventSource={}));e.EventRouter=class{constructor(){this.listeners={[r.ROOT]:()=>{},[r.WORLD]:()=>{},[r.UI]:()=>{},[r.INPUT]:()=>{}}}attachEventListener(t,e){this.listeners[t]=e}routeEvent(t,e){Object.keys(this.listeners).forEach(n=>{n!==t&&this.listeners[n](e,t)})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(173),i=n(174),o=n(175),u=n(176),a=n(108),s=n(177),c=n(88);e.createMacator=function(t,e,n){return new c.Entity(t,new s.SpriteRenderComponent,new i.CrabletLogicComponent(e,n),new a.PhysicsComponent,new u.InteractionComponent)},e.createEgg=function(t){return new c.Entity(t,new s.SpriteRenderComponent,new r.AnimationStateComponent,new a.PhysicsComponent,new o.EggLogicComponent)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ActionDelay=class{constructor(t){this.delay=t}canAction(){if(!this.lastTime)return!0;return Date.now()-this.lastTime>=this.delay}onAction(){this.lastTime=Date.now()}updateDelay(t){this.delay=t}getProgress(){if(!this.lastTime)return 1;const t=Date.now()-this.lastTime;return Math.min(t/this.delay,1)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(28);class i extends r.EntityComponent{init(t){return{}}update(t){}onEvent(t,e){}onObservedEvent(t,e){}onCreate(t){}onStateTransition(t,e,n){e.collides||!0!==n.collides||t.getServiceLocator().getPhysicsService().registerPhysicsEntity(t),!0!==e.collides||n.collides||t.getServiceLocator().getPhysicsService().unregisterPhysicsEntity(t)}onDestroy(t){t.getServiceLocator().getPhysicsService().unregisterPhysicsEntity(t)}}e.PhysicsComponent=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setFPSProportion=function(t){o().setProportion(t)},e.fpsNorm=function(t){return o().norm(t)},e.logFPS=function(t){o().logFPS(t)};class r{constructor(){this.proportion=1,this.framesSinceLastLog=0,this.previousLogTime=Date.now()}setProportion(t){this.proportion=t}norm(t){return t*this.proportion}logFPS(t){this.framesSinceLastLog++,Date.now()-this.previousLogTime>=1e3&&(t(this.framesSinceLastLog),this.framesSinceLastLog=0,this.previousLogTime=Date.now())}}let i;const o=()=>(i||(i=new r),i)},function(t,e,n){"use strict";n.r(e),n.d(e,"Observable",(function(){return r.a})),n.d(e,"ConnectableObservable",(function(){return i.a})),n.d(e,"GroupedObservable",(function(){return o.a})),n.d(e,"observable",(function(){return u.a})),n.d(e,"Subject",(function(){return a.a})),n.d(e,"BehaviorSubject",(function(){return s.a})),n.d(e,"ReplaySubject",(function(){return c.a})),n.d(e,"AsyncSubject",(function(){return l.a})),n.d(e,"asapScheduler",(function(){return f.a})),n.d(e,"asyncScheduler",(function(){return h.a})),n.d(e,"queueScheduler",(function(){return d.a})),n.d(e,"animationFrameScheduler",(function(){return b})),n.d(e,"VirtualTimeScheduler",(function(){return g})),n.d(e,"VirtualAction",(function(){return S})),n.d(e,"Scheduler",(function(){return T.a})),n.d(e,"Subscription",(function(){return x.a})),n.d(e,"Subscriber",(function(){return E.a})),n.d(e,"Notification",(function(){return _.a})),n.d(e,"NotificationKind",(function(){return _.b})),n.d(e,"pipe",(function(){return w.a})),n.d(e,"noop",(function(){return M.a})),n.d(e,"identity",(function(){return R.a})),n.d(e,"isObservable",(function(){return A})),n.d(e,"ArgumentOutOfRangeError",(function(){return O.a})),n.d(e,"EmptyError",(function(){return P.a})),n.d(e,"ObjectUnsubscribedError",(function(){return I.a})),n.d(e,"UnsubscriptionError",(function(){return C.a})),n.d(e,"TimeoutError",(function(){return L.a})),n.d(e,"bindCallback",(function(){return j})),n.d(e,"bindNodeCallback",(function(){return V})),n.d(e,"combineLatest",(function(){return G.b})),n.d(e,"concat",(function(){return Y.a})),n.d(e,"defer",(function(){return K.a})),n.d(e,"empty",(function(){return q.b})),n.d(e,"forkJoin",(function(){return X})),n.d(e,"from",(function(){return Q.a})),n.d(e,"fromEvent",(function(){return tt})),n.d(e,"fromEventPattern",(function(){return et})),n.d(e,"generate",(function(){return nt})),n.d(e,"iif",(function(){return it})),n.d(e,"interval",(function(){return ut})),n.d(e,"merge",(function(){return st.a})),n.d(e,"never",(function(){return lt})),n.d(e,"of",(function(){return ft.a})),n.d(e,"onErrorResumeNext",(function(){return ht})),n.d(e,"pairs",(function(){return dt})),n.d(e,"partition",(function(){return bt})),n.d(e,"race",(function(){return gt.a})),n.d(e,"range",(function(){return St})),n.d(e,"throwError",(function(){return xt.a})),n.d(e,"timer",(function(){return Et.a})),n.d(e,"using",(function(){return _t})),n.d(e,"zip",(function(){return wt.b})),n.d(e,"scheduled",(function(){return Mt.a})),n.d(e,"EMPTY",(function(){return q.a})),n.d(e,"NEVER",(function(){return ct})),n.d(e,"config",(function(){return Rt.a}));var r=n(2),i=n(67),o=n(59),u=n(22),a=n(6),s=n(69),c=n(49),l=n(32),f=n(55),h=n(8),d=n(73),p=n(0),v=n(33),y=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return p.a(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(v.a),m=n(30),b=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(m.a))(y),g=function(t){function e(e,n){void 0===e&&(e=S),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this,e,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return p.a(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,r=this.maxFrames;(e=n[0])&&e.delay<=r&&(n.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(m.a),S=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1);var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.index=r,i.active=!0,i.index=e.index=r,i}return p.a(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(v.a),T=n(58),x=n(5),E=n(1),_=n(19),w=n(40),M=n(21),R=n(17);function A(t){return!!t&&(t instanceof r.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var O=n(25),P=n(29),I=n(23),C=n(42),L=n(71),N=n(9),k=n(53),U=n(7),D=n(10);function j(t,e,n){if(e){if(!Object(D.a)(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return j(t,n).apply(void 0,r).pipe(Object(N.a)((function(t){return Object(U.a)(t)?e.apply(void 0,t):e(t)})))};n=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o,u=this,a={context:u,subject:o,callbackFunc:t,scheduler:n};return new r.a((function(r){if(n){var i={args:e,subscriber:r,params:a};return n.schedule(B,0,i)}if(!o){o=new l.a;try{t.apply(u,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.next(t.length<=1?t[0]:t),o.complete()}]))}catch(t){Object(k.a)(o)?o.error(t):console.warn(t)}}return o.subscribe(r)}))}}function B(t){var e=this,n=t.args,r=t.subscriber,i=t.params,o=i.callbackFunc,u=i.context,a=i.scheduler,s=i.subject;if(!s){s=i.subject=new l.a;try{o.apply(u,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length<=1?t[0]:t;e.add(a.schedule(F,0,{value:r,subject:s}))}]))}catch(t){s.error(t)}}this.add(s.subscribe(r))}function F(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function V(t,e,n){if(e){if(!Object(D.a)(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return V(t,n).apply(void 0,r).pipe(Object(N.a)((function(t){return Object(U.a)(t)?e.apply(void 0,t):e(t)})))};n=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new r.a((function(r){var i=o.context,u=o.subject;if(n)return n.schedule(z,0,{params:o,subscriber:r,context:i});if(!u){u=o.subject=new l.a;try{t.apply(i,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.shift();n?u.error(n):(u.next(t.length<=1?t[0]:t),u.complete())}]))}catch(t){Object(k.a)(u)?u.error(t):console.warn(t)}}return u.subscribe(r)}))}}function z(t){var e=this,n=t.params,r=t.subscriber,i=t.context,o=n.callbackFunc,u=n.args,a=n.scheduler,s=n.subject;if(!s){s=n.subject=new l.a;try{o.apply(i,u.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.shift();if(r)e.add(a.schedule(H,0,{err:r,subject:s}));else{var i=t.length<=1?t[0]:t;e.add(a.schedule(W,0,{value:i,subject:s}))}}]))}catch(t){this.add(a.schedule(H,0,{err:t,subject:s}))}}this.add(s.subscribe(r))}function W(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function H(t){var e=t.err;t.subject.error(e)}var G=n(45),Y=n(35),K=n(50),q=n(12),$=n(52),Q=n(13);function X(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var n=t[0];if(Object(U.a)(n))return Z(n,null);if(Object($.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return Z(r.map((function(t){return n[t]})),r)}}if("function"==typeof t[t.length-1]){var i=t.pop();return Z(t=1===t.length&&Object(U.a)(t[0])?t[0]:t,null).pipe(Object(N.a)((function(t){return i.apply(void 0,t)})))}return Z(t,null)}function Z(t,e){return new r.a((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,u=0,a=function(a){var s=Object(Q.a)(t[a]),c=!1;n.add(s.subscribe({next:function(t){c||(c=!0,u++),i[a]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(u===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},s=0;s<r;s++)a(s);else n.complete()}))}var J=n(26);function tt(t,e,n,i){return Object(J.a)(n)&&(i=n,n=void 0),i?tt(t,e,n).pipe(Object(N.a)((function(t){return Object(U.a)(t)?i.apply(void 0,t):i(t)}))):new r.a((function(r){!function t(e,n,r,i,o){var u;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var a=e;e.addEventListener(n,r,o),u=function(){return a.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var s=e;e.on(n,r),u=function(){return s.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),u=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)t(e[l],n,r,i,o)}i.add(u)}(t,e,(function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}),r,n)}))}function et(t,e,n){return n?et(t,e).pipe(Object(N.a)((function(t){return Object(U.a)(t)?n.apply(void 0,t):n(t)}))):new r.a((function(n){var r,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{r=t(i)}catch(t){return void n.error(t)}if(Object(J.a)(e))return function(){return e(i,r)}}))}function nt(t,e,n,i,o){var u,a;if(1==arguments.length){var s=t;a=s.initialState,e=s.condition,n=s.iterate,u=s.resultSelector||R.a,o=s.scheduler}else void 0===i||Object(D.a)(i)?(a=t,u=R.a,o=i):(a=t,u=i);return new r.a((function(t){var r=a;if(o)return o.schedule(rt,0,{subscriber:t,iterate:n,condition:e,resultSelector:u,state:r});for(;;){if(e){var i=void 0;try{i=e(r)}catch(e){return void t.error(e)}if(!i){t.complete();break}}var s=void 0;try{s=u(r)}catch(e){return void t.error(e)}if(t.next(s),t.closed)break;try{r=n(r)}catch(e){return void t.error(e)}}}))}function rt(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function it(t,e,n){return void 0===e&&(e=q.a),void 0===n&&(n=q.a),Object(K.a)((function(){return t()?e:n}))}var ot=n(34);function ut(t,e){return void 0===t&&(t=0),void 0===e&&(e=h.a),(!Object(ot.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=h.a),new r.a((function(n){return n.add(e.schedule(at,t,{subscriber:n,counter:0,period:t})),n}))}function at(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var st=n(66),ct=new r.a(M.a);function lt(){return ct}var ft=n(38);function ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return q.a;var n=t[0],i=t.slice(1);return 1===t.length&&Object(U.a)(n)?ht.apply(void 0,n):new r.a((function(t){var e=function(){return t.add(ht.apply(void 0,i).subscribe(t))};return Object(Q.a)(n).subscribe({next:function(e){t.next(e)},error:e,complete:e})}))}function dt(t,e){return e?new r.a((function(n){var r=Object.keys(t),i=new x.a;return i.add(e.schedule(pt,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i})):new r.a((function(e){for(var n=Object.keys(t),r=0;r<n.length&&!e.closed;r++){var i=n[r];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()}))}function pt(t){var e=t.keys,n=t.index,r=t.subscriber,i=t.subscription,o=t.obj;if(!r.closed)if(n<e.length){var u=e[n];r.next([u,o[u]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var vt=n(78),yt=n(43),mt=n(18);function bt(t,e,n){return[Object(mt.a)(e,n)(new r.a(Object(yt.a)(t))),Object(mt.a)(Object(vt.a)(e,n))(new r.a(Object(yt.a)(t)))]}var gt=n(70);function St(t,e,n){return void 0===t&&(t=0),new r.a((function(r){void 0===e&&(e=t,t=0);var i=0,o=t;if(n)return n.schedule(Tt,0,{index:i,count:e,start:t,subscriber:r});for(;;){if(i++>=e){r.complete();break}if(r.next(o++),r.closed)break}}))}function Tt(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;n>=r?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}var xt=n(47),Et=n(64);function _t(t,e){return new r.a((function(n){var r,i;try{r=t()}catch(t){return void n.error(t)}try{i=e(r)}catch(t){return void n.error(t)}var o=(i?Object(Q.a)(i):q.a).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))}var wt=n(51),Mt=n(72),Rt=n(16)},function(t,e,n){"use strict";n.r(e),n.d(e,"glMatrix",(function(){return r})),n.d(e,"mat2",(function(){return i})),n.d(e,"mat2d",(function(){return o})),n.d(e,"mat3",(function(){return u})),n.d(e,"mat4",(function(){return a})),n.d(e,"quat",(function(){return l})),n.d(e,"quat2",(function(){return f})),n.d(e,"vec2",(function(){return h})),n.d(e,"vec3",(function(){return s})),n.d(e,"vec4",(function(){return c}));var r={};n.r(r),n.d(r,"EPSILON",(function(){return d})),n.d(r,"ARRAY_TYPE",(function(){return p})),n.d(r,"RANDOM",(function(){return v})),n.d(r,"setMatrixArrayType",(function(){return y})),n.d(r,"toRadian",(function(){return b})),n.d(r,"equals",(function(){return g}));var i={};n.r(i),n.d(i,"create",(function(){return S})),n.d(i,"clone",(function(){return T})),n.d(i,"copy",(function(){return x})),n.d(i,"identity",(function(){return E})),n.d(i,"fromValues",(function(){return _})),n.d(i,"set",(function(){return w})),n.d(i,"transpose",(function(){return M})),n.d(i,"invert",(function(){return R})),n.d(i,"adjoint",(function(){return A})),n.d(i,"determinant",(function(){return O})),n.d(i,"multiply",(function(){return P})),n.d(i,"rotate",(function(){return I})),n.d(i,"scale",(function(){return C})),n.d(i,"fromRotation",(function(){return L})),n.d(i,"fromScaling",(function(){return N})),n.d(i,"str",(function(){return k})),n.d(i,"frob",(function(){return U})),n.d(i,"LDU",(function(){return D})),n.d(i,"add",(function(){return j})),n.d(i,"subtract",(function(){return B})),n.d(i,"exactEquals",(function(){return F})),n.d(i,"equals",(function(){return V})),n.d(i,"multiplyScalar",(function(){return z})),n.d(i,"multiplyScalarAndAdd",(function(){return W})),n.d(i,"mul",(function(){return H})),n.d(i,"sub",(function(){return G}));var o={};n.r(o),n.d(o,"create",(function(){return Y})),n.d(o,"clone",(function(){return K})),n.d(o,"copy",(function(){return q})),n.d(o,"identity",(function(){return $})),n.d(o,"fromValues",(function(){return Q})),n.d(o,"set",(function(){return X})),n.d(o,"invert",(function(){return Z})),n.d(o,"determinant",(function(){return J})),n.d(o,"multiply",(function(){return tt})),n.d(o,"rotate",(function(){return et})),n.d(o,"scale",(function(){return nt})),n.d(o,"translate",(function(){return rt})),n.d(o,"fromRotation",(function(){return it})),n.d(o,"fromScaling",(function(){return ot})),n.d(o,"fromTranslation",(function(){return ut})),n.d(o,"str",(function(){return at})),n.d(o,"frob",(function(){return st})),n.d(o,"add",(function(){return ct})),n.d(o,"subtract",(function(){return lt})),n.d(o,"multiplyScalar",(function(){return ft})),n.d(o,"multiplyScalarAndAdd",(function(){return ht})),n.d(o,"exactEquals",(function(){return dt})),n.d(o,"equals",(function(){return pt})),n.d(o,"mul",(function(){return vt})),n.d(o,"sub",(function(){return yt}));var u={};n.r(u),n.d(u,"create",(function(){return mt})),n.d(u,"fromMat4",(function(){return bt})),n.d(u,"clone",(function(){return gt})),n.d(u,"copy",(function(){return St})),n.d(u,"fromValues",(function(){return Tt})),n.d(u,"set",(function(){return xt})),n.d(u,"identity",(function(){return Et})),n.d(u,"transpose",(function(){return _t})),n.d(u,"invert",(function(){return wt})),n.d(u,"adjoint",(function(){return Mt})),n.d(u,"determinant",(function(){return Rt})),n.d(u,"multiply",(function(){return At})),n.d(u,"translate",(function(){return Ot})),n.d(u,"rotate",(function(){return Pt})),n.d(u,"scale",(function(){return It})),n.d(u,"fromTranslation",(function(){return Ct})),n.d(u,"fromRotation",(function(){return Lt})),n.d(u,"fromScaling",(function(){return Nt})),n.d(u,"fromMat2d",(function(){return kt})),n.d(u,"fromQuat",(function(){return Ut})),n.d(u,"normalFromMat4",(function(){return Dt})),n.d(u,"projection",(function(){return jt})),n.d(u,"str",(function(){return Bt})),n.d(u,"frob",(function(){return Ft})),n.d(u,"add",(function(){return Vt})),n.d(u,"subtract",(function(){return zt})),n.d(u,"multiplyScalar",(function(){return Wt})),n.d(u,"multiplyScalarAndAdd",(function(){return Ht})),n.d(u,"exactEquals",(function(){return Gt})),n.d(u,"equals",(function(){return Yt})),n.d(u,"mul",(function(){return Kt})),n.d(u,"sub",(function(){return qt}));var a={};n.r(a),n.d(a,"create",(function(){return $t})),n.d(a,"clone",(function(){return Qt})),n.d(a,"copy",(function(){return Xt})),n.d(a,"fromValues",(function(){return Zt})),n.d(a,"set",(function(){return Jt})),n.d(a,"identity",(function(){return te})),n.d(a,"transpose",(function(){return ee})),n.d(a,"invert",(function(){return ne})),n.d(a,"adjoint",(function(){return re})),n.d(a,"determinant",(function(){return ie})),n.d(a,"multiply",(function(){return oe})),n.d(a,"translate",(function(){return ue})),n.d(a,"scale",(function(){return ae})),n.d(a,"rotate",(function(){return se})),n.d(a,"rotateX",(function(){return ce})),n.d(a,"rotateY",(function(){return le})),n.d(a,"rotateZ",(function(){return fe})),n.d(a,"fromTranslation",(function(){return he})),n.d(a,"fromScaling",(function(){return de})),n.d(a,"fromRotation",(function(){return pe})),n.d(a,"fromXRotation",(function(){return ve})),n.d(a,"fromYRotation",(function(){return ye})),n.d(a,"fromZRotation",(function(){return me})),n.d(a,"fromRotationTranslation",(function(){return be})),n.d(a,"fromQuat2",(function(){return ge})),n.d(a,"getTranslation",(function(){return Se})),n.d(a,"getScaling",(function(){return Te})),n.d(a,"getRotation",(function(){return xe})),n.d(a,"fromRotationTranslationScale",(function(){return Ee})),n.d(a,"fromRotationTranslationScaleOrigin",(function(){return _e})),n.d(a,"fromQuat",(function(){return we})),n.d(a,"frustum",(function(){return Me})),n.d(a,"perspective",(function(){return Re})),n.d(a,"perspectiveFromFieldOfView",(function(){return Ae})),n.d(a,"ortho",(function(){return Oe})),n.d(a,"lookAt",(function(){return Pe})),n.d(a,"targetTo",(function(){return Ie})),n.d(a,"str",(function(){return Ce})),n.d(a,"frob",(function(){return Le})),n.d(a,"add",(function(){return Ne})),n.d(a,"subtract",(function(){return ke})),n.d(a,"multiplyScalar",(function(){return Ue})),n.d(a,"multiplyScalarAndAdd",(function(){return De})),n.d(a,"exactEquals",(function(){return je})),n.d(a,"equals",(function(){return Be})),n.d(a,"mul",(function(){return Fe})),n.d(a,"sub",(function(){return Ve}));var s={};n.r(s),n.d(s,"create",(function(){return ze})),n.d(s,"clone",(function(){return We})),n.d(s,"length",(function(){return He})),n.d(s,"fromValues",(function(){return Ge})),n.d(s,"copy",(function(){return Ye})),n.d(s,"set",(function(){return Ke})),n.d(s,"add",(function(){return qe})),n.d(s,"subtract",(function(){return $e})),n.d(s,"multiply",(function(){return Qe})),n.d(s,"divide",(function(){return Xe})),n.d(s,"ceil",(function(){return Ze})),n.d(s,"floor",(function(){return Je})),n.d(s,"min",(function(){return tn})),n.d(s,"max",(function(){return en})),n.d(s,"round",(function(){return nn})),n.d(s,"scale",(function(){return rn})),n.d(s,"scaleAndAdd",(function(){return on})),n.d(s,"distance",(function(){return un})),n.d(s,"squaredDistance",(function(){return an})),n.d(s,"squaredLength",(function(){return sn})),n.d(s,"negate",(function(){return cn})),n.d(s,"inverse",(function(){return ln})),n.d(s,"normalize",(function(){return fn})),n.d(s,"dot",(function(){return hn})),n.d(s,"cross",(function(){return dn})),n.d(s,"lerp",(function(){return pn})),n.d(s,"hermite",(function(){return vn})),n.d(s,"bezier",(function(){return yn})),n.d(s,"random",(function(){return mn})),n.d(s,"transformMat4",(function(){return bn})),n.d(s,"transformMat3",(function(){return gn})),n.d(s,"transformQuat",(function(){return Sn})),n.d(s,"rotateX",(function(){return Tn})),n.d(s,"rotateY",(function(){return xn})),n.d(s,"rotateZ",(function(){return En})),n.d(s,"angle",(function(){return _n})),n.d(s,"zero",(function(){return wn})),n.d(s,"str",(function(){return Mn})),n.d(s,"exactEquals",(function(){return Rn})),n.d(s,"equals",(function(){return An})),n.d(s,"sub",(function(){return Pn})),n.d(s,"mul",(function(){return In})),n.d(s,"div",(function(){return Cn})),n.d(s,"dist",(function(){return Ln})),n.d(s,"sqrDist",(function(){return Nn})),n.d(s,"len",(function(){return kn})),n.d(s,"sqrLen",(function(){return Un})),n.d(s,"forEach",(function(){return Dn}));var c={};n.r(c),n.d(c,"create",(function(){return jn})),n.d(c,"clone",(function(){return Bn})),n.d(c,"fromValues",(function(){return Fn})),n.d(c,"copy",(function(){return Vn})),n.d(c,"set",(function(){return zn})),n.d(c,"add",(function(){return Wn})),n.d(c,"subtract",(function(){return Hn})),n.d(c,"multiply",(function(){return Gn})),n.d(c,"divide",(function(){return Yn})),n.d(c,"ceil",(function(){return Kn})),n.d(c,"floor",(function(){return qn})),n.d(c,"min",(function(){return $n})),n.d(c,"max",(function(){return Qn})),n.d(c,"round",(function(){return Xn})),n.d(c,"scale",(function(){return Zn})),n.d(c,"scaleAndAdd",(function(){return Jn})),n.d(c,"distance",(function(){return tr})),n.d(c,"squaredDistance",(function(){return er})),n.d(c,"length",(function(){return nr})),n.d(c,"squaredLength",(function(){return rr})),n.d(c,"negate",(function(){return ir})),n.d(c,"inverse",(function(){return or})),n.d(c,"normalize",(function(){return ur})),n.d(c,"dot",(function(){return ar})),n.d(c,"cross",(function(){return sr})),n.d(c,"lerp",(function(){return cr})),n.d(c,"random",(function(){return lr})),n.d(c,"transformMat4",(function(){return fr})),n.d(c,"transformQuat",(function(){return hr})),n.d(c,"zero",(function(){return dr})),n.d(c,"str",(function(){return pr})),n.d(c,"exactEquals",(function(){return vr})),n.d(c,"equals",(function(){return yr})),n.d(c,"sub",(function(){return mr})),n.d(c,"mul",(function(){return br})),n.d(c,"div",(function(){return gr})),n.d(c,"dist",(function(){return Sr})),n.d(c,"sqrDist",(function(){return Tr})),n.d(c,"len",(function(){return xr})),n.d(c,"sqrLen",(function(){return Er})),n.d(c,"forEach",(function(){return _r}));var l={};n.r(l),n.d(l,"create",(function(){return wr})),n.d(l,"identity",(function(){return Mr})),n.d(l,"setAxisAngle",(function(){return Rr})),n.d(l,"getAxisAngle",(function(){return Ar})),n.d(l,"getAngle",(function(){return Or})),n.d(l,"multiply",(function(){return Pr})),n.d(l,"rotateX",(function(){return Ir})),n.d(l,"rotateY",(function(){return Cr})),n.d(l,"rotateZ",(function(){return Lr})),n.d(l,"calculateW",(function(){return Nr})),n.d(l,"exp",(function(){return kr})),n.d(l,"ln",(function(){return Ur})),n.d(l,"pow",(function(){return Dr})),n.d(l,"slerp",(function(){return jr})),n.d(l,"random",(function(){return Br})),n.d(l,"invert",(function(){return Fr})),n.d(l,"conjugate",(function(){return Vr})),n.d(l,"fromMat3",(function(){return zr})),n.d(l,"fromEuler",(function(){return Wr})),n.d(l,"str",(function(){return Hr})),n.d(l,"clone",(function(){return Xr})),n.d(l,"fromValues",(function(){return Zr})),n.d(l,"copy",(function(){return Jr})),n.d(l,"set",(function(){return ti})),n.d(l,"add",(function(){return ei})),n.d(l,"mul",(function(){return ni})),n.d(l,"scale",(function(){return ri})),n.d(l,"dot",(function(){return ii})),n.d(l,"lerp",(function(){return oi})),n.d(l,"length",(function(){return ui})),n.d(l,"len",(function(){return ai})),n.d(l,"squaredLength",(function(){return si})),n.d(l,"sqrLen",(function(){return ci})),n.d(l,"normalize",(function(){return li})),n.d(l,"exactEquals",(function(){return fi})),n.d(l,"equals",(function(){return hi})),n.d(l,"rotationTo",(function(){return di})),n.d(l,"sqlerp",(function(){return pi})),n.d(l,"setAxes",(function(){return vi}));var f={};n.r(f),n.d(f,"create",(function(){return yi})),n.d(f,"clone",(function(){return mi})),n.d(f,"fromValues",(function(){return bi})),n.d(f,"fromRotationTranslationValues",(function(){return gi})),n.d(f,"fromRotationTranslation",(function(){return Si})),n.d(f,"fromTranslation",(function(){return Ti})),n.d(f,"fromRotation",(function(){return xi})),n.d(f,"fromMat4",(function(){return Ei})),n.d(f,"copy",(function(){return _i})),n.d(f,"identity",(function(){return wi})),n.d(f,"set",(function(){return Mi})),n.d(f,"getReal",(function(){return Ri})),n.d(f,"getDual",(function(){return Ai})),n.d(f,"setReal",(function(){return Oi})),n.d(f,"setDual",(function(){return Pi})),n.d(f,"getTranslation",(function(){return Ii})),n.d(f,"translate",(function(){return Ci})),n.d(f,"rotateX",(function(){return Li})),n.d(f,"rotateY",(function(){return Ni})),n.d(f,"rotateZ",(function(){return ki})),n.d(f,"rotateByQuatAppend",(function(){return Ui})),n.d(f,"rotateByQuatPrepend",(function(){return Di})),n.d(f,"rotateAroundAxis",(function(){return ji})),n.d(f,"add",(function(){return Bi})),n.d(f,"multiply",(function(){return Fi})),n.d(f,"mul",(function(){return Vi})),n.d(f,"scale",(function(){return zi})),n.d(f,"dot",(function(){return Wi})),n.d(f,"lerp",(function(){return Hi})),n.d(f,"invert",(function(){return Gi})),n.d(f,"conjugate",(function(){return Yi})),n.d(f,"length",(function(){return Ki})),n.d(f,"len",(function(){return qi})),n.d(f,"squaredLength",(function(){return $i})),n.d(f,"sqrLen",(function(){return Qi})),n.d(f,"normalize",(function(){return Xi})),n.d(f,"str",(function(){return Zi})),n.d(f,"exactEquals",(function(){return Ji})),n.d(f,"equals",(function(){return to}));var h={};n.r(h),n.d(h,"create",(function(){return eo})),n.d(h,"clone",(function(){return no})),n.d(h,"fromValues",(function(){return ro})),n.d(h,"copy",(function(){return io})),n.d(h,"set",(function(){return oo})),n.d(h,"add",(function(){return uo})),n.d(h,"subtract",(function(){return ao})),n.d(h,"multiply",(function(){return so})),n.d(h,"divide",(function(){return co})),n.d(h,"ceil",(function(){return lo})),n.d(h,"floor",(function(){return fo})),n.d(h,"min",(function(){return ho})),n.d(h,"max",(function(){return po})),n.d(h,"round",(function(){return vo})),n.d(h,"scale",(function(){return yo})),n.d(h,"scaleAndAdd",(function(){return mo})),n.d(h,"distance",(function(){return bo})),n.d(h,"squaredDistance",(function(){return go})),n.d(h,"length",(function(){return So})),n.d(h,"squaredLength",(function(){return To})),n.d(h,"negate",(function(){return xo})),n.d(h,"inverse",(function(){return Eo})),n.d(h,"normalize",(function(){return _o})),n.d(h,"dot",(function(){return wo})),n.d(h,"cross",(function(){return Mo})),n.d(h,"lerp",(function(){return Ro})),n.d(h,"random",(function(){return Ao})),n.d(h,"transformMat2",(function(){return Oo})),n.d(h,"transformMat2d",(function(){return Po})),n.d(h,"transformMat3",(function(){return Io})),n.d(h,"transformMat4",(function(){return Co})),n.d(h,"rotate",(function(){return Lo})),n.d(h,"angle",(function(){return No})),n.d(h,"zero",(function(){return ko})),n.d(h,"str",(function(){return Uo})),n.d(h,"exactEquals",(function(){return Do})),n.d(h,"equals",(function(){return jo})),n.d(h,"len",(function(){return Bo})),n.d(h,"sub",(function(){return Fo})),n.d(h,"mul",(function(){return Vo})),n.d(h,"div",(function(){return zo})),n.d(h,"dist",(function(){return Wo})),n.d(h,"sqrDist",(function(){return Ho})),n.d(h,"sqrLen",(function(){return Go})),n.d(h,"forEach",(function(){return Yo}));var d=1e-6,p="undefined"!=typeof Float32Array?Float32Array:Array,v=Math.random;function y(t){p=t}var m=Math.PI/180;function b(t){return t*m}function g(t,e){return Math.abs(t-e)<=d*Math.max(1,Math.abs(t),Math.abs(e))}function S(){var t=new p(4);return p!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function T(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function x(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function E(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function _(t,e,n,r){var i=new p(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function w(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function M(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function R(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],u=n*o-i*r;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t):null}function A(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t}function O(t){return t[0]*t[3]-t[2]*t[1]}function P(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=n[0],s=n[1],c=n[2],l=n[3];return t[0]=r*a+o*s,t[1]=i*a+u*s,t[2]=r*c+o*l,t[3]=i*c+u*l,t}function I(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*a,t[1]=i*s+u*a,t[2]=r*-a+o*s,t[3]=i*-a+u*s,t}function C(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=n[0],s=n[1];return t[0]=r*a,t[1]=i*a,t[2]=o*s,t[3]=u*s,t}function L(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t}function N(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function k(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function U(t){return Math.hypot(t[0],t[1],t[2],t[3])}function D(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]}function j(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function B(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function F(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function V(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],u=e[0],a=e[1],s=e[2],c=e[3];return Math.abs(n-u)<=d*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=d*Math.max(1,Math.abs(o),Math.abs(c))}function z(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function W(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var H=P,G=B;function Y(){var t=new p(6);return p!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function K(t){var e=new p(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function q(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function $(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Q(t,e,n,r,i,o){var u=new p(6);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=i,u[5]=o,u}function X(t,e,n,r,i,o,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=u,t}function Z(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=n*o-r*i;return s?(s=1/s,t[0]=o*s,t[1]=-r*s,t[2]=-i*s,t[3]=n*s,t[4]=(i*a-o*u)*s,t[5]=(r*u-n*a)*s,t):null}function J(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=n[0],l=n[1],f=n[2],h=n[3],d=n[4],p=n[5];return t[0]=r*c+o*l,t[1]=i*c+u*l,t[2]=r*f+o*h,t[3]=i*f+u*h,t[4]=r*d+o*p+a,t[5]=i*d+u*p+s,t}function et(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*c,t[1]=i*l+u*c,t[2]=r*-c+o*l,t[3]=i*-c+u*l,t[4]=a,t[5]=s,t}function nt(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=n[0],l=n[1];return t[0]=r*c,t[1]=i*c,t[2]=o*l,t[3]=u*l,t[4]=a,t[5]=s,t}function rt(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=n[0],l=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=u,t[4]=r*c+o*l+a,t[5]=i*c+u*l+s,t}function it(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function ot(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function ut(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function at(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function st(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function ct(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function lt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function ft(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function ht(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function dt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function pt(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],u=t[4],a=t[5],s=e[0],c=e[1],l=e[2],f=e[3],h=e[4],p=e[5];return Math.abs(n-s)<=d*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-c)<=d*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-l)<=d*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-f)<=d*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-h)<=d*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(a-p)<=d*Math.max(1,Math.abs(a),Math.abs(p))}var vt=tt,yt=lt;function mt(){var t=new p(9);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function bt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function gt(t){var e=new p(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function St(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Tt(t,e,n,r,i,o,u,a,s){var c=new p(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=u,c[7]=a,c[8]=s,c}function xt(t,e,n,r,i,o,u,a,s,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=u,t[6]=a,t[7]=s,t[8]=c,t}function Et(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function _t(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function wt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],c=e[7],l=e[8],f=l*u-a*c,h=-l*o+a*s,d=c*o-u*s,p=n*f+r*h+i*d;return p?(p=1/p,t[0]=f*p,t[1]=(-l*r+i*c)*p,t[2]=(a*r-i*u)*p,t[3]=h*p,t[4]=(l*n-i*s)*p,t[5]=(-a*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*s)*p,t[8]=(u*n-r*o)*p,t):null}function Mt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],c=e[7],l=e[8];return t[0]=u*l-a*c,t[1]=i*c-r*l,t[2]=r*a-i*u,t[3]=a*s-o*l,t[4]=n*l-i*s,t[5]=i*o-n*a,t[6]=o*c-u*s,t[7]=r*s-n*c,t[8]=n*u-r*o,t}function Rt(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],u=t[5],a=t[6],s=t[7],c=t[8];return e*(c*o-u*s)+n*(-c*i+u*a)+r*(s*i-o*a)}function At(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=e[8],h=n[0],d=n[1],p=n[2],v=n[3],y=n[4],m=n[5],b=n[6],g=n[7],S=n[8];return t[0]=h*r+d*u+p*c,t[1]=h*i+d*a+p*l,t[2]=h*o+d*s+p*f,t[3]=v*r+y*u+m*c,t[4]=v*i+y*a+m*l,t[5]=v*o+y*s+m*f,t[6]=b*r+g*u+S*c,t[7]=b*i+g*a+S*l,t[8]=b*o+g*s+S*f,t}function Ot(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=u,t[4]=a,t[5]=s,t[6]=h*r+d*u+c,t[7]=h*i+d*a+l,t[8]=h*o+d*s+f,t}function Pt(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*u,t[1]=d*i+h*a,t[2]=d*o+h*s,t[3]=d*u-h*r,t[4]=d*a-h*i,t[5]=d*s-h*o,t[6]=c,t[7]=l,t[8]=f,t}function It(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ct(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Lt(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Nt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function kt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Ut(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],u=n+n,a=r+r,s=i+i,c=n*u,l=r*u,f=r*a,h=i*u,d=i*a,p=i*s,v=o*u,y=o*a,m=o*s;return t[0]=1-f-p,t[3]=l-m,t[6]=h+y,t[1]=l+m,t[4]=1-c-p,t[7]=d-v,t[2]=h-y,t[5]=d+v,t[8]=1-c-f,t}function Dt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],y=e[14],m=e[15],b=n*a-r*u,g=n*s-i*u,S=n*c-o*u,T=r*s-i*a,x=r*c-o*a,E=i*c-o*s,_=l*v-f*p,w=l*y-h*p,M=l*m-d*p,R=f*y-h*v,A=f*m-d*v,O=h*m-d*y,P=b*O-g*A+S*R+T*M-x*w+E*_;return P?(P=1/P,t[0]=(a*O-s*A+c*R)*P,t[1]=(s*M-u*O-c*w)*P,t[2]=(u*A-a*M+c*_)*P,t[3]=(i*A-r*O-o*R)*P,t[4]=(n*O-i*M+o*w)*P,t[5]=(r*M-n*A-o*_)*P,t[6]=(v*E-y*x+m*T)*P,t[7]=(y*S-p*E-m*g)*P,t[8]=(p*x-v*S+m*b)*P,t):null}function jt(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Bt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Ft(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Vt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function zt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Wt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Ht(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Gt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Yt(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],u=t[4],a=t[5],s=t[6],c=t[7],l=t[8],f=e[0],h=e[1],p=e[2],v=e[3],y=e[4],m=e[5],b=e[6],g=e[7],S=e[8];return Math.abs(n-f)<=d*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-h)<=d*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-p)<=d*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-v)<=d*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(u-y)<=d*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(a-m)<=d*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-b)<=d*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(c-g)<=d*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(l-S)<=d*Math.max(1,Math.abs(l),Math.abs(S))}var Kt=At,qt=zt;function $t(){var t=new p(16);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Qt(t){var e=new p(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Xt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Zt(t,e,n,r,i,o,u,a,s,c,l,f,h,d,v,y){var m=new p(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=r,m[4]=i,m[5]=o,m[6]=u,m[7]=a,m[8]=s,m[9]=c,m[10]=l,m[11]=f,m[12]=h,m[13]=d,m[14]=v,m[15]=y,m}function Jt(t,e,n,r,i,o,u,a,s,c,l,f,h,d,p,v,y){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=u,t[6]=a,t[7]=s,t[8]=c,t[9]=l,t[10]=f,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=y,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],u=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=u,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function ne(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],y=e[14],m=e[15],b=n*a-r*u,g=n*s-i*u,S=n*c-o*u,T=r*s-i*a,x=r*c-o*a,E=i*c-o*s,_=l*v-f*p,w=l*y-h*p,M=l*m-d*p,R=f*y-h*v,A=f*m-d*v,O=h*m-d*y,P=b*O-g*A+S*R+T*M-x*w+E*_;return P?(P=1/P,t[0]=(a*O-s*A+c*R)*P,t[1]=(i*A-r*O-o*R)*P,t[2]=(v*E-y*x+m*T)*P,t[3]=(h*x-f*E-d*T)*P,t[4]=(s*M-u*O-c*w)*P,t[5]=(n*O-i*M+o*w)*P,t[6]=(y*S-p*E-m*g)*P,t[7]=(l*E-h*S+d*g)*P,t[8]=(u*A-a*M+c*_)*P,t[9]=(r*M-n*A-o*_)*P,t[10]=(p*x-v*S+m*b)*P,t[11]=(f*S-l*x-d*b)*P,t[12]=(a*w-u*R-s*_)*P,t[13]=(n*R-r*w+i*_)*P,t[14]=(v*g-p*T-y*b)*P,t[15]=(l*T-f*g+h*b)*P,t):null}function re(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],y=e[14],m=e[15];return t[0]=a*(h*m-d*y)-f*(s*m-c*y)+v*(s*d-c*h),t[1]=-(r*(h*m-d*y)-f*(i*m-o*y)+v*(i*d-o*h)),t[2]=r*(s*m-c*y)-a*(i*m-o*y)+v*(i*c-o*s),t[3]=-(r*(s*d-c*h)-a*(i*d-o*h)+f*(i*c-o*s)),t[4]=-(u*(h*m-d*y)-l*(s*m-c*y)+p*(s*d-c*h)),t[5]=n*(h*m-d*y)-l*(i*m-o*y)+p*(i*d-o*h),t[6]=-(n*(s*m-c*y)-u*(i*m-o*y)+p*(i*c-o*s)),t[7]=n*(s*d-c*h)-u*(i*d-o*h)+l*(i*c-o*s),t[8]=u*(f*m-d*v)-l*(a*m-c*v)+p*(a*d-c*f),t[9]=-(n*(f*m-d*v)-l*(r*m-o*v)+p*(r*d-o*f)),t[10]=n*(a*m-c*v)-u*(r*m-o*v)+p*(r*c-o*a),t[11]=-(n*(a*d-c*f)-u*(r*d-o*f)+l*(r*c-o*a)),t[12]=-(u*(f*y-h*v)-l*(a*y-s*v)+p*(a*h-s*f)),t[13]=n*(f*y-h*v)-l*(r*y-i*v)+p*(r*h-i*f),t[14]=-(n*(a*y-s*v)-u*(r*y-i*v)+p*(r*s-i*a)),t[15]=n*(a*h-s*f)-u*(r*h-i*f)+l*(r*s-i*a),t}function ie(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],u=t[5],a=t[6],s=t[7],c=t[8],l=t[9],f=t[10],h=t[11],d=t[12],p=t[13],v=t[14],y=t[15];return(e*u-n*o)*(f*y-h*v)-(e*a-r*o)*(l*y-h*p)+(e*s-i*o)*(l*v-f*p)+(n*a-r*u)*(c*y-h*d)-(n*s-i*u)*(c*v-f*d)+(r*s-i*a)*(c*p-l*d)}function oe(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],p=e[11],v=e[12],y=e[13],m=e[14],b=e[15],g=n[0],S=n[1],T=n[2],x=n[3];return t[0]=g*r+S*a+T*f+x*v,t[1]=g*i+S*s+T*h+x*y,t[2]=g*o+S*c+T*d+x*m,t[3]=g*u+S*l+T*p+x*b,g=n[4],S=n[5],T=n[6],x=n[7],t[4]=g*r+S*a+T*f+x*v,t[5]=g*i+S*s+T*h+x*y,t[6]=g*o+S*c+T*d+x*m,t[7]=g*u+S*l+T*p+x*b,g=n[8],S=n[9],T=n[10],x=n[11],t[8]=g*r+S*a+T*f+x*v,t[9]=g*i+S*s+T*h+x*y,t[10]=g*o+S*c+T*d+x*m,t[11]=g*u+S*l+T*p+x*b,g=n[12],S=n[13],T=n[14],x=n[15],t[12]=g*r+S*a+T*f+x*v,t[13]=g*i+S*s+T*h+x*y,t[14]=g*o+S*c+T*d+x*m,t[15]=g*u+S*l+T*p+x*b,t}function ue(t,e,n){var r,i,o,u,a,s,c,l,f,h,d,p,v=n[0],y=n[1],m=n[2];return e===t?(t[12]=e[0]*v+e[4]*y+e[8]*m+e[12],t[13]=e[1]*v+e[5]*y+e[9]*m+e[13],t[14]=e[2]*v+e[6]*y+e[10]*m+e[14],t[15]=e[3]*v+e[7]*y+e[11]*m+e[15]):(r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=e[8],h=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=u,t[4]=a,t[5]=s,t[6]=c,t[7]=l,t[8]=f,t[9]=h,t[10]=d,t[11]=p,t[12]=r*v+a*y+f*m+e[12],t[13]=i*v+s*y+h*m+e[13],t[14]=o*v+c*y+d*m+e[14],t[15]=u*v+l*y+p*m+e[15]),t}function ae(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function se(t,e,n,r){var i,o,u,a,s,c,l,f,h,p,v,y,m,b,g,S,T,x,E,_,w,M,R,A,O=r[0],P=r[1],I=r[2],C=Math.hypot(O,P,I);return C<d?null:(O*=C=1/C,P*=C,I*=C,i=Math.sin(n),u=1-(o=Math.cos(n)),a=e[0],s=e[1],c=e[2],l=e[3],f=e[4],h=e[5],p=e[6],v=e[7],y=e[8],m=e[9],b=e[10],g=e[11],S=O*O*u+o,T=P*O*u+I*i,x=I*O*u-P*i,E=O*P*u-I*i,_=P*P*u+o,w=I*P*u+O*i,M=O*I*u+P*i,R=P*I*u-O*i,A=I*I*u+o,t[0]=a*S+f*T+y*x,t[1]=s*S+h*T+m*x,t[2]=c*S+p*T+b*x,t[3]=l*S+v*T+g*x,t[4]=a*E+f*_+y*w,t[5]=s*E+h*_+m*w,t[6]=c*E+p*_+b*w,t[7]=l*E+v*_+g*w,t[8]=a*M+f*R+y*A,t[9]=s*M+h*R+m*A,t[10]=c*M+p*R+b*A,t[11]=l*M+v*R+g*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function ce(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],u=e[5],a=e[6],s=e[7],c=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=u*i+l*r,t[6]=a*i+f*r,t[7]=s*i+h*r,t[8]=c*i-o*r,t[9]=l*i-u*r,t[10]=f*i-a*r,t[11]=h*i-s*r,t}function le(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],u=e[1],a=e[2],s=e[3],c=e[8],l=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=u*i-l*r,t[2]=a*i-f*r,t[3]=s*i-h*r,t[8]=o*r+c*i,t[9]=u*r+l*i,t[10]=a*r+f*i,t[11]=s*r+h*i,t}function fe(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],u=e[1],a=e[2],s=e[3],c=e[4],l=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=u*i+l*r,t[2]=a*i+f*r,t[3]=s*i+h*r,t[4]=c*i-o*r,t[5]=l*i-u*r,t[6]=f*i-a*r,t[7]=h*i-s*r,t}function he(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function de(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pe(t,e,n){var r,i,o,u=n[0],a=n[1],s=n[2],c=Math.hypot(u,a,s);return c<d?null:(u*=c=1/c,a*=c,s*=c,r=Math.sin(e),o=1-(i=Math.cos(e)),t[0]=u*u*o+i,t[1]=a*u*o+s*r,t[2]=s*u*o-a*r,t[3]=0,t[4]=u*a*o-s*r,t[5]=a*a*o+i,t[6]=s*a*o+u*r,t[7]=0,t[8]=u*s*o+a*r,t[9]=a*s*o-u*r,t[10]=s*s*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function ve(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ye(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function me(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function be(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=r+r,s=i+i,c=o+o,l=r*a,f=r*s,h=r*c,d=i*s,p=i*c,v=o*c,y=u*a,m=u*s,b=u*c;return t[0]=1-(d+v),t[1]=f+b,t[2]=h-m,t[3]=0,t[4]=f-b,t[5]=1-(l+v),t[6]=p+y,t[7]=0,t[8]=h+m,t[9]=p-y,t[10]=1-(l+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ge(t,e){var n=new p(3),r=-e[0],i=-e[1],o=-e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=r*r+i*i+o*o+u*u;return f>0?(n[0]=2*(a*u+l*r+s*o-c*i)/f,n[1]=2*(s*u+l*i+c*r-a*o)/f,n[2]=2*(c*u+l*o+a*i-s*r)/f):(n[0]=2*(a*u+l*r+s*o-c*i),n[1]=2*(s*u+l*i+c*r-a*o),n[2]=2*(c*u+l*o+a*i-s*r)),be(t,e,n),t}function Se(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Te(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],u=e[5],a=e[6],s=e[8],c=e[9],l=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,u,a),t[2]=Math.hypot(s,c,l),t}function xe(t,e){var n=new p(3);Te(n,e);var r=1/n[0],i=1/n[1],o=1/n[2],u=e[0]*r,a=e[1]*i,s=e[2]*o,c=e[4]*r,l=e[5]*i,f=e[6]*o,h=e[8]*r,d=e[9]*i,v=e[10]*o,y=u+l+v,m=0;return y>0?(m=2*Math.sqrt(y+1),t[3]=.25*m,t[0]=(f-d)/m,t[1]=(h-s)/m,t[2]=(a-c)/m):u>l&&u>v?(m=2*Math.sqrt(1+u-l-v),t[3]=(f-d)/m,t[0]=.25*m,t[1]=(a+c)/m,t[2]=(h+s)/m):l>v?(m=2*Math.sqrt(1+l-u-v),t[3]=(h-s)/m,t[0]=(a+c)/m,t[1]=.25*m,t[2]=(f+d)/m):(m=2*Math.sqrt(1+v-u-l),t[3]=(a-c)/m,t[0]=(h+s)/m,t[1]=(f+d)/m,t[2]=.25*m),t}function Ee(t,e,n,r){var i=e[0],o=e[1],u=e[2],a=e[3],s=i+i,c=o+o,l=u+u,f=i*s,h=i*c,d=i*l,p=o*c,v=o*l,y=u*l,m=a*s,b=a*c,g=a*l,S=r[0],T=r[1],x=r[2];return t[0]=(1-(p+y))*S,t[1]=(h+g)*S,t[2]=(d-b)*S,t[3]=0,t[4]=(h-g)*T,t[5]=(1-(f+y))*T,t[6]=(v+m)*T,t[7]=0,t[8]=(d+b)*x,t[9]=(v-m)*x,t[10]=(1-(f+p))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function _e(t,e,n,r,i){var o=e[0],u=e[1],a=e[2],s=e[3],c=o+o,l=u+u,f=a+a,h=o*c,d=o*l,p=o*f,v=u*l,y=u*f,m=a*f,b=s*c,g=s*l,S=s*f,T=r[0],x=r[1],E=r[2],_=i[0],w=i[1],M=i[2],R=(1-(v+m))*T,A=(d+S)*T,O=(p-g)*T,P=(d-S)*x,I=(1-(h+m))*x,C=(y+b)*x,L=(p+g)*E,N=(y-b)*E,k=(1-(h+v))*E;return t[0]=R,t[1]=A,t[2]=O,t[3]=0,t[4]=P,t[5]=I,t[6]=C,t[7]=0,t[8]=L,t[9]=N,t[10]=k,t[11]=0,t[12]=n[0]+_-(R*_+P*w+L*M),t[13]=n[1]+w-(A*_+I*w+N*M),t[14]=n[2]+M-(O*_+C*w+k*M),t[15]=1,t}function we(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],u=n+n,a=r+r,s=i+i,c=n*u,l=r*u,f=r*a,h=i*u,d=i*a,p=i*s,v=o*u,y=o*a,m=o*s;return t[0]=1-f-p,t[1]=l+m,t[2]=h-y,t[3]=0,t[4]=l-m,t[5]=1-c-p,t[6]=d+v,t[7]=0,t[8]=h+y,t[9]=d-v,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Me(t,e,n,r,i,o,u){var a=1/(n-e),s=1/(i-r),c=1/(o-u);return t[0]=2*o*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(n+e)*a,t[9]=(i+r)*s,t[10]=(u+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=u*o*2*c,t[15]=0,t}function Re(t,e,n,r,i){var o,u=1/Math.tan(e/2);return t[0]=u/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function Ae(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),u=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),s=2/(u+a),c=2/(i+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(u-a)*s*.5,t[9]=(i-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Oe(t,e,n,r,i,o,u){var a=1/(e-n),s=1/(r-i),c=1/(o-u);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*s,t[14]=(u+o)*c,t[15]=1,t}function Pe(t,e,n,r){var i,o,u,a,s,c,l,f,h,p,v=e[0],y=e[1],m=e[2],b=r[0],g=r[1],S=r[2],T=n[0],x=n[1],E=n[2];return Math.abs(v-T)<d&&Math.abs(y-x)<d&&Math.abs(m-E)<d?te(t):(l=v-T,f=y-x,h=m-E,i=g*(h*=p=1/Math.hypot(l,f,h))-S*(f*=p),o=S*(l*=p)-b*h,u=b*f-g*l,(p=Math.hypot(i,o,u))?(i*=p=1/p,o*=p,u*=p):(i=0,o=0,u=0),a=f*u-h*o,s=h*i-l*u,c=l*o-f*i,(p=Math.hypot(a,s,c))?(a*=p=1/p,s*=p,c*=p):(a=0,s=0,c=0),t[0]=i,t[1]=a,t[2]=l,t[3]=0,t[4]=o,t[5]=s,t[6]=f,t[7]=0,t[8]=u,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*v+o*y+u*m),t[13]=-(a*v+s*y+c*m),t[14]=-(l*v+f*y+h*m),t[15]=1,t)}function Ie(t,e,n,r){var i=e[0],o=e[1],u=e[2],a=r[0],s=r[1],c=r[2],l=i-n[0],f=o-n[1],h=u-n[2],d=l*l+f*f+h*h;d>0&&(l*=d=1/Math.sqrt(d),f*=d,h*=d);var p=s*h-c*f,v=c*l-a*h,y=a*f-s*l;return(d=p*p+v*v+y*y)>0&&(p*=d=1/Math.sqrt(d),v*=d,y*=d),t[0]=p,t[1]=v,t[2]=y,t[3]=0,t[4]=f*y-h*v,t[5]=h*p-l*y,t[6]=l*v-f*p,t[7]=0,t[8]=l,t[9]=f,t[10]=h,t[11]=0,t[12]=i,t[13]=o,t[14]=u,t[15]=1,t}function Ce(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Le(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Ne(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function ke(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Ue(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function De(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function je(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Be(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],u=t[4],a=t[5],s=t[6],c=t[7],l=t[8],f=t[9],h=t[10],p=t[11],v=t[12],y=t[13],m=t[14],b=t[15],g=e[0],S=e[1],T=e[2],x=e[3],E=e[4],_=e[5],w=e[6],M=e[7],R=e[8],A=e[9],O=e[10],P=e[11],I=e[12],C=e[13],L=e[14],N=e[15];return Math.abs(n-g)<=d*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(r-S)<=d*Math.max(1,Math.abs(r),Math.abs(S))&&Math.abs(i-T)<=d*Math.max(1,Math.abs(i),Math.abs(T))&&Math.abs(o-x)<=d*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(u-E)<=d*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(a-_)<=d*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(s-w)<=d*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(c-M)<=d*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(l-R)<=d*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(f-A)<=d*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(h-O)<=d*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(p-P)<=d*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(v-I)<=d*Math.max(1,Math.abs(v),Math.abs(I))&&Math.abs(y-C)<=d*Math.max(1,Math.abs(y),Math.abs(C))&&Math.abs(m-L)<=d*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(b-N)<=d*Math.max(1,Math.abs(b),Math.abs(N))}var Fe=oe,Ve=ke;function ze(){var t=new p(3);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function We(t){var e=new p(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function He(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function Ge(t,e,n){var r=new p(3);return r[0]=t,r[1]=e,r[2]=n,r}function Ye(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ke(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function qe(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function $e(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Qe(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Xe(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Ze(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Je(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function tn(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function en(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function nn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function rn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function on(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function un(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function an(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function sn(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function cn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function ln(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function fn(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function hn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function dn(t,e,n){var r=e[0],i=e[1],o=e[2],u=n[0],a=n[1],s=n[2];return t[0]=i*s-o*a,t[1]=o*u-r*s,t[2]=r*a-i*u,t}function pn(t,e,n,r){var i=e[0],o=e[1],u=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=u+r*(n[2]-u),t}function vn(t,e,n,r,i,o){var u=o*o,a=u*(2*o-3)+1,s=u*(o-2)+o,c=u*(o-1),l=u*(3-2*o);return t[0]=e[0]*a+n[0]*s+r[0]*c+i[0]*l,t[1]=e[1]*a+n[1]*s+r[1]*c+i[1]*l,t[2]=e[2]*a+n[2]*s+r[2]*c+i[2]*l,t}function yn(t,e,n,r,i,o){var u=1-o,a=u*u,s=o*o,c=a*u,l=3*o*a,f=3*s*u,h=s*o;return t[0]=e[0]*c+n[0]*l+r[0]*f+i[0]*h,t[1]=e[1]*c+n[1]*l+r[1]*f+i[1]*h,t[2]=e[2]*c+n[2]*l+r[2]*f+i[2]*h,t}function mn(t,e){e=e||1;var n=2*v()*Math.PI,r=2*v()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function bn(t,e,n){var r=e[0],i=e[1],o=e[2],u=n[3]*r+n[7]*i+n[11]*o+n[15];return u=u||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/u,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/u,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/u,t}function gn(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function Sn(t,e,n){var r=n[0],i=n[1],o=n[2],u=n[3],a=e[0],s=e[1],c=e[2],l=i*c-o*s,f=o*a-r*c,h=r*s-i*a,d=i*h-o*f,p=o*l-r*h,v=r*f-i*l,y=2*u;return l*=y,f*=y,h*=y,d*=2,p*=2,v*=2,t[0]=a+l+d,t[1]=s+f+p,t[2]=c+h+v,t}function Tn(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function xn(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function En(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function _n(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],u=e[1],a=e[2],s=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+u*u+a*a),c=s&&hn(t,e)/s;return Math.acos(Math.min(Math.max(c,-1),1))}function wn(t){return t[0]=0,t[1]=0,t[2]=0,t}function Mn(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Rn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function An(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],u=e[1],a=e[2];return Math.abs(n-o)<=d*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-u)<=d*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-a)<=d*Math.max(1,Math.abs(i),Math.abs(a))}var On,Pn=$e,In=Qe,Cn=Xe,Ln=un,Nn=an,kn=He,Un=sn,Dn=(On=ze(),function(t,e,n,r,i,o){var u,a;for(e||(e=3),n||(n=0),a=r?Math.min(r*e+n,t.length):t.length,u=n;u<a;u+=e)On[0]=t[u],On[1]=t[u+1],On[2]=t[u+2],i(On,On,o),t[u]=On[0],t[u+1]=On[1],t[u+2]=On[2];return t});function jn(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Bn(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Fn(t,e,n,r){var i=new p(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function Vn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function zn(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Wn(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function Hn(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function Gn(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function Yn(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function Kn(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function qn(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function $n(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function Qn(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function Xn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Zn(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Jn(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function tr(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.hypot(n,r,i,o)}function er(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function nr(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function rr(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function ir(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function or(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function ur(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],u=n*n+r*r+i*i+o*o;return u>0&&(u=1/Math.sqrt(u)),t[0]=n*u,t[1]=r*u,t[2]=i*u,t[3]=o*u,t}function ar(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function sr(t,e,n,r){var i=n[0]*r[1]-n[1]*r[0],o=n[0]*r[2]-n[2]*r[0],u=n[0]*r[3]-n[3]*r[0],a=n[1]*r[2]-n[2]*r[1],s=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],l=e[0],f=e[1],h=e[2],d=e[3];return t[0]=f*c-h*s+d*a,t[1]=-l*c+h*u-d*o,t[2]=l*s-f*u+d*i,t[3]=-l*a+f*o-h*i,t}function cr(t,e,n,r){var i=e[0],o=e[1],u=e[2],a=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=u+r*(n[2]-u),t[3]=a+r*(n[3]-a),t}function lr(t,e){var n,r,i,o,u,a;e=e||1;do{u=(n=2*v()-1)*n+(r=2*v()-1)*r}while(u>=1);do{a=(i=2*v()-1)*i+(o=2*v()-1)*o}while(a>=1);var s=Math.sqrt((1-u)/a);return t[0]=e*n,t[1]=e*r,t[2]=e*i*s,t[3]=e*o*s,t}function fr(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*u,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*u,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*u,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*u,t}function hr(t,e,n){var r=e[0],i=e[1],o=e[2],u=n[0],a=n[1],s=n[2],c=n[3],l=c*r+a*o-s*i,f=c*i+s*r-u*o,h=c*o+u*i-a*r,d=-u*r-a*i-s*o;return t[0]=l*c+d*-u+f*-s-h*-a,t[1]=f*c+d*-a+h*-u-l*-s,t[2]=h*c+d*-s+l*-a-f*-u,t[3]=e[3],t}function dr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function pr(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function vr(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function yr(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],u=e[0],a=e[1],s=e[2],c=e[3];return Math.abs(n-u)<=d*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=d*Math.max(1,Math.abs(o),Math.abs(c))}var mr=Hn,br=Gn,gr=Yn,Sr=tr,Tr=er,xr=nr,Er=rr,_r=function(){var t=jn();return function(e,n,r,i,o,u){var a,s;for(n||(n=4),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,a=r;a<s;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],o(t,t,u),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}}();function wr(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Mr(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Rr(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function Ar(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>d?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Or(t,e){var n=ii(t,e);return Math.acos(2*n*n-1)}function Pr(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=n[0],s=n[1],c=n[2],l=n[3];return t[0]=r*l+u*a+i*c-o*s,t[1]=i*l+u*s+o*a-r*c,t[2]=o*l+u*c+r*s-i*a,t[3]=u*l-r*a-i*s-o*c,t}function Ir(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],u=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s+u*a,t[1]=i*s+o*a,t[2]=o*s-i*a,t[3]=u*s-r*a,t}function Cr(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],u=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s-o*a,t[1]=i*s+u*a,t[2]=o*s+r*a,t[3]=u*s-i*a,t}function Lr(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],u=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s+i*a,t[1]=i*s-r*a,t[2]=o*s+u*a,t[3]=u*s-o*a,t}function Nr(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function kr(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],u=Math.sqrt(n*n+r*r+i*i),a=Math.exp(o),s=u>0?a*Math.sin(u)/u:0;return t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=a*Math.cos(u),t}function Ur(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],u=Math.sqrt(n*n+r*r+i*i),a=u>0?Math.atan2(u,o)/u:0;return t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=.5*Math.log(n*n+r*r+i*i+o*o),t}function Dr(t,e,n){return Ur(t,e),ri(t,t,n),kr(t,t),t}function jr(t,e,n,r){var i,o,u,a,s,c=e[0],l=e[1],f=e[2],h=e[3],p=n[0],v=n[1],y=n[2],m=n[3];return(o=c*p+l*v+f*y+h*m)<0&&(o=-o,p=-p,v=-v,y=-y,m=-m),1-o>d?(i=Math.acos(o),u=Math.sin(i),a=Math.sin((1-r)*i)/u,s=Math.sin(r*i)/u):(a=1-r,s=r),t[0]=a*c+s*p,t[1]=a*l+s*v,t[2]=a*f+s*y,t[3]=a*h+s*m,t}function Br(t){var e=v(),n=v(),r=v(),i=Math.sqrt(1-e),o=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=o*Math.sin(2*Math.PI*r),t[3]=o*Math.cos(2*Math.PI*r),t}function Fr(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],u=n*n+r*r+i*i+o*o,a=u?1/u:0;return t[0]=-n*a,t[1]=-r*a,t[2]=-i*a,t[3]=o*a,t}function Vr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function zr(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,u=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*u+u]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+u]-e[3*u+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[u]=(e[3*u+i]+e[3*i+u])*n}return t}function Wr(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),u=Math.cos(e),a=Math.sin(n),s=Math.cos(n),c=Math.sin(r),l=Math.cos(r);return t[0]=o*s*l-u*a*c,t[1]=u*a*l+o*s*c,t[2]=u*s*c-o*a*l,t[3]=u*s*l+o*a*c,t}function Hr(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Gr,Yr,Kr,qr,$r,Qr,Xr=Bn,Zr=Fn,Jr=Vn,ti=zn,ei=Wn,ni=Pr,ri=Zn,ii=ar,oi=cr,ui=nr,ai=ui,si=rr,ci=si,li=ur,fi=vr,hi=yr,di=(Gr=ze(),Yr=Ge(1,0,0),Kr=Ge(0,1,0),function(t,e,n){var r=hn(e,n);return r<-.999999?(dn(Gr,Yr,e),kn(Gr)<1e-6&&dn(Gr,Kr,e),fn(Gr,Gr),Rr(t,Gr,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(dn(Gr,e,n),t[0]=Gr[0],t[1]=Gr[1],t[2]=Gr[2],t[3]=1+r,li(t,t))}),pi=(qr=wr(),$r=wr(),function(t,e,n,r,i,o){return jr(qr,e,i,o),jr($r,n,r,o),jr(t,qr,$r,2*o*(1-o)),t}),vi=(Qr=mt(),function(t,e,n,r){return Qr[0]=n[0],Qr[3]=n[1],Qr[6]=n[2],Qr[1]=r[0],Qr[4]=r[1],Qr[7]=r[2],Qr[2]=-e[0],Qr[5]=-e[1],Qr[8]=-e[2],li(t,zr(t,Qr))});function yi(){var t=new p(8);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function mi(t){var e=new p(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function bi(t,e,n,r,i,o,u,a){var s=new p(8);return s[0]=t,s[1]=e,s[2]=n,s[3]=r,s[4]=i,s[5]=o,s[6]=u,s[7]=a,s}function gi(t,e,n,r,i,o,u){var a=new p(8);a[0]=t,a[1]=e,a[2]=n,a[3]=r;var s=.5*i,c=.5*o,l=.5*u;return a[4]=s*r+c*n-l*e,a[5]=c*r+l*t-s*n,a[6]=l*r+s*e-c*t,a[7]=-s*t-c*e-l*n,a}function Si(t,e,n){var r=.5*n[0],i=.5*n[1],o=.5*n[2],u=e[0],a=e[1],s=e[2],c=e[3];return t[0]=u,t[1]=a,t[2]=s,t[3]=c,t[4]=r*c+i*s-o*a,t[5]=i*c+o*u-r*s,t[6]=o*c+r*a-i*u,t[7]=-r*u-i*a-o*s,t}function Ti(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function xi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Ei(t,e){var n=wr();xe(n,e);var r=new p(3);return Se(r,e),Si(t,n,r),t}function _i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function wi(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Mi(t,e,n,r,i,o,u,a,s){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=u,t[6]=a,t[7]=s,t}var Ri=Jr;function Ai(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var Oi=Jr;function Pi(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function Ii(t,e){var n=e[4],r=e[5],i=e[6],o=e[7],u=-e[0],a=-e[1],s=-e[2],c=e[3];return t[0]=2*(n*c+o*u+r*s-i*a),t[1]=2*(r*c+o*a+i*u-n*s),t[2]=2*(i*c+o*s+n*a-r*u),t}function Ci(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=.5*n[0],s=.5*n[1],c=.5*n[2],l=e[4],f=e[5],h=e[6],d=e[7];return t[0]=r,t[1]=i,t[2]=o,t[3]=u,t[4]=u*a+i*c-o*s+l,t[5]=u*s+o*a-r*c+f,t[6]=u*c+r*s-i*a+h,t[7]=-r*a-i*s-o*c+d,t}function Li(t,e,n){var r=-e[0],i=-e[1],o=-e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=a*u+l*r+s*o-c*i,h=s*u+l*i+c*r-a*o,d=c*u+l*o+a*i-s*r,p=l*u-a*r-s*i-c*o;return Ir(t,e,n),r=t[0],i=t[1],o=t[2],u=t[3],t[4]=f*u+p*r+h*o-d*i,t[5]=h*u+p*i+d*r-f*o,t[6]=d*u+p*o+f*i-h*r,t[7]=p*u-f*r-h*i-d*o,t}function Ni(t,e,n){var r=-e[0],i=-e[1],o=-e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=a*u+l*r+s*o-c*i,h=s*u+l*i+c*r-a*o,d=c*u+l*o+a*i-s*r,p=l*u-a*r-s*i-c*o;return Cr(t,e,n),r=t[0],i=t[1],o=t[2],u=t[3],t[4]=f*u+p*r+h*o-d*i,t[5]=h*u+p*i+d*r-f*o,t[6]=d*u+p*o+f*i-h*r,t[7]=p*u-f*r-h*i-d*o,t}function ki(t,e,n){var r=-e[0],i=-e[1],o=-e[2],u=e[3],a=e[4],s=e[5],c=e[6],l=e[7],f=a*u+l*r+s*o-c*i,h=s*u+l*i+c*r-a*o,d=c*u+l*o+a*i-s*r,p=l*u-a*r-s*i-c*o;return Lr(t,e,n),r=t[0],i=t[1],o=t[2],u=t[3],t[4]=f*u+p*r+h*o-d*i,t[5]=h*u+p*i+d*r-f*o,t[6]=d*u+p*o+f*i-h*r,t[7]=p*u-f*r-h*i-d*o,t}function Ui(t,e,n){var r=n[0],i=n[1],o=n[2],u=n[3],a=e[0],s=e[1],c=e[2],l=e[3];return t[0]=a*u+l*r+s*o-c*i,t[1]=s*u+l*i+c*r-a*o,t[2]=c*u+l*o+a*i-s*r,t[3]=l*u-a*r-s*i-c*o,a=e[4],s=e[5],c=e[6],l=e[7],t[4]=a*u+l*r+s*o-c*i,t[5]=s*u+l*i+c*r-a*o,t[6]=c*u+l*o+a*i-s*r,t[7]=l*u-a*r-s*i-c*o,t}function Di(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=n[0],s=n[1],c=n[2],l=n[3];return t[0]=r*l+u*a+i*c-o*s,t[1]=i*l+u*s+o*a-r*c,t[2]=o*l+u*c+r*s-i*a,t[3]=u*l-r*a-i*s-o*c,a=n[4],s=n[5],c=n[6],l=n[7],t[4]=r*l+u*a+i*c-o*s,t[5]=i*l+u*s+o*a-r*c,t[6]=o*l+u*c+r*s-i*a,t[7]=u*l-r*a-i*s-o*c,t}function ji(t,e,n,r){if(Math.abs(r)<d)return _i(t,e);var i=Math.hypot(n[0],n[1],n[2]);r*=.5;var o=Math.sin(r),u=o*n[0]/i,a=o*n[1]/i,s=o*n[2]/i,c=Math.cos(r),l=e[0],f=e[1],h=e[2],p=e[3];t[0]=l*c+p*u+f*s-h*a,t[1]=f*c+p*a+h*u-l*s,t[2]=h*c+p*s+l*a-f*u,t[3]=p*c-l*u-f*a-h*s;var v=e[4],y=e[5],m=e[6],b=e[7];return t[4]=v*c+b*u+y*s-m*a,t[5]=y*c+b*a+m*u-v*s,t[6]=m*c+b*s+v*a-y*u,t[7]=b*c-v*u-y*a-m*s,t}function Bi(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t}function Fi(t,e,n){var r=e[0],i=e[1],o=e[2],u=e[3],a=n[4],s=n[5],c=n[6],l=n[7],f=e[4],h=e[5],d=e[6],p=e[7],v=n[0],y=n[1],m=n[2],b=n[3];return t[0]=r*b+u*v+i*m-o*y,t[1]=i*b+u*y+o*v-r*m,t[2]=o*b+u*m+r*y-i*v,t[3]=u*b-r*v-i*y-o*m,t[4]=r*l+u*a+i*c-o*s+f*b+p*v+h*m-d*y,t[5]=i*l+u*s+o*a-r*c+h*b+p*y+d*v-f*m,t[6]=o*l+u*c+r*s-i*a+d*b+p*m+f*y-h*v,t[7]=u*l-r*a-i*s-o*c+p*b-f*v-h*y-d*m,t}var Vi=Fi;function zi(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t}var Wi=ii;function Hi(t,e,n,r){var i=1-r;return Wi(e,n)<0&&(r=-r),t[0]=e[0]*i+n[0]*r,t[1]=e[1]*i+n[1]*r,t[2]=e[2]*i+n[2]*r,t[3]=e[3]*i+n[3]*r,t[4]=e[4]*i+n[4]*r,t[5]=e[5]*i+n[5]*r,t[6]=e[6]*i+n[6]*r,t[7]=e[7]*i+n[7]*r,t}function Gi(t,e){var n=$i(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t}function Yi(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var Ki=ui,qi=Ki,$i=si,Qi=$i;function Xi(t,e){var n=$i(e);if(n>0){n=Math.sqrt(n);var r=e[0]/n,i=e[1]/n,o=e[2]/n,u=e[3]/n,a=e[4],s=e[5],c=e[6],l=e[7],f=r*a+i*s+o*c+u*l;t[0]=r,t[1]=i,t[2]=o,t[3]=u,t[4]=(a-r*f)/n,t[5]=(s-i*f)/n,t[6]=(c-o*f)/n,t[7]=(l-u*f)/n}return t}function Zi(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Ji(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function to(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],u=t[4],a=t[5],s=t[6],c=t[7],l=e[0],f=e[1],h=e[2],p=e[3],v=e[4],y=e[5],m=e[6],b=e[7];return Math.abs(n-l)<=d*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-f)<=d*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-h)<=d*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-p)<=d*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(u-v)<=d*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(a-y)<=d*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(s-m)<=d*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-b)<=d*Math.max(1,Math.abs(c),Math.abs(b))}function eo(){var t=new p(2);return p!=Float32Array&&(t[0]=0,t[1]=0),t}function no(t){var e=new p(2);return e[0]=t[0],e[1]=t[1],e}function ro(t,e){var n=new p(2);return n[0]=t,n[1]=e,n}function io(t,e){return t[0]=e[0],t[1]=e[1],t}function oo(t,e,n){return t[0]=e,t[1]=n,t}function uo(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function ao(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function so(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function co(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function lo(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function fo(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function ho(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function po(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function vo(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function yo(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function mo(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function bo(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function go(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function So(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function To(t){var e=t[0],n=t[1];return e*e+n*n}function xo(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Eo(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function _o(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function wo(t,e){return t[0]*e[0]+t[1]*e[1]}function Mo(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function Ro(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function Ao(t,e){e=e||1;var n=2*v()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function Oo(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function Po(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function Io(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function Co(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function Lo(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],u=Math.sin(r),a=Math.cos(r);return t[0]=i*a-o*u+n[0],t[1]=i*u+o*a+n[1],t}function No(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],u=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),a=u&&(n*i+r*o)/u;return Math.acos(Math.min(Math.max(a,-1),1))}function ko(t){return t[0]=0,t[1]=0,t}function Uo(t){return"vec2("+t[0]+", "+t[1]+")"}function Do(t,e){return t[0]===e[0]&&t[1]===e[1]}function jo(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=d*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))}var Bo=So,Fo=ao,Vo=so,zo=co,Wo=bo,Ho=go,Go=To,Yo=function(){var t=eo();return function(e,n,r,i,o,u){var a,s;for(n||(n=2),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,a=r;a<s;a+=n)t[0]=e[a],t[1]=e[a+1],o(t,t,u),e[a]=t[0],e[a+1]=t[1];return e}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(114),o=n(118),u=n(155),a=n(81),s=new u.Game;i.render(r.createElement(o.GameComponent,{game:s,uiListener:t=>a.dispatch.next(t)}),document.getElementById("root"))},function(t,e,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(89),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,u=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function m(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function S(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||b}function T(){}function x(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||b}S.prototype.isReactComponent={},S.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(m(85));this.updater.enqueueSetState(this,t,e,"setState")},S.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},T.prototype=S.prototype;var E=x.prototype=new T;E.constructor=x,r(E,S.prototype),E.isPureReactComponent=!0;var _={current:null},w=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function R(t,e,n){var r,i={},u=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(u=""+e.key),e)w.call(e,r)&&!M.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:o,type:t,key:u,ref:a,props:i,_owner:_.current}}function A(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}var O=/\/+/g,P=[];function I(t,e,n,r){if(P.length){var i=P.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function C(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>P.length&&P.push(t)}function L(t,e,n){return null==t?0:function t(e,n,r,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var s=!1;if(null===e)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case o:case u:s=!0}}if(s)return r(i,e,""===n?"."+N(e,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+N(a=e[c],c);s+=t(a,l,r,i)}else if(null===e||"object"!=typeof e?l=null:l="function"==typeof(l=y&&e[y]||e["@@iterator"])?l:null,"function"==typeof l)for(e=l.call(e),c=0;!(a=e.next()).done;)s+=t(a=a.value,l=n+N(a,c++),r,i);else if("object"===a)throw r=""+e,Error(m(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return s}(t,"",e,n)}function N(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function k(t,e){t.func.call(t.context,e,t.count++)}function U(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?D(t,r,n,(function(t){return t})):null!=t&&(A(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(O,"$&/")+"/")+n)),r.push(t))}function D(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(O,"$&/")+"/"),L(t,U,e=I(e,o,r,i)),C(e)}var j={current:null};function B(){var t=j.current;if(null===t)throw Error(m(321));return t}var F={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return D(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;L(t,k,e=I(null,null,e,n)),C(e)},count:function(t){return L(t,(function(){return null}),null)},toArray:function(t){var e=[];return D(t,e,null,(function(t){return t})),e},only:function(t){if(!A(t))throw Error(m(143));return t}},e.Component=S,e.Fragment=a,e.Profiler=c,e.PureComponent=x,e.StrictMode=s,e.Suspense=d,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,e.cloneElement=function(t,e,n){if(null==t)throw Error(m(267,t));var i=r({},t.props),u=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=_.current),void 0!==e.key&&(u=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)w.call(e,l)&&!M.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:t.type,key:u,ref:a,props:i,_owner:s}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=R,e.createFactory=function(t){var e=R.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:v,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return B().useCallback(t,e)},e.useContext=function(t,e){return B().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return B().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return B().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return B().useLayoutEffect(t,e)},e.useMemo=function(t,e){return B().useMemo(t,e)},e.useReducer=function(t,e,n){return B().useReducer(t,e,n)},e.useRef=function(t){return B().useRef(t)},e.useState=function(t){return B().useState(t)},e.version="16.13.1"},function(t,e,n){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}}(),t.exports=n(115)},function(t,e,n){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(11),i=n(89),o=n(116);function u(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(u(227));function a(t,e,n,r,i,o,u,a,s){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}var s=!1,c=null,l=!1,f=null,h={onError:function(t){s=!0,c=t}};function d(t,e,n,r,i,o,u,l,f){s=!1,c=null,a.apply(h,arguments)}var p=null,v=null,y=null;function m(t,e,n){var r=t.type||"unknown-event";t.currentTarget=y(n),function(t,e,n,r,i,o,a,h,p){if(d.apply(this,arguments),s){if(!s)throw Error(u(198));var v=c;s=!1,c=null,l||(l=!0,f=v)}}(r,e,void 0,t),t.currentTarget=null}var b=null,g={};function S(){if(b)for(var t in g){var e=g[t],n=b.indexOf(t);if(!(-1<n))throw Error(u(96,t));if(!x[n]){if(!e.extractEvents)throw Error(u(97,t));for(var r in x[n]=e,n=e.eventTypes){var i=void 0,o=n[r],a=e,s=r;if(E.hasOwnProperty(s))throw Error(u(99,s));E[s]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&T(c[i],a,s);i=!0}else o.registrationName?(T(o.registrationName,a,s),i=!0):i=!1;if(!i)throw Error(u(98,r,t))}}}}function T(t,e,n){if(_[t])throw Error(u(100,t));_[t]=e,w[t]=e.eventTypes[n].dependencies}var x=[],E={},_={},w={};function M(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!g.hasOwnProperty(e)||g[e]!==r){if(g[e])throw Error(u(102,e));g[e]=r,n=!0}}n&&S()}var R=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),A=null,O=null,P=null;function I(t){if(t=v(t)){if("function"!=typeof A)throw Error(u(280));var e=t.stateNode;e&&(e=p(e),A(t.stateNode,t.type,e))}}function C(t){O?P?P.push(t):P=[t]:O=t}function L(){if(O){var t=O,e=P;if(P=O=null,I(t),e)for(t=0;t<e.length;t++)I(e[t])}}function N(t,e){return t(e)}function k(t,e,n,r,i){return t(e,n,r,i)}function U(){}var D=N,j=!1,B=!1;function F(){null===O&&null===P||(U(),L())}function V(t,e,n){if(B)return t(e,n);B=!0;try{return D(t,e,n)}finally{B=!1,F()}}var z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,H={},G={};function Y(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){K[t]=new Y(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];K[e]=new Y(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){K[t]=new Y(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){K[t]=new Y(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){K[t]=new Y(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){K[t]=new Y(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){K[t]=new Y(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){K[t]=new Y(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){K[t]=new Y(t,5,!1,t.toLowerCase(),null,!1)}));var q=/[\-:]([a-z])/g;function $(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(q,$);K[e]=new Y(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(q,$);K[e]=new Y(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(q,$);K[e]=new Y(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){K[t]=new Y(t,1,!1,t.toLowerCase(),null,!1)})),K.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){K[t]=new Y(t,1,!1,t.toLowerCase(),null,!0)}));var Q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(t,e,n,r){var i=K.hasOwnProperty(e)?K[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!W.call(G,t)||!W.call(H,t)&&(z.test(t)?G[t]=!0:(H[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}Q.hasOwnProperty("ReactCurrentDispatcher")||(Q.ReactCurrentDispatcher={current:null}),Q.hasOwnProperty("ReactCurrentBatchConfig")||(Q.ReactCurrentBatchConfig={suspense:null});var Z=/^(.*)[\\\/]/,J="function"==typeof Symbol&&Symbol.for,tt=J?Symbol.for("react.element"):60103,et=J?Symbol.for("react.portal"):60106,nt=J?Symbol.for("react.fragment"):60107,rt=J?Symbol.for("react.strict_mode"):60108,it=J?Symbol.for("react.profiler"):60114,ot=J?Symbol.for("react.provider"):60109,ut=J?Symbol.for("react.context"):60110,at=J?Symbol.for("react.concurrent_mode"):60111,st=J?Symbol.for("react.forward_ref"):60112,ct=J?Symbol.for("react.suspense"):60113,lt=J?Symbol.for("react.suspense_list"):60120,ft=J?Symbol.for("react.memo"):60115,ht=J?Symbol.for("react.lazy"):60116,dt=J?Symbol.for("react.block"):60121,pt="function"==typeof Symbol&&Symbol.iterator;function vt(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=pt&&t[pt]||t["@@iterator"])?t:null}function yt(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case it:return"Profiler";case rt:return"StrictMode";case ct:return"Suspense";case lt:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case ut:return"Context.Consumer";case ot:return"Context.Provider";case st:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ft:return yt(t.type);case dt:return yt(t.render);case ht:if(t=1===t._status?t._result:null)return yt(t)}return null}function mt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=yt(t.type);n=null,r&&(n=yt(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Z,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}function bt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function gt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function St(t){t._valueTracker||(t._valueTracker=function(t){var e=gt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Tt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function xt(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Et(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=bt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function _t(t,e){null!=(e=e.checked)&&X(t,"checked",e,!1)}function wt(t,e){_t(t,e);var n=bt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Rt(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rt(t,e.type,bt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Mt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Rt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function At(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Ot(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Pt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(u(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function It(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(u(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(u(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:bt(n)}}function Ct(t,e){var n=bt(e.value),r=bt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Lt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Nt="http://www.w3.org/1999/xhtml",kt="http://www.w3.org/2000/svg";function Ut(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Ut(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var jt,Bt=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==kt||"innerHTML"in t)t.innerHTML=e;else{for((jt=jt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Ft(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Vt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zt={animationend:Vt("Animation","AnimationEnd"),animationiteration:Vt("Animation","AnimationIteration"),animationstart:Vt("Animation","AnimationStart"),transitionend:Vt("Transition","TransitionEnd")},Wt={},Ht={};function Gt(t){if(Wt[t])return Wt[t];if(!zt[t])return t;var e,n=zt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ht)return Wt[t]=n[e];return t}R&&(Ht=document.createElement("div").style,"AnimationEvent"in window||(delete zt.animationend.animation,delete zt.animationiteration.animation,delete zt.animationstart.animation),"TransitionEvent"in window||delete zt.transitionend.transition);var Yt=Gt("animationend"),Kt=Gt("animationiteration"),qt=Gt("animationstart"),$t=Gt("transitionend"),Qt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xt=new("function"==typeof WeakMap?WeakMap:Map);function Zt(t){var e=Xt.get(t);return void 0===e&&(e=new Map,Xt.set(t,e)),e}function Jt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Jt(t)!==t)throw Error(u(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Jt(t)))throw Error(u(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ee(i),t;if(o===r)return ee(i),e;o=o.sibling}throw Error(u(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(3!==n.tag)throw Error(u(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(u(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ie(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var oe=null;function ue(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)m(t,e[r],n[r]);else e&&m(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function ae(t){if(null!==t&&(oe=re(oe,t)),t=oe,oe=null,t){if(ie(t,ue),oe)throw Error(u(95));if(l)throw t=f,l=!1,f=null,t}}function se(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ce(t){if(!R)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}var le=[];function fe(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>le.length&&le.push(t)}function he(t,e,n,r){if(le.length){var i=le.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function de(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Rn(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=se(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,u=t.eventSystemFlags;0===n&&(u|=64);for(var a=null,s=0;s<x.length;s++){var c=x[s];c&&(c=c.extractEvents(r,e,o,i,u))&&(a=re(a,c))}ae(a)}}function pe(t,e,n){if(!n.has(t)){switch(t){case"scroll":qe(e,"scroll",!0);break;case"focus":case"blur":qe(e,"focus",!0),qe(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ce(t)&&qe(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qt.indexOf(t)&&Ke(t,e)}n.set(t,null)}}var ve,ye,me,be=!1,ge=[],Se=null,Te=null,xe=null,Ee=new Map,_e=new Map,we=[],Me="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Re="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ae(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Oe(t,e){switch(t){case"focus":case"blur":Se=null;break;case"dragenter":case"dragleave":Te=null;break;case"mouseover":case"mouseout":xe=null;break;case"pointerover":case"pointerout":Ee.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_e.delete(e.pointerId)}}function Pe(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=Ae(e,n,r,i,o),null!==e&&(null!==(e=An(e))&&ye(e)),t):(t.eventSystemFlags|=r,t)}function Ie(t){var e=Rn(t.target);if(null!==e){var n=Jt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){me(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ce(t){if(null!==t.blockedOn)return!1;var e=Ze(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=An(e);return null!==n&&ye(n),t.blockedOn=e,!1}return!0}function Le(t,e,n){Ce(t)&&n.delete(e)}function Ne(){for(be=!1;0<ge.length;){var t=ge[0];if(null!==t.blockedOn){null!==(t=An(t.blockedOn))&&ve(t);break}var e=Ze(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:ge.shift()}null!==Se&&Ce(Se)&&(Se=null),null!==Te&&Ce(Te)&&(Te=null),null!==xe&&Ce(xe)&&(xe=null),Ee.forEach(Le),_e.forEach(Le)}function ke(t,e){t.blockedOn===e&&(t.blockedOn=null,be||(be=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ne)))}function Ue(t){function e(e){return ke(e,t)}if(0<ge.length){ke(ge[0],t);for(var n=1;n<ge.length;n++){var r=ge[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Se&&ke(Se,t),null!==Te&&ke(Te,t),null!==xe&&ke(xe,t),Ee.forEach(e),_e.forEach(e),n=0;n<we.length;n++)(r=we[n]).blockedOn===t&&(r.blockedOn=null);for(;0<we.length&&null===(n=we[0]).blockedOn;)Ie(n),null===n.blockedOn&&we.shift()}var De={},je=new Map,Be=new Map,Fe=["abort","abort",Yt,"animationEnd",Kt,"animationIteration",qt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$t,"transitionEnd","waiting","waiting"];function Ve(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},Be.set(r,e),je.set(r,o),De[i]=o}}Ve("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ve("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ve(Fe,2);for(var ze="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<ze.length;We++)Be.set(ze[We],0);var He=o.unstable_UserBlockingPriority,Ge=o.unstable_runWithPriority,Ye=!0;function Ke(t,e){qe(e,t,!1)}function qe(t,e,n){var r=Be.get(e);switch(void 0===r?2:r){case 0:r=$e.bind(null,e,1,t);break;case 1:r=Qe.bind(null,e,1,t);break;default:r=Xe.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function $e(t,e,n,r){j||U();var i=Xe,o=j;j=!0;try{k(i,t,e,n,r)}finally{(j=o)||F()}}function Qe(t,e,n,r){Ge(He,Xe.bind(null,t,e,n,r))}function Xe(t,e,n,r){if(Ye)if(0<ge.length&&-1<Me.indexOf(t))t=Ae(null,t,e,n,r),ge.push(t);else{var i=Ze(t,e,n,r);if(null===i)Oe(t,r);else if(-1<Me.indexOf(t))t=Ae(i,t,e,n,r),ge.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return Se=Pe(Se,t,e,n,r,i),!0;case"dragenter":return Te=Pe(Te,t,e,n,r,i),!0;case"mouseover":return xe=Pe(xe,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ee.set(o,Pe(Ee.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,_e.set(o,Pe(_e.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){Oe(t,r),t=he(t,r,null,e);try{V(de,t)}finally{fe(t)}}}}function Ze(t,e,n,r){if(null!==(n=Rn(n=se(r)))){var i=Jt(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=te(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=he(t,r,n,e);try{V(de,t)}finally{fe(t)}return null}var Je={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function en(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||Je.hasOwnProperty(t)&&Je[t]?(""+e).trim():e+"px"}function nn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=en(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(Je).forEach((function(t){tn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Je[e]=Je[t]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(t,e){if(e){if(rn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(u(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(u(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(u(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(u(62,""))}}function un(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var an=Nt;function sn(t,e){var n=Zt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=w[e];for(var r=0;r<e.length;r++)pe(e[r],t,n)}function cn(){}function ln(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function fn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hn(t,e){var n,r=fn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=fn(r)}}function dn(){for(var t=window,e=ln();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=ln((t=e.contentWindow).document)}return e}function pn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var vn=null,yn=null;function mn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function bn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var gn="function"==typeof setTimeout?setTimeout:void 0,Sn="function"==typeof clearTimeout?clearTimeout:void 0;function Tn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function xn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var En=Math.random().toString(36).slice(2),_n="__reactInternalInstance$"+En,wn="__reactEventHandlers$"+En,Mn="__reactContainere$"+En;function Rn(t){var e=t[_n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mn]||n[_n]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=xn(t);null!==t;){if(n=t[_n])return n;t=xn(t)}return e}n=(t=n).parentNode}return null}function An(t){return!(t=t[_n]||t[Mn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function On(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(u(33))}function Pn(t){return t[wn]||null}function In(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Cn(t,e){var n=t.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(u(231,e,typeof n));return n}function Ln(t,e,n){(e=Cn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Nn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=In(e);for(e=n.length;0<e--;)Ln(n[e],"captured",t);for(e=0;e<n.length;e++)Ln(n[e],"bubbled",t)}}function kn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Cn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Un(t){t&&t.dispatchConfig.registrationName&&kn(t._targetInst,null,t)}function Dn(t){ie(t,Nn)}var jn=null,Bn=null,Fn=null;function Vn(){if(Fn)return Fn;var t,e,n=Bn,r=n.length,i="value"in jn?jn.value:jn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var u=r-t;for(e=1;e<=u&&n[r-e]===i[o-e];e++);return Fn=i.slice(t,1<e?1-e:void 0)}function zn(){return!0}function Wn(){return!1}function Hn(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?zn:Wn,this.isPropagationStopped=Wn,this}function Gn(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Yn(t){if(!(t instanceof this))throw Error(u(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Kn(t){t.eventPool=[],t.getPooled=Gn,t.release=Yn}i(Hn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=zn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=zn)},persist:function(){this.isPersistent=zn},isPersistent:Wn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Wn,this._dispatchInstances=this._dispatchListeners=null}}),Hn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Hn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,Kn(n),n},Kn(Hn);var qn=Hn.extend({data:null}),$n=Hn.extend({data:null}),Qn=[9,13,27,32],Xn=R&&"CompositionEvent"in window,Zn=null;R&&"documentMode"in document&&(Zn=document.documentMode);var Jn=R&&"TextEvent"in window&&!Zn,tr=R&&(!Xn||Zn&&8<Zn&&11>=Zn),er=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(t,e){switch(t){case"keyup":return-1!==Qn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var ur=!1;var ar={eventTypes:nr,extractEvents:function(t,e,n,r){var i;if(Xn)t:{switch(t){case"compositionstart":var o=nr.compositionStart;break t;case"compositionend":o=nr.compositionEnd;break t;case"compositionupdate":o=nr.compositionUpdate;break t}o=void 0}else ur?ir(t,n)&&(o=nr.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=nr.compositionStart);return o?(tr&&"ko"!==n.locale&&(ur||o!==nr.compositionStart?o===nr.compositionEnd&&ur&&(i=Vn()):(Bn="value"in(jn=r)?jn.value:jn.textContent,ur=!0)),o=qn.getPooled(o,e,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Dn(o),i=o):i=null,(t=Jn?function(t,e){switch(t){case"compositionend":return or(e);case"keypress":return 32!==e.which?null:(rr=!0,er);case"textInput":return(t=e.data)===er&&rr?null:t;default:return null}}(t,n):function(t,e){if(ur)return"compositionend"===t||!Xn&&ir(t,e)?(t=Vn(),Fn=Bn=jn=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=$n.getPooled(nr.beforeInput,e,n,r)).data=t,Dn(e)):e=null,null===i?e:null===e?i:[i,e]}},sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!sr[t.type]:"textarea"===e}var lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(t,e,n){return(t=Hn.getPooled(lr.change,t,e,n)).type="change",C(n),Dn(t),t}var hr=null,dr=null;function pr(t){ae(t)}function vr(t){if(Tt(On(t)))return t}function yr(t,e){if("change"===t)return e}var mr=!1;function br(){hr&&(hr.detachEvent("onpropertychange",gr),dr=hr=null)}function gr(t){if("value"===t.propertyName&&vr(dr))if(t=fr(dr,t,se(t)),j)ae(t);else{j=!0;try{N(pr,t)}finally{j=!1,F()}}}function Sr(t,e,n){"focus"===t?(br(),dr=n,(hr=e).attachEvent("onpropertychange",gr)):"blur"===t&&br()}function Tr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return vr(dr)}function xr(t,e){if("click"===t)return vr(e)}function Er(t,e){if("input"===t||"change"===t)return vr(e)}R&&(mr=ce("input")&&(!document.documentMode||9<document.documentMode));var _r={eventTypes:lr,_isInputEventSupported:mr,extractEvents:function(t,e,n,r){var i=e?On(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var u=yr;else if(cr(i))if(mr)u=Er;else{u=Tr;var a=Sr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(u=xr);if(u&&(u=u(t,e)))return fr(u,n,r);a&&a(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Rt(i,"number",i.value)}},wr=Hn.extend({view:null,detail:null}),Mr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Mr[t])&&!!e[t]}function Ar(){return Rr}var Or=0,Pr=0,Ir=!1,Cr=!1,Lr=wr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ar,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Or;return Or=t.screenX,Ir?"mousemove"===t.type?t.screenX-e:0:(Ir=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Pr;return Pr=t.screenY,Cr?"mousemove"===t.type?t.screenY-e:0:(Cr=!0,0)}}),Nr=Lr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),kr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ur={eventTypes:kr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,u="mouseout"===t||"pointerout"===t;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!u&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,u)?(u=e,null!==(e=(e=n.relatedTarget||n.toElement)?Rn(e):null)&&(e!==Jt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):u=null;if(u===e)return null;if("mouseout"===t||"mouseover"===t)var a=Lr,s=kr.mouseLeave,c=kr.mouseEnter,l="mouse";else"pointerout"!==t&&"pointerover"!==t||(a=Nr,s=kr.pointerLeave,c=kr.pointerEnter,l="pointer");if(t=null==u?o:On(u),o=null==e?o:On(e),(s=a.getPooled(s,u,n,r)).type=l+"leave",s.target=t,s.relatedTarget=o,(n=a.getPooled(c,e,n,r)).type=l+"enter",n.target=o,n.relatedTarget=t,l=e,(r=u)&&l)t:{for(c=l,u=0,t=a=r;t;t=In(t))u++;for(t=0,e=c;e;e=In(e))t++;for(;0<u-t;)a=In(a),u--;for(;0<t-u;)c=In(c),t--;for(;u--;){if(a===c||a===c.alternate)break t;a=In(a),c=In(c)}a=null}else a=null;for(c=a,a=[];r&&r!==c&&(null===(u=r.alternate)||u!==c);)a.push(r),r=In(r);for(r=[];l&&l!==c&&(null===(u=l.alternate)||u!==c);)r.push(l),l=In(l);for(l=0;l<a.length;l++)kn(a[l],"bubbled",s);for(l=r.length;0<l--;)kn(r[l],"captured",n);return 0==(64&i)?[s]:[s,n]}};var Dr="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},jr=Object.prototype.hasOwnProperty;function Br(t,e){if(Dr(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!jr.call(e,n[r])||!Dr(t[n[r]],e[n[r]]))return!1;return!0}var Fr=R&&"documentMode"in document&&11>=document.documentMode,Vr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},zr=null,Wr=null,Hr=null,Gr=!1;function Yr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Gr||null==zr||zr!==ln(n)?null:("selectionStart"in(n=zr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hr&&Br(Hr,n)?null:(Hr=n,(t=Hn.getPooled(Vr.select,Wr,t,e)).type="select",t.target=zr,Dn(t),t))}var Kr={eventTypes:Vr,extractEvents:function(t,e,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=Zt(i),o=w.onSelect;for(var u=0;u<o.length;u++)if(!i.has(o[u])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?On(e):window,t){case"focus":(cr(i)||"true"===i.contentEditable)&&(zr=i,Wr=e,Hr=null);break;case"blur":Hr=Wr=zr=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Gr=!1,Yr(n,r);case"selectionchange":if(Fr)break;case"keydown":case"keyup":return Yr(n,r)}return null}},qr=Hn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$r=Hn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qr=wr.extend({relatedTarget:null});function Xr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ti=wr.extend({key:function(t){if(t.key){var e=Zr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Xr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Jr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ar,charCode:function(t){return"keypress"===t.type?Xr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Xr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ei=Lr.extend({dataTransfer:null}),ni=wr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ar}),ri=Hn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Lr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:De,extractEvents:function(t,e,n,r){var i=je.get(t);if(!i)return null;switch(t){case"keypress":if(0===Xr(n))return null;case"keydown":case"keyup":t=ti;break;case"blur":case"focus":t=Qr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ei;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=ni;break;case Yt:case Kt:case qt:t=qr;break;case $t:t=ri;break;case"scroll":t=wr;break;case"wheel":t=ii;break;case"copy":case"cut":case"paste":t=$r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Nr;break;default:t=Hn}return Dn(e=t.getPooled(i,e,n,r)),e}};if(b)throw Error(u(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),S(),p=Pn,v=An,y=On,M({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Ur,ChangeEventPlugin:_r,SelectEventPlugin:Kr,BeforeInputEventPlugin:ar});var ui=[],ai=-1;function si(t){0>ai||(t.current=ui[ai],ui[ai]=null,ai--)}function ci(t,e){ai++,ui[ai]=t.current,t.current=e}var li={},fi={current:li},hi={current:!1},di=li;function pi(t,e){var n=t.type.contextTypes;if(!n)return li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function vi(t){return null!=(t=t.childContextTypes)}function yi(){si(hi),si(fi)}function mi(t,e,n){if(fi.current!==li)throw Error(u(168));ci(fi,e),ci(hi,n)}function bi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(u(108,yt(e)||"Unknown",o));return i({},n,{},r)}function gi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,di=fi.current,ci(fi,t),ci(hi,hi.current),!0}function Si(t,e,n){var r=t.stateNode;if(!r)throw Error(u(169));n?(t=bi(t,e,di),r.__reactInternalMemoizedMergedChildContext=t,si(hi),si(fi),ci(fi,t)):si(hi),ci(hi,n)}var Ti=o.unstable_runWithPriority,xi=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,_i=o.unstable_requestPaint,wi=o.unstable_now,Mi=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Ai=o.unstable_UserBlockingPriority,Oi=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Ii=o.unstable_IdlePriority,Ci={},Li=o.unstable_shouldYield,Ni=void 0!==_i?_i:function(){},ki=null,Ui=null,Di=!1,ji=wi(),Bi=1e4>ji?wi:function(){return wi()-ji};function Fi(){switch(Mi()){case Ri:return 99;case Ai:return 98;case Oi:return 97;case Pi:return 96;case Ii:return 95;default:throw Error(u(332))}}function Vi(t){switch(t){case 99:return Ri;case 98:return Ai;case 97:return Oi;case 96:return Pi;case 95:return Ii;default:throw Error(u(332))}}function zi(t,e){return t=Vi(t),Ti(t,e)}function Wi(t,e,n){return t=Vi(t),xi(t,e,n)}function Hi(t){return null===ki?(ki=[t],Ui=xi(Ri,Yi)):ki.push(t),Ci}function Gi(){if(null!==Ui){var t=Ui;Ui=null,Ei(t)}Yi()}function Yi(){if(!Di&&null!==ki){Di=!0;var t=0;try{var e=ki;zi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),ki=null}catch(e){throw null!==ki&&(ki=ki.slice(t+1)),xi(Ri,Gi),e}finally{Di=!1}}}function Ki(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function qi(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var $i={current:null},Qi=null,Xi=null,Zi=null;function Ji(){Zi=Xi=Qi=null}function to(t){var e=$i.current;si($i),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function no(t,e){Qi=t,Zi=Xi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Pu=!0),t.firstContext=null)}function ro(t,e){if(Zi!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(Zi=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Xi){if(null===Qi)throw Error(u(308));Xi=e,Qi.dependencies={expirationTime:0,firstContext:e,responders:null}}else Xi=Xi.next=e;return t._currentValue}var io=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function uo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function ao(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function so(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function co(t,e){var n=t.alternate;null!==n&&uo(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function lo(t,e,n,r){var o=t.updateQueue;io=!1;var u=o.baseQueue,a=o.shared.pending;if(null!==a){if(null!==u){var s=u.next;u.next=a.next,a.next=s}u=a,o.shared.pending=null,null!==(s=t.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=a))}if(null!==u){s=u.next;var c=o.baseState,l=0,f=null,h=null,d=null;if(null!==s)for(var p=s;;){if((a=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=v,f=c):d=d.next=v,a>l&&(l=a)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),os(a,p.suspenseConfig);t:{var y=t,m=p;switch(a=e,v=n,m.tag){case 1:if("function"==typeof(y=m.payload)){c=y.call(v,c,a);break t}c=y;break t;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null==(a="function"==typeof(y=m.payload)?y.call(v,c,a):y))break t;c=i({},c,a);break t;case 2:io=!0}}null!==p.callback&&(t.effectTag|=32,null===(a=o.effects)?o.effects=[p]:a.push(p))}if(null===(p=p.next)||p===s){if(null===(a=o.shared.pending))break;p=u.next=a.next,a.next=s,o.baseQueue=u=a,o.shared.pending=null}}null===d?f=c:d.next=h,o.baseState=f,o.baseQueue=d,us(l),t.expirationTime=l,t.memoizedState=c}}function fo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(u(191,r));r.call(i)}}}var ho=Q.ReactCurrentBatchConfig,po=(new r.Component).refs;function vo(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var yo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Jt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Ya(),i=ho.suspense;(i=ao(r=Ka(r,t,i),i)).payload=e,null!=n&&(i.callback=n),so(t,i),qa(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Ya(),i=ho.suspense;(i=ao(r=Ka(r,t,i),i)).tag=1,i.payload=e,null!=n&&(i.callback=n),so(t,i),qa(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Ya(),r=ho.suspense;(r=ao(n=Ka(n,t,r),r)).tag=2,null!=e&&(r.callback=e),so(t,r),qa(t,n)}};function mo(t,e,n,r,i,o,u){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,u):!e.prototype||!e.prototype.isPureReactComponent||(!Br(n,r)||!Br(i,o))}function bo(t,e,n){var r=!1,i=li,o=e.contextType;return"object"==typeof o&&null!==o?o=ro(o):(i=vi(e)?di:fi.current,o=(r=null!=(r=e.contextTypes))?pi(t,i):li),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=yo,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function go(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yo.enqueueReplaceState(e,e.state,null)}function So(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=po,oo(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=ro(o):(o=vi(e)?di:fi.current,i.context=pi(t,o)),lo(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(vo(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&yo.enqueueReplaceState(i,i.state,null),lo(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}var To=Array.isArray;function xo(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(u(309));var r=n.stateNode}if(!r)throw Error(u(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===po&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw Error(u(284));if(!n._owner)throw Error(u(290,t))}return t}function Eo(t,e){if("textarea"!==t.type)throw Error(u(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function _o(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Ms(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function s(t,e,n,r){return null===e||6!==e.tag?((e=Os(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=xo(t,e,n),r.return=t,r):((r=Rs(n.type,n.key,n.props,null,t.mode,r)).ref=xo(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Ps(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=As(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Os(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Rs(e.type,e.key,e.props,null,t.mode,n)).ref=xo(t,null,e),n.return=t,n;case et:return(e=Ps(e,t.mode,n)).return=t,e}if(To(e)||vt(e))return(e=As(e,t.mode,n,null)).return=t,e;Eo(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===i?n.type===nt?f(t,e,n.props.children,r,i):c(t,e,n,r):null;case et:return n.key===i?l(t,e,n,r):null}if(To(n)||vt(n))return null!==i?null:f(t,e,n,r,null);Eo(t,n)}return null}function p(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return s(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case tt:return t=t.get(null===r.key?n:r.key)||null,r.type===nt?f(e,t,r.props.children,i,r.key):c(e,t,r,i);case et:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(To(r)||vt(r))return f(e,t=t.get(n)||null,r,i,null);Eo(e,r)}return null}function v(i,u,a,s){for(var c=null,l=null,f=u,v=u=0,y=null;null!==f&&v<a.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,a[v],s);if(null===m){null===f&&(f=y);break}t&&f&&null===m.alternate&&e(i,f),u=o(m,u,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===a.length)return n(i,f),c;if(null===f){for(;v<a.length;v++)null!==(f=h(i,a[v],s))&&(u=o(f,u,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<a.length;v++)null!==(y=p(f,i,v,a[v],s))&&(t&&null!==y.alternate&&f.delete(null===y.key?v:y.key),u=o(y,u,v),null===l?c=y:l.sibling=y,l=y);return t&&f.forEach((function(t){return e(i,t)})),c}function y(i,a,s,c){var l=vt(s);if("function"!=typeof l)throw Error(u(150));if(null==(s=l.call(s)))throw Error(u(151));for(var f=l=null,v=a,y=a=0,m=null,b=s.next();null!==v&&!b.done;y++,b=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var g=d(i,v,b.value,c);if(null===g){null===v&&(v=m);break}t&&v&&null===g.alternate&&e(i,v),a=o(g,a,y),null===f?l=g:f.sibling=g,f=g,v=m}if(b.done)return n(i,v),l;if(null===v){for(;!b.done;y++,b=s.next())null!==(b=h(i,b.value,c))&&(a=o(b,a,y),null===f?l=b:f.sibling=b,f=b);return l}for(v=r(i,v);!b.done;y++,b=s.next())null!==(b=p(v,i,y,b.value,c))&&(t&&null!==b.alternate&&v.delete(null===b.key?y:b.key),a=o(b,a,y),null===f?l=b:f.sibling=b,f=b);return t&&v.forEach((function(t){return e(i,t)})),l}return function(t,r,o,s){var c="object"==typeof o&&null!==o&&o.type===nt&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case tt:t:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===nt){n(t,c.sibling),(r=i(c,o.props.children)).return=t,t=r;break t}break;default:if(c.elementType===o.type){n(t,c.sibling),(r=i(c,o.props)).ref=xo(t,c,o),r.return=t,t=r;break t}}n(t,c);break}e(t,c),c=c.sibling}o.type===nt?((r=As(o.props.children,t.mode,s,o.key)).return=t,t=r):((s=Rs(o.type,o.key,o.props,null,t.mode,s)).ref=xo(t,r,o),s.return=t,t=s)}return a(t);case et:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Ps(o,t.mode,s)).return=t,t=r}return a(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Os(o,t.mode,s)).return=t,t=r),a(t);if(To(o))return v(t,r,o,s);if(vt(o))return y(t,r,o,s);if(l&&Eo(t,o),void 0===o&&!c)switch(t.tag){case 1:case 0:throw t=t.type,Error(u(152,t.displayName||t.name||"Component"))}return n(t,r)}}var wo=_o(!0),Mo=_o(!1),Ro={},Ao={current:Ro},Oo={current:Ro},Po={current:Ro};function Io(t){if(t===Ro)throw Error(u(174));return t}function Co(t,e){switch(ci(Po,e),ci(Oo,t),ci(Ao,Ro),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dt(null,"");break;default:e=Dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}si(Ao),ci(Ao,e)}function Lo(){si(Ao),si(Oo),si(Po)}function No(t){Io(Po.current);var e=Io(Ao.current),n=Dt(e,t.type);e!==n&&(ci(Oo,t),ci(Ao,n))}function ko(t){Oo.current===t&&(si(Ao),si(Oo))}var Uo={current:0};function Do(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function jo(t,e){return{responder:t,props:e}}var Bo=Q.ReactCurrentDispatcher,Fo=Q.ReactCurrentBatchConfig,Vo=0,zo=null,Wo=null,Ho=null,Go=!1;function Yo(){throw Error(u(321))}function Ko(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dr(t[n],e[n]))return!1;return!0}function qo(t,e,n,r,i,o){if(Vo=o,zo=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Bo.current=null===t||null===t.memoizedState?mu:bu,t=n(r,i),e.expirationTime===Vo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(u(301));o+=1,Ho=Wo=null,e.updateQueue=null,Bo.current=gu,t=n(r,i)}while(e.expirationTime===Vo)}if(Bo.current=yu,e=null!==Wo&&null!==Wo.next,Vo=0,Ho=Wo=zo=null,Go=!1,e)throw Error(u(300));return t}function $o(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ho?zo.memoizedState=Ho=t:Ho=Ho.next=t,Ho}function Qo(){if(null===Wo){var t=zo.alternate;t=null!==t?t.memoizedState:null}else t=Wo.next;var e=null===Ho?zo.memoizedState:Ho.next;if(null!==e)Ho=e,Wo=t;else{if(null===t)throw Error(u(310));t={memoizedState:(Wo=t).memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},null===Ho?zo.memoizedState=Ho=t:Ho=Ho.next=t}return Ho}function Xo(t,e){return"function"==typeof e?e(t):e}function Zo(t){var e=Qo(),n=e.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=t;var r=Wo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=a=o=null,c=i;do{var l=c.expirationTime;if(l<Vo){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(a=s=f,o=r):s=s.next=f,l>zo.expirationTime&&(zo.expirationTime=l,us(l))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),os(l,c.suspenseConfig),r=c.eagerReducer===t?c.eagerState:t(r,c.action);c=c.next}while(null!==c&&c!==i);null===s?o=r:s.next=a,Dr(r,e.memoizedState)||(Pu=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=s,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Jo(t){var e=Qo(),n=e.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);Dr(o,e.memoizedState)||(Pu=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function tu(t){var e=$o();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:t}).dispatch=vu.bind(null,zo,t),[e.memoizedState,t]}function eu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=zo.updateQueue)?(e={lastEffect:null},zo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function nu(){return Qo().memoizedState}function ru(t,e,n,r){var i=$o();zo.effectTag|=t,i.memoizedState=eu(1|e,n,void 0,void 0===r?null:r)}function iu(t,e,n,r){var i=Qo();r=void 0===r?null:r;var o=void 0;if(null!==Wo){var u=Wo.memoizedState;if(o=u.destroy,null!==r&&Ko(r,u.deps))return void eu(e,n,o,r)}zo.effectTag|=t,i.memoizedState=eu(1|e,n,o,r)}function ou(t,e){return ru(516,4,t,e)}function uu(t,e){return iu(516,4,t,e)}function au(t,e){return iu(4,2,t,e)}function su(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function cu(t,e,n){return n=null!=n?n.concat([t]):null,iu(4,2,su.bind(null,e,t),n)}function lu(){}function fu(t,e){return $o().memoizedState=[t,void 0===e?null:e],t}function hu(t,e){var n=Qo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Ko(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function du(t,e){var n=Qo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Ko(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pu(t,e,n){var r=Fi();zi(98>r?98:r,(function(){t(!0)})),zi(97<r?97:r,(function(){var r=Fo.suspense;Fo.suspense=void 0===e?null:e;try{t(!1),n()}finally{Fo.suspense=r}}))}function vu(t,e,n){var r=Ya(),i=ho.suspense;i={expirationTime:r=Ka(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===zo||null!==o&&o===zo)Go=!0,i.expirationTime=Vo,zo.expirationTime=Vo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var u=e.lastRenderedState,a=o(u,n);if(i.eagerReducer=o,i.eagerState=a,Dr(a,u))return}catch(t){}qa(t,r)}}var yu={readContext:ro,useCallback:Yo,useContext:Yo,useEffect:Yo,useImperativeHandle:Yo,useLayoutEffect:Yo,useMemo:Yo,useReducer:Yo,useRef:Yo,useState:Yo,useDebugValue:Yo,useResponder:Yo,useDeferredValue:Yo,useTransition:Yo},mu={readContext:ro,useCallback:fu,useContext:ro,useEffect:ou,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,ru(4,2,su.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ru(4,2,t,e)},useMemo:function(t,e){var n=$o();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$o();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=vu.bind(null,zo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},$o().memoizedState=t},useState:tu,useDebugValue:lu,useResponder:jo,useDeferredValue:function(t,e){var n=tu(t),r=n[0],i=n[1];return ou((function(){var n=Fo.suspense;Fo.suspense=void 0===e?null:e;try{i(t)}finally{Fo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=tu(!1),n=e[0];return e=e[1],[fu(pu.bind(null,e,t),[e,t]),n]}},bu={readContext:ro,useCallback:hu,useContext:ro,useEffect:uu,useImperativeHandle:cu,useLayoutEffect:au,useMemo:du,useReducer:Zo,useRef:nu,useState:function(){return Zo(Xo)},useDebugValue:lu,useResponder:jo,useDeferredValue:function(t,e){var n=Zo(Xo),r=n[0],i=n[1];return uu((function(){var n=Fo.suspense;Fo.suspense=void 0===e?null:e;try{i(t)}finally{Fo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Zo(Xo),n=e[0];return e=e[1],[hu(pu.bind(null,e,t),[e,t]),n]}},gu={readContext:ro,useCallback:hu,useContext:ro,useEffect:uu,useImperativeHandle:cu,useLayoutEffect:au,useMemo:du,useReducer:Jo,useRef:nu,useState:function(){return Jo(Xo)},useDebugValue:lu,useResponder:jo,useDeferredValue:function(t,e){var n=Jo(Xo),r=n[0],i=n[1];return uu((function(){var n=Fo.suspense;Fo.suspense=void 0===e?null:e;try{i(t)}finally{Fo.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Jo(Xo),n=e[0];return e=e[1],[hu(pu.bind(null,e,t),[e,t]),n]}},Su=null,Tu=null,xu=!1;function Eu(t,e){var n=_s(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function _u(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function wu(t){if(xu){var e=Tu;if(e){var n=e;if(!_u(t,e)){if(!(e=Tn(n.nextSibling))||!_u(t,e))return t.effectTag=-1025&t.effectTag|2,xu=!1,void(Su=t);Eu(Su,n)}Su=t,Tu=Tn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,xu=!1,Su=t}}function Mu(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Su=t}function Ru(t){if(t!==Su)return!1;if(!xu)return Mu(t),xu=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!bn(e,t.memoizedProps))for(e=Tu;e;)Eu(t,e),e=Tn(e.nextSibling);if(Mu(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(u(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Tu=Tn(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Tu=null}}else Tu=Su?Tn(t.stateNode.nextSibling):null;return!0}function Au(){Tu=Su=null,xu=!1}var Ou=Q.ReactCurrentOwner,Pu=!1;function Iu(t,e,n,r){e.child=null===t?Mo(e,null,n,r):wo(e,t.child,n,r)}function Cu(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=qo(t,e,n,r,o,i),null===t||Pu?(e.effectTag|=1,Iu(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),qu(t,e,i))}function Lu(t,e,n,r,i,o){if(null===t){var u=n.type;return"function"!=typeof u||ws(u)||void 0!==u.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Rs(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=u,Nu(t,e,u,r,i,o))}return u=t.child,i<o&&(i=u.memoizedProps,(n=null!==(n=n.compare)?n:Br)(i,r)&&t.ref===e.ref)?qu(t,e,o):(e.effectTag|=1,(t=Ms(u,r)).ref=e.ref,t.return=e,e.child=t)}function Nu(t,e,n,r,i,o){return null!==t&&Br(t.memoizedProps,r)&&t.ref===e.ref&&(Pu=!1,i<o)?(e.expirationTime=t.expirationTime,qu(t,e,o)):Uu(t,e,n,r,o)}function ku(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Uu(t,e,n,r,i){var o=vi(n)?di:fi.current;return o=pi(e,o),no(e,i),n=qo(t,e,n,r,o,i),null===t||Pu?(e.effectTag|=1,Iu(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),qu(t,e,i))}function Du(t,e,n,r,i){if(vi(n)){var o=!0;gi(e)}else o=!1;if(no(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),bo(e,n,r),So(e,n,r,i),r=!0;else if(null===t){var u=e.stateNode,a=e.memoizedProps;u.props=a;var s=u.context,c=n.contextType;"object"==typeof c&&null!==c?c=ro(c):c=pi(e,c=vi(n)?di:fi.current);var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof u.getSnapshotBeforeUpdate;f||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(a!==r||s!==c)&&go(e,u,r,c),io=!1;var h=e.memoizedState;u.state=h,lo(e,r,u,i),s=e.memoizedState,a!==r||h!==s||hi.current||io?("function"==typeof l&&(vo(e,n,l,r),s=e.memoizedState),(a=io||mo(e,n,a,r,h,s,c))?(f||"function"!=typeof u.UNSAFE_componentWillMount&&"function"!=typeof u.componentWillMount||("function"==typeof u.componentWillMount&&u.componentWillMount(),"function"==typeof u.UNSAFE_componentWillMount&&u.UNSAFE_componentWillMount()),"function"==typeof u.componentDidMount&&(e.effectTag|=4)):("function"==typeof u.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=s),u.props=r,u.state=s,u.context=c,r=a):("function"==typeof u.componentDidMount&&(e.effectTag|=4),r=!1)}else u=e.stateNode,uo(t,e),a=e.memoizedProps,u.props=e.type===e.elementType?a:qi(e.type,a),s=u.context,"object"==typeof(c=n.contextType)&&null!==c?c=ro(c):c=pi(e,c=vi(n)?di:fi.current),(f="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof u.getSnapshotBeforeUpdate)||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(a!==r||s!==c)&&go(e,u,r,c),io=!1,s=e.memoizedState,u.state=s,lo(e,r,u,i),h=e.memoizedState,a!==r||s!==h||hi.current||io?("function"==typeof l&&(vo(e,n,l,r),h=e.memoizedState),(l=io||mo(e,n,a,r,s,h,c))?(f||"function"!=typeof u.UNSAFE_componentWillUpdate&&"function"!=typeof u.componentWillUpdate||("function"==typeof u.componentWillUpdate&&u.componentWillUpdate(r,h,c),"function"==typeof u.UNSAFE_componentWillUpdate&&u.UNSAFE_componentWillUpdate(r,h,c)),"function"==typeof u.componentDidUpdate&&(e.effectTag|=4),"function"==typeof u.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof u.componentDidUpdate||a===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=4),"function"!=typeof u.getSnapshotBeforeUpdate||a===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),u.props=r,u.state=h,u.context=c,r=l):("function"!=typeof u.componentDidUpdate||a===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=4),"function"!=typeof u.getSnapshotBeforeUpdate||a===t.memoizedProps&&s===t.memoizedState||(e.effectTag|=256),r=!1);return ju(t,e,n,r,o,i)}function ju(t,e,n,r,i,o){ku(t,e);var u=0!=(64&e.effectTag);if(!r&&!u)return i&&Si(e,n,!1),qu(t,e,o);r=e.stateNode,Ou.current=e;var a=u&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&u?(e.child=wo(e,t.child,null,o),e.child=wo(e,null,a,o)):Iu(t,e,a,o),e.memoizedState=r.state,i&&Si(e,n,!0),e.child}function Bu(t){var e=t.stateNode;e.pendingContext?mi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&mi(0,e.context,!1),Co(t,e.containerInfo)}var Fu,Vu,zu,Wu={dehydrated:null,retryTime:0};function Hu(t,e,n){var r,i=e.mode,o=e.pendingProps,u=Uo.current,a=!1;if((r=0!=(64&e.effectTag))||(r=0!=(2&u)&&(null===t||null!==t.memoizedState)),r?(a=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(u|=1),ci(Uo,1&u),null===t){if(void 0!==o.fallback&&wu(e),a){if(a=o.fallback,(o=As(null,i,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=As(a,i,n,null)).return=e,o.sibling=n,e.memoizedState=Wu,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=Mo(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,a){if(o=o.fallback,(n=Ms(t,t.pendingProps)).return=e,0==(2&e.mode)&&(a=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(i=Ms(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=Wu,e.child=n,i}return n=wo(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,a){if(a=o.fallback,(o=As(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=As(a,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=Wu,e.child=o,n}return e.memoizedState=null,e.child=wo(e,t,o.children,n)}function Gu(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),eo(t.return,e)}function Yu(t,e,n,r,i,o){var u=t.memoizedState;null===u?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailExpiration=0,u.tailMode=i,u.lastEffect=o)}function Ku(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Iu(t,e,r.children,n),0!=(2&(r=Uo.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Gu(t,n);else if(19===t.tag)Gu(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ci(Uo,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Do(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yu(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Do(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yu(e,!0,n,null,o,e.lastEffect);break;case"together":Yu(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function qu(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&us(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(u(153));if(null!==e.child){for(n=Ms(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ms(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function $u(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qu(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return vi(e.type)&&yi(),null;case 3:return Lo(),si(hi),si(fi),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ru(e)||(e.effectTag|=4),null;case 5:ko(e),n=Io(Po.current);var o=e.type;if(null!==t&&null!=e.stateNode)Vu(t,e,o,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(u(166));return null}if(t=Io(Ao.current),Ru(e)){r=e.stateNode,o=e.type;var a=e.memoizedProps;switch(r[_n]=e,r[wn]=a,o){case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(t=0;t<Qt.length;t++)Ke(Qt[t],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"form":Ke("reset",r),Ke("submit",r);break;case"details":Ke("toggle",r);break;case"input":Et(r,a),Ke("invalid",r),sn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ke("invalid",r),sn(n,"onChange");break;case"textarea":It(r,a),Ke("invalid",r),sn(n,"onChange")}for(var s in on(o,a),t=null,a)if(a.hasOwnProperty(s)){var c=a[s];"children"===s?"string"==typeof c?r.textContent!==c&&(t=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(t=["children",""+c]):_.hasOwnProperty(s)&&null!=c&&sn(n,s)}switch(o){case"input":St(r),Mt(r,a,!0);break;case"textarea":St(r),Lt(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=cn)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,t===an&&(t=Ut(o)),t===an?"script"===o?((t=s.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=s.createElement(o,{is:r.is}):(t=s.createElement(o),"select"===o&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,o),t[_n]=e,t[wn]=r,Fu(t,e),e.stateNode=t,s=un(o,r),o){case"iframe":case"object":case"embed":Ke("load",t),c=r;break;case"video":case"audio":for(c=0;c<Qt.length;c++)Ke(Qt[c],t);c=r;break;case"source":Ke("error",t),c=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),c=r;break;case"form":Ke("reset",t),Ke("submit",t),c=r;break;case"details":Ke("toggle",t),c=r;break;case"input":Et(t,r),c=xt(t,r),Ke("invalid",t),sn(n,"onChange");break;case"option":c=At(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Ke("invalid",t),sn(n,"onChange");break;case"textarea":It(t,r),c=Pt(t,r),Ke("invalid",t),sn(n,"onChange");break;default:c=r}on(o,c);var l=c;for(a in l)if(l.hasOwnProperty(a)){var f=l[a];"style"===a?nn(t,f):"dangerouslySetInnerHTML"===a?null!=(f=f?f.__html:void 0)&&Bt(t,f):"children"===a?"string"==typeof f?("textarea"!==o||""!==f)&&Ft(t,f):"number"==typeof f&&Ft(t,""+f):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(_.hasOwnProperty(a)?null!=f&&sn(n,a):null!=f&&X(t,a,f,s))}switch(o){case"input":St(t),Mt(t,r,!1);break;case"textarea":St(t),Lt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+bt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?Ot(t,!!r.multiple,n,!1):null!=r.defaultValue&&Ot(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof c.onClick&&(t.onclick=cn)}mn(o,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)zu(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(u(166));n=Io(Po.current),Io(Ao.current),Ru(e)?(n=e.stateNode,r=e.memoizedProps,n[_n]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[_n]=e,e.stateNode=n)}return null;case 13:return si(Uo),r=e.memoizedState,0!=(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Ru(e):(r=null!==(o=t.memoizedState),n||null===o||null!==(o=t.child.sibling)&&(null!==(a=e.firstEffect)?(e.firstEffect=o,o.nextEffect=a):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Uo.current)?Ra===Sa&&(Ra=Ta):(Ra!==Sa&&Ra!==Ta||(Ra=xa),0!==Ca&&null!==_a&&(Ls(_a,Ma),Ns(_a,Ca)))),(n||r)&&(e.effectTag|=4),null);case 4:return Lo(),null;case 10:return to(e),null;case 17:return vi(e.type)&&yi(),null;case 19:if(si(Uo),null===(r=e.memoizedState))return null;if(o=0!=(64&e.effectTag),null===(a=r.rendering)){if(o)$u(r,!1);else if(Ra!==Sa||null!==t&&0!=(64&t.effectTag))for(a=e.child;null!==a;){if(null!==(t=Do(a))){for(e.effectTag|=64,$u(r,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)a=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,a=t.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return ci(Uo,1&Uo.current|2),e.child}a=a.sibling}}else{if(!o)if(null!==(t=Do(a))){if(e.effectTag|=64,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),$u(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,$u(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(a.sibling=e.child,e.child=a):(null!==(n=r.last)?n.sibling=a:e.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Bi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,e=Uo.current,ci(Uo,o?1&e|2:1&e),n):null}throw Error(u(156,e.tag))}function Xu(t){switch(t.tag){case 1:vi(t.type)&&yi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Lo(),si(hi),si(fi),0!=(64&(e=t.effectTag)))throw Error(u(285));return t.effectTag=-4097&e|64,t;case 5:return ko(t),null;case 13:return si(Uo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return si(Uo),null;case 4:return Lo(),null;case 10:return to(t),null;default:return null}}function Zu(t,e){return{value:t,source:e,stack:mt(e)}}Fu=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Vu=function(t,e,n,r,o){var u=t.memoizedProps;if(u!==r){var a,s,c=e.stateNode;switch(Io(Ao.current),t=null,n){case"input":u=xt(c,u),r=xt(c,r),t=[];break;case"option":u=At(c,u),r=At(c,r),t=[];break;case"select":u=i({},u,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":u=Pt(c,u),r=Pt(c,r),t=[];break;default:"function"!=typeof u.onClick&&"function"==typeof r.onClick&&(c.onclick=cn)}for(a in on(n,r),n=null,u)if(!r.hasOwnProperty(a)&&u.hasOwnProperty(a)&&null!=u[a])if("style"===a)for(s in c=u[a])c.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(_.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in r){var l=r[a];if(c=null!=u?u[a]:void 0,r.hasOwnProperty(a)&&l!==c&&(null!=l||null!=c))if("style"===a)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(t||(t=[]),t.push(a,n)),n=l;else"dangerouslySetInnerHTML"===a?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(t=t||[]).push(a,l)):"children"===a?c===l||"string"!=typeof l&&"number"!=typeof l||(t=t||[]).push(a,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(_.hasOwnProperty(a)?(null!=l&&sn(o,a),t||c===l||(t=[])):(t=t||[]).push(a,l))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},zu=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var Ju="function"==typeof WeakSet?WeakSet:Set;function ta(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=mt(n)),null!==n&&yt(n.type),e=e.value,null!==t&&1===t.tag&&yt(t.type);try{console.error(e)}catch(t){setTimeout((function(){throw t}))}}function ea(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){bs(t,e)}else e.current=null}function na(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:qi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(u(163))}function ra(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function ia(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function oa(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ia(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:qi(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&fo(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}fo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&mn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ue(n)))));case 19:case 17:case 20:case 21:return}throw Error(u(163))}function ua(t,e,n){switch("function"==typeof xs&&xs(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;zi(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(t){bs(i,t)}}t=t.next}while(t!==r)}))}break;case 1:ea(e),"function"==typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){bs(t,e)}}(e,n);break;case 5:ea(e);break;case 4:la(t,e,n)}}function aa(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&aa(e)}function sa(t){return 5===t.tag||3===t.tag||4===t.tag}function ca(t){t:{for(var e=t.return;null!==e;){if(sa(e)){var n=e;break t}e=e.return}throw Error(u(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(u(161))}16&n.effectTag&&(Ft(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||sa(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode).insertBefore(e,r):(n=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function la(t,e,n){for(var r,i,o=e,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(u(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag){t:for(var s=t,c=o,l=n,f=c;;)if(ua(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break t;for(;null===f.sibling;){if(null===f.return||f.return===c)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ua(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function fa(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void ra(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[wn]=r,"input"===t&&"radio"===r.type&&null!=r.name&&_t(n,r),un(t,i),e=un(t,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?nn(n,s):"dangerouslySetInnerHTML"===a?Bt(n,s):"children"===a?Ft(n,s):X(n,a,s,e)}switch(t){case"input":wt(n,r);break;case"textarea":Ct(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?Ot(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Ot(n,!!r.multiple,r.defaultValue,!0):Ot(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(u(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Ue(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Na=Bi()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=null!=(i=t.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=en("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void ha(e);case 19:return void ha(e);case 17:return}throw Error(u(163))}function ha(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ju),e.forEach((function(e){var r=Ss.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var da="function"==typeof WeakMap?WeakMap:Map;function pa(t,e,n){(n=ao(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ua||(Ua=!0,Da=r),ta(t,e)},n}function va(t,e,n){(n=ao(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return ta(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===ja?ja=new Set([this]):ja.add(this),ta(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var ya,ma=Math.ceil,ba=Q.ReactCurrentDispatcher,ga=Q.ReactCurrentOwner,Sa=0,Ta=3,xa=4,Ea=0,_a=null,wa=null,Ma=0,Ra=Sa,Aa=null,Oa=1073741823,Pa=1073741823,Ia=null,Ca=0,La=!1,Na=0,ka=null,Ua=!1,Da=null,ja=null,Ba=!1,Fa=null,Va=90,za=null,Wa=0,Ha=null,Ga=0;function Ya(){return 0!=(48&Ea)?1073741821-(Bi()/10|0):0!==Ga?Ga:Ga=1073741821-(Bi()/10|0)}function Ka(t,e,n){if(0==(2&(e=e.mode)))return 1073741823;var r=Fi();if(0==(4&e))return 99===r?1073741823:1073741822;if(0!=(16&Ea))return Ma;if(null!==n)t=Ki(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Ki(t,150,100);break;case 97:case 96:t=Ki(t,5e3,250);break;case 95:t=2;break;default:throw Error(u(326))}return null!==_a&&t===Ma&&--t,t}function qa(t,e){if(50<Wa)throw Wa=0,Ha=null,Error(u(185));if(null!==(t=$a(t,e))){var n=Fi();1073741823===e?0!=(8&Ea)&&0==(48&Ea)?Ja(t):(Xa(t),0===Ea&&Gi()):Xa(t),0==(4&Ea)||98!==n&&99!==n||(null===za?za=new Map([[t,e]]):(void 0===(n=za.get(t))||n>e)&&za.set(t,e))}}function $a(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(_a===i&&(us(e),Ra===xa&&Ls(i,Ma)),Ns(i,e)),i}function Qa(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Cs(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Xa(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Hi(Ja.bind(null,t));else{var e=Qa(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Ya();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Ci&&Ei(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Hi(Ja.bind(null,t)):Wi(r,Za.bind(null,t),{timeout:10*(1073741821-e)-Bi()}),t.callbackNode=e}}}function Za(t,e){if(Ga=0,e)return ks(t,e=Ya()),Xa(t),null;var n=Qa(t);if(0!==n){if(e=t.callbackNode,0!=(48&Ea))throw Error(u(327));if(vs(),t===_a&&n===Ma||ns(t,n),null!==wa){var r=Ea;Ea|=16;for(var i=is();;)try{ss();break}catch(e){rs(t,e)}if(Ji(),Ea=r,ba.current=i,1===Ra)throw e=Aa,ns(t,n),Ls(t,n),Xa(t),e;if(null===wa)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=Ra,_a=null,r){case Sa:case 1:throw Error(u(345));case 2:ks(t,2<n?2:n);break;case Ta:if(Ls(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=fs(i)),1073741823===Oa&&10<(i=Na+500-Bi())){if(La){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,ns(t,n);break}}if(0!==(o=Qa(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=gn(hs.bind(null,t),i);break}hs(t);break;case xa:if(Ls(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=fs(i)),La&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,ns(t,n);break}if(0!==(i=Qa(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Pa?r=10*(1073741821-Pa)-Bi():1073741823===Oa?r=0:(r=10*(1073741821-Oa)-5e3,0>(r=(i=Bi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ma(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=gn(hs.bind(null,t),r);break}hs(t);break;case 5:if(1073741823!==Oa&&null!==Ia){o=Oa;var a=Ia;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=Bi()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Ls(t,n),t.timeoutHandle=gn(hs.bind(null,t),r);break}}hs(t);break;default:throw Error(u(329))}if(Xa(t),t.callbackNode===e)return Za.bind(null,t)}}return null}function Ja(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!=(48&Ea))throw Error(u(327));if(vs(),t===_a&&e===Ma||ns(t,e),null!==wa){var n=Ea;Ea|=16;for(var r=is();;)try{as();break}catch(e){rs(t,e)}if(Ji(),Ea=n,ba.current=r,1===Ra)throw n=Aa,ns(t,e),Ls(t,e),Xa(t),n;if(null!==wa)throw Error(u(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,_a=null,hs(t),Xa(t)}return null}function ts(t,e){var n=Ea;Ea|=1;try{return t(e)}finally{0===(Ea=n)&&Gi()}}function es(t,e){var n=Ea;Ea&=-2,Ea|=8;try{return t(e)}finally{0===(Ea=n)&&Gi()}}function ns(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Sn(n)),null!==wa)for(n=wa.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&yi();break;case 3:Lo(),si(hi),si(fi);break;case 5:ko(r);break;case 4:Lo();break;case 13:case 19:si(Uo);break;case 10:to(r)}n=n.return}_a=t,wa=Ms(t.current,null),Ma=e,Ra=Sa,Aa=null,Pa=Oa=1073741823,Ia=null,Ca=0,La=!1}function rs(t,e){for(;;){try{if(Ji(),Bo.current=yu,Go)for(var n=zo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Vo=0,Ho=Wo=zo=null,Go=!1,null===wa||null===wa.return)return Ra=1,Aa=e,wa=null;t:{var i=t,o=wa.return,u=wa,a=e;if(e=Ma,u.effectTag|=2048,u.firstEffect=u.lastEffect=null,null!==a&&"object"==typeof a&&"function"==typeof a.then){var s=a;if(0==(2&u.mode)){var c=u.alternate;c?(u.updateQueue=c.updateQueue,u.memoizedState=c.memoizedState,u.expirationTime=c.expirationTime):(u.updateQueue=null,u.memoizedState=null)}var l=0!=(1&Uo.current),f=o;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(h){var v=f.updateQueue;if(null===v){var y=new Set;y.add(s),f.updateQueue=y}else v.add(s);if(0==(2&f.mode)){if(f.effectTag|=64,u.effectTag&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var m=ao(1073741823,null);m.tag=2,so(u,m)}u.expirationTime=1073741823;break t}a=void 0,u=e;var b=i.pingCache;if(null===b?(b=i.pingCache=new da,a=new Set,b.set(s,a)):void 0===(a=b.get(s))&&(a=new Set,b.set(s,a)),!a.has(u)){a.add(u);var g=gs.bind(null,i,s,u);s.then(g,g)}f.effectTag|=4096,f.expirationTime=e;break t}f=f.return}while(null!==f);a=Error((yt(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+mt(u))}5!==Ra&&(Ra=2),a=Zu(a,u),f=o;do{switch(f.tag){case 3:s=a,f.effectTag|=4096,f.expirationTime=e,co(f,pa(f,s,e));break t;case 1:s=a;var S=f.type,T=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof S.getDerivedStateFromError||null!==T&&"function"==typeof T.componentDidCatch&&(null===ja||!ja.has(T)))){f.effectTag|=4096,f.expirationTime=e,co(f,va(f,s,e));break t}}f=f.return}while(null!==f)}wa=ls(wa)}catch(t){e=t;continue}break}}function is(){var t=ba.current;return ba.current=yu,null===t?yu:t}function os(t,e){t<Oa&&2<t&&(Oa=t),null!==e&&t<Pa&&2<t&&(Pa=t,Ia=e)}function us(t){t>Ca&&(Ca=t)}function as(){for(;null!==wa;)wa=cs(wa)}function ss(){for(;null!==wa&&!Li();)wa=cs(wa)}function cs(t){var e=ya(t.alternate,t,Ma);return t.memoizedProps=t.pendingProps,null===e&&(e=ls(t)),ga.current=null,e}function ls(t){wa=t;do{var e=wa.alternate;if(t=wa.return,0==(2048&wa.effectTag)){if(e=Qu(e,wa,Ma),1===Ma||1!==wa.childExpirationTime){for(var n=0,r=wa.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}wa.childExpirationTime=n}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=wa.firstEffect),null!==wa.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=wa.firstEffect),t.lastEffect=wa.lastEffect),1<wa.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=wa:t.firstEffect=wa,t.lastEffect=wa))}else{if(null!==(e=Xu(wa)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=wa.sibling))return e;wa=t}while(null!==wa);return Ra===Sa&&(Ra=5),null}function fs(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function hs(t){var e=Fi();return zi(99,ds.bind(null,t,e)),null}function ds(t,e){do{vs()}while(null!==Fa);if(0!=(48&Ea))throw Error(u(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(u(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=fs(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===_a&&(wa=_a=null,Ma=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ea;Ea|=32,ga.current=null,vn=Ye;var a=dn();if(pn(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else t:{var c=(s=(s=a.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(c&&0!==c.rangeCount){s=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{s.nodeType,f.nodeType}catch(t){s=null;break t}var h=0,d=-1,p=-1,v=0,y=0,m=a,b=null;e:for(;;){for(var g;m!==s||0!==l&&3!==m.nodeType||(d=h+l),m!==f||0!==c&&3!==m.nodeType||(p=h+c),3===m.nodeType&&(h+=m.nodeValue.length),null!==(g=m.firstChild);)b=m,m=g;for(;;){if(m===a)break e;if(b===s&&++v===l&&(d=h),b===f&&++y===c&&(p=h),null!==(g=m.nextSibling))break;b=(m=b).parentNode}m=g}s=-1===d||-1===p?null:{start:d,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;yn={activeElementDetached:null,focusedElem:a,selectionRange:s},Ye=!1,ka=i;do{try{ps()}catch(t){if(null===ka)throw Error(u(330));bs(ka,t),ka=ka.nextEffect}}while(null!==ka);ka=i;do{try{for(a=t,s=e;null!==ka;){var S=ka.effectTag;if(16&S&&Ft(ka.stateNode,""),128&S){var T=ka.alternate;if(null!==T){var x=T.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&S){case 2:ca(ka),ka.effectTag&=-3;break;case 6:ca(ka),ka.effectTag&=-3,fa(ka.alternate,ka);break;case 1024:ka.effectTag&=-1025;break;case 1028:ka.effectTag&=-1025,fa(ka.alternate,ka);break;case 4:fa(ka.alternate,ka);break;case 8:la(a,l=ka,s),aa(l)}ka=ka.nextEffect}}catch(t){if(null===ka)throw Error(u(330));bs(ka,t),ka=ka.nextEffect}}while(null!==ka);if(x=yn,T=dn(),S=x.focusedElem,s=x.selectionRange,T!==S&&S&&S.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(S.ownerDocument.documentElement,S)){null!==s&&pn(S)&&(T=s.start,void 0===(x=s.end)&&(x=T),"selectionStart"in S?(S.selectionStart=T,S.selectionEnd=Math.min(x,S.value.length)):(x=(T=S.ownerDocument||document)&&T.defaultView||window).getSelection&&(x=x.getSelection(),l=S.textContent.length,a=Math.min(s.start,l),s=void 0===s.end?a:Math.min(s.end,l),!x.extend&&a>s&&(l=s,s=a,a=l),l=hn(S,a),f=hn(S,s),l&&f&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((T=T.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),a>s?(x.addRange(T),x.extend(f.node,f.offset)):(T.setEnd(f.node,f.offset),x.addRange(T))))),T=[];for(x=S;x=x.parentNode;)1===x.nodeType&&T.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof S.focus&&S.focus(),S=0;S<T.length;S++)(x=T[S]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Ye=!!vn,yn=vn=null,t.current=n,ka=i;do{try{for(S=t;null!==ka;){var E=ka.effectTag;if(36&E&&oa(S,ka.alternate,ka),128&E){T=void 0;var _=ka.ref;if(null!==_){var w=ka.stateNode;switch(ka.tag){case 5:T=w;break;default:T=w}"function"==typeof _?_(T):_.current=T}}ka=ka.nextEffect}}catch(t){if(null===ka)throw Error(u(330));bs(ka,t),ka=ka.nextEffect}}while(null!==ka);ka=null,Ni(),Ea=o}else t.current=n;if(Ba)Ba=!1,Fa=t,Va=e;else for(ka=i;null!==ka;)e=ka.nextEffect,ka.nextEffect=null,ka=e;if(0===(e=t.firstPendingTime)&&(ja=null),1073741823===e?t===Ha?Wa++:(Wa=0,Ha=t):Wa=0,"function"==typeof Ts&&Ts(n.stateNode,r),Xa(t),Ua)throw Ua=!1,t=Da,Da=null,t;return 0!=(8&Ea)||Gi(),null}function ps(){for(;null!==ka;){var t=ka.effectTag;0!=(256&t)&&na(ka.alternate,ka),0==(512&t)||Ba||(Ba=!0,Wi(97,(function(){return vs(),null}))),ka=ka.nextEffect}}function vs(){if(90!==Va){var t=97<Va?97:Va;return Va=90,zi(t,ys)}}function ys(){if(null===Fa)return!1;var t=Fa;if(Fa=null,0!=(48&Ea))throw Error(u(331));var e=Ea;for(Ea|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ra(5,n),ia(5,n)}}catch(e){if(null===t)throw Error(u(330));bs(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return Ea=e,Gi(),!0}function ms(t,e,n){so(t,e=pa(t,e=Zu(n,e),1073741823)),null!==(t=$a(t,1073741823))&&Xa(t)}function bs(t,e){if(3===t.tag)ms(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){ms(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ja||!ja.has(r))){so(n,t=va(n,t=Zu(e,t),1073741823)),null!==(n=$a(n,1073741823))&&Xa(n);break}}n=n.return}}function gs(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),_a===t&&Ma===n?Ra===xa||Ra===Ta&&1073741823===Oa&&Bi()-Na<500?ns(t,Ma):La=!0:Cs(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Xa(t)))}function Ss(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Ka(e=Ya(),t,null)),null!==(t=$a(t,e))&&Xa(t)}ya=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||hi.current)Pu=!0;else{if(r<n){switch(Pu=!1,e.tag){case 3:Bu(e),Au();break;case 5:if(No(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:vi(e.type)&&gi(e);break;case 4:Co(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,ci($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Hu(t,e,n):(ci(Uo,1&Uo.current),null!==(e=qu(t,e,n))?e.sibling:null);ci(Uo,1&Uo.current);break;case 19:if(r=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(r)return Ku(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),ci(Uo,Uo.current),!r)return null}return qu(t,e,n)}Pu=!1}}else Pu=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=pi(e,fi.current),no(e,n),i=qo(null,e,r,t,i,n),e.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)){var o=!0;gi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(e);var a=r.getDerivedStateFromProps;"function"==typeof a&&vo(e,r,a,t),i.updater=yo,e.stateNode=i,i._reactInternalFiber=e,So(e,r,t,n),e=ju(null,e,r,!0,o,n)}else e.tag=0,Iu(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"==typeof t)return ws(t)?1:0;if(null!=t){if((t=t.$$typeof)===st)return 11;if(t===ft)return 14}return 2}(i),t=qi(i,t),o){case 0:e=Uu(null,e,i,t,n);break t;case 1:e=Du(null,e,i,t,n);break t;case 11:e=Cu(null,e,i,t,n);break t;case 14:e=Lu(null,e,i,qi(i.type,t),r,n);break t}throw Error(u(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Uu(t,e,r,i=e.elementType===r?i:qi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Du(t,e,r,i=e.elementType===r?i:qi(r,i),n);case 3:if(Bu(e),r=e.updateQueue,null===t||null===r)throw Error(u(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,uo(t,e),lo(e,r,null,n),(r=e.memoizedState.element)===i)Au(),e=qu(t,e,n);else{if((i=e.stateNode.hydrate)&&(Tu=Tn(e.stateNode.containerInfo.firstChild),Su=e,i=xu=!0),i)for(n=Mo(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Iu(t,e,r,n),Au();e=e.child}return e;case 5:return No(e),null===t&&wu(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,bn(r,i)?a=null:null!==o&&bn(r,o)&&(e.effectTag|=16),ku(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Iu(t,e,a,n),e=e.child),e;case 6:return null===t&&wu(e),null;case 13:return Hu(t,e,n);case 4:return Co(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=wo(e,null,r,n):Iu(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Cu(t,e,r,i=e.elementType===r?i:qi(r,i),n);case 7:return Iu(t,e,e.pendingProps,n),e.child;case 8:case 12:return Iu(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value;var s=e.type._context;if(ci($i,s._currentValue),s._currentValue=o,null!==a)if(s=a.value,0===(o=Dr(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(a.children===i.children&&!hi.current){e=qu(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===s.tag&&((l=ao(n,null)).tag=2,so(s,l)),s.expirationTime<n&&(s.expirationTime=n),null!==(l=s.alternate)&&l.expirationTime<n&&(l.expirationTime=n),eo(s.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else a=10===s.tag&&s.type===e.type?null:s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Iu(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,no(e,n),r=r(i=ro(i,o.unstable_observedBits)),e.effectTag|=1,Iu(t,e,r,n),e.child;case 14:return o=qi(i=e.type,e.pendingProps),Lu(t,e,i,o=qi(i.type,o),r,n);case 15:return Nu(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,vi(r)?(t=!0,gi(e)):t=!1,no(e,n),bo(e,r,i),So(e,r,i,n),ju(null,e,r,!0,t,n);case 19:return Ku(t,e,n)}throw Error(u(156,e.tag))};var Ts=null,xs=null;function Es(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function _s(t,e,n,r){return new Es(t,e,n,r)}function ws(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ms(t,e){var n=t.alternate;return null===n?((n=_s(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rs(t,e,n,r,i,o){var a=2;if(r=t,"function"==typeof t)ws(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case nt:return As(n.children,i,o,e);case at:a=8,i|=7;break;case rt:a=8,i|=1;break;case it:return(t=_s(12,n,e,8|i)).elementType=it,t.type=it,t.expirationTime=o,t;case ct:return(t=_s(13,n,e,i)).type=ct,t.elementType=ct,t.expirationTime=o,t;case lt:return(t=_s(19,n,e,i)).elementType=lt,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case ot:a=10;break t;case ut:a=9;break t;case st:a=11;break t;case ft:a=14;break t;case ht:a=16,r=null;break t;case dt:a=22;break t}throw Error(u(130,null==t?t:typeof t,""))}return(e=_s(a,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function As(t,e,n,r){return(t=_s(7,t,r,e)).expirationTime=n,t}function Os(t,e,n){return(t=_s(6,t,null,e)).expirationTime=n,t}function Ps(t,e,n){return(e=_s(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Is(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Cs(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Ls(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Ns(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function ks(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Us(t,e,n,r){var i=e.current,o=Ya(),a=ho.suspense;o=Ka(o,i,a);t:if(n){e:{if(Jt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(u(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(vi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);throw Error(u(171))}if(1===n.tag){var c=n.type;if(vi(c)){n=bi(n,c,s);break t}}n=s}else n=li;return null===e.context?e.context=n:e.pendingContext=n,(e=ao(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),so(i,e),qa(i,o),o}function Ds(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function js(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Bs(t,e){js(t,e),(t=t.alternate)&&js(t,e)}function Fs(t,e,n){var r=new Is(t,e,n=null!=n&&!0===n.hydrate),i=_s(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,oo(i),t[Mn]=r.current,n&&0!==e&&function(t,e){var n=Zt(e);Me.forEach((function(t){pe(t,e,n)})),Re.forEach((function(t){pe(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function Vs(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function zs(t,e,n,r,i){var o=n._reactRootContainer;if(o){var u=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var t=Ds(u);a.call(t)}}Us(e,u,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Fs(t,0,e?{hydrate:!0}:void 0)}(n,r),u=o._internalRoot,"function"==typeof i){var s=i;i=function(){var t=Ds(u);s.call(t)}}es((function(){Us(e,u,t,i)}))}return Ds(u)}function Ws(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Hs(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vs(e))throw Error(u(200));return Ws(t,e,null,n)}Fs.prototype.render=function(t){Us(t,this._internalRoot,null,null)},Fs.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Us(null,t,null,(function(){e[Mn]=null}))},ve=function(t){if(13===t.tag){var e=Ki(Ya(),150,100);qa(t,e),Bs(t,e)}},ye=function(t){13===t.tag&&(qa(t,3),Bs(t,3))},me=function(t){if(13===t.tag){var e=Ya();qa(t,e=Ka(e,t,null)),Bs(t,e)}},A=function(t,e,n){switch(e){case"input":if(wt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pn(r);if(!i)throw Error(u(90));Tt(r),wt(r,i)}}}break;case"textarea":Ct(t,n);break;case"select":null!=(e=n.value)&&Ot(t,!!n.multiple,e,!1)}},N=ts,k=function(t,e,n,r,i){var o=Ea;Ea|=4;try{return zi(98,t.bind(null,e,n,r,i))}finally{0===(Ea=o)&&Gi()}},U=function(){0==(49&Ea)&&(function(){if(null!==za){var t=za;za=null,t.forEach((function(t,e){ks(e,t),Xa(e)})),Gi()}}(),vs())},D=function(t,e){var n=Ea;Ea|=2;try{return t(e)}finally{0===(Ea=n)&&Gi()}};var Gs,Ys,Ks={Events:[An,On,Pn,M,E,Dn,function(t){ie(t,Un)},C,L,Xe,ae,vs,{current:!1}]};Ys=(Gs={findFiberByHostInstance:Rn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Ts=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(t){}},xs=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}}(i({},Gs,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return Ys?Ys(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ks,e.createPortal=Hs,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(u(188));throw Error(u(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!=(48&Ea))throw Error(u(187));var n=Ea;Ea|=1;try{return zi(99,t.bind(null,e))}finally{Ea=n,Gi()}},e.hydrate=function(t,e,n){if(!Vs(e))throw Error(u(200));return zs(null,t,e,!0,n)},e.render=function(t,e,n){if(!Vs(e))throw Error(u(200));return zs(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Vs(t))throw Error(u(40));return!!t._reactRootContainer&&(es((function(){zs(null,null,t,!1,(function(){t._reactRootContainer=null,t[Mn]=null}))})),!0)},e.unstable_batchedUpdates=ts,e.unstable_createPortal=function(t,e){return Hs(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vs(n))throw Error(u(200));if(null==t||void 0===t._reactInternalFiber)throw Error(u(38));return zs(t,e,n,!1,r)},e.version="16.13.1"},function(t,e,n){"use strict";t.exports=n(117)},function(t,e,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,u,a;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,c=null,l=function(){if(null!==s)try{var t=e.unstable_now();s(!0,t),s=null}catch(t){throw setTimeout(l,0),t}},f=Date.now();e.unstable_now=function(){return Date.now()-f},r=function(t){null!==s?setTimeout(r,0,t):(s=t,setTimeout(l,0))},i=function(t,e){c=setTimeout(t,e)},o=function(){clearTimeout(c)},u=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,v=window.clearTimeout;if("undefined"!=typeof console){var y=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)e.unstable_now=function(){return h.now()};else{var m=d.now();e.unstable_now=function(){return d.now()-m}}var b=!1,g=null,S=-1,T=5,x=0;u=function(){return e.unstable_now()>=x},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):T=0<t?Math.floor(1e3/t):5};var E=new MessageChannel,_=E.port2;E.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();x=t+T;try{g(!0,t)?_.postMessage(null):(b=!1,g=null)}catch(t){throw _.postMessage(null),t}}else b=!1},r=function(t){g=t,b||(b=!0,_.postMessage(null))},i=function(t,n){S=p((function(){t(e.unstable_now())}),n)},o=function(){v(S),S=-1}}function w(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<A(i,e)))break t;t[r]=e,t[n]=i,n=r}}function M(t){return void 0===(t=t[0])?null:t}function R(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,u=t[o],a=o+1,s=t[a];if(void 0!==u&&0>A(u,n))void 0!==s&&0>A(s,u)?(t[r]=s,t[a]=n,r=a):(t[r]=u,t[o]=n,r=o);else{if(!(void 0!==s&&0>A(s,n)))break t;t[r]=s,t[a]=n,r=a}}}return e}return null}function A(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var O=[],P=[],I=1,C=null,L=3,N=!1,k=!1,U=!1;function D(t){for(var e=M(P);null!==e;){if(null===e.callback)R(P);else{if(!(e.startTime<=t))break;R(P),e.sortIndex=e.expirationTime,w(O,e)}e=M(P)}}function j(t){if(U=!1,D(t),!k)if(null!==M(O))k=!0,r(B);else{var e=M(P);null!==e&&i(j,e.startTime-t)}}function B(t,n){k=!1,U&&(U=!1,o()),N=!0;var r=L;try{for(D(n),C=M(O);null!==C&&(!(C.expirationTime>n)||t&&!u());){var a=C.callback;if(null!==a){C.callback=null,L=C.priorityLevel;var s=a(C.expirationTime<=n);n=e.unstable_now(),"function"==typeof s?C.callback=s:C===M(O)&&R(O),D(n)}else R(O);C=M(O)}if(null!==C)var c=!0;else{var l=M(P);null!==l&&i(j,l.startTime-n),c=!1}return c}finally{C=null,L=r,N=!1}}function F(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){k||N||(k=!0,r(B))},e.unstable_getCurrentPriorityLevel=function(){return L},e.unstable_getFirstCallbackNode=function(){return M(O)},e.unstable_next=function(t){switch(L){case 1:case 2:case 3:var e=3;break;default:e=L}var n=L;L=e;try{return t()}finally{L=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=V,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=L;L=t;try{return e()}finally{L=n}},e.unstable_scheduleCallback=function(t,n,u){var a=e.unstable_now();if("object"==typeof u&&null!==u){var s=u.delay;s="number"==typeof s&&0<s?a+s:a,u="number"==typeof u.timeout?u.timeout:F(t)}else u=F(t),s=a;return t={id:I++,callback:n,priorityLevel:t,startTime:s,expirationTime:u=s+u,sortIndex:-1},s>a?(t.sortIndex=s,w(P,t),null===M(O)&&t===M(P)&&(U?o():U=!0,i(j,s-a))):(t.sortIndex=u,w(O,t),k||N||(k=!0,r(B))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();D(t);var n=M(O);return n!==C&&null!==C&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<C.expirationTime||u()},e.unstable_wrapCallback=function(t){var e=L;return function(){var n=L;L=e;try{return t.apply(this,arguments)}finally{L=n}}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function u(t){try{s(r.next(t))}catch(t){o(t)}}function a(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}s((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(11),o=n(90),u=n(132),a=n(27);class s extends i.Component{componentDidMount(){return r(this,void 0,void 0,(function*(){this.props.game.init(this.refs.main_canvas.getOpenGL(),this.props.uiListener)}))}render(){return i.createElement(i.Fragment,null,i.createElement(u.UIContainer,{game:this.props.game}),i.createElement(o.CanvasComponent,{ref:"main_canvas",id:"main_canvas",dom_width:a.DOM_WIDTH,dom_height:a.DOM_HEIGHT,width:a.WIDTH,height:a.HEIGHT,resolution:a.RES_DIV}))}}e.GameComponent=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11);class i extends r.PureComponent{render(){return r.createElement("canvas",{ref:"canvas",id:this.props.id,width:this.props.dom_width/this.props.resolution,height:this.props.dom_height/this.props.resolution,style:{width:this.props.dom_width,height:this.props.dom_height,imageRendering:"pixelated"}})}componentDidMount(){this.canvas=this.refs.canvas,this.canvasContext=this.canvas.getContext("webgl")}getOpenGL(){return this.canvasContext}}e.CanvasComponent=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ScreenBuffer=class{constructor(t,e,n){this.gl=t,this.width=e,this.height=n}getOpenGL(){return this.gl}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(111),i=n(14),o=n(122),u=n(129),a=n(130),s=n(131);e.RenderService=class{constructor(t){this.resourceManager=t,this.spriteRenderService=new a.SpriteRenderService,this.wallRenderService=new s.WallRenderService,this.floorRenderService=new o.FloorRenderService,this.screenShakeService=new u.ScreenShakeService}init(t){this.gl=t,this.spriteRenderService.init(t),this.spriteRenderService.attachSpritesheet(this.resourceManager.manifest.spritesheets[i.SpriteSheets.SPRITE].getTexture()),this.wallRenderService.init(t),this.wallRenderService.attachSpritesheet(this.resourceManager.manifest.spritesheets[i.SpriteSheets.SCENERY].getTexture()),this.floorRenderService.init(t),this.floorRenderService.attachSpritesheet(this.resourceManager.manifest.spritesheets[i.SpriteSheets.SCENERY].getTexture())}draw(){if(!this.camera)return;const{modelViewMatrix:t,projectionMatrix:e}=this.calculateCameraMatrices();this.spriteRenderService.attachViewMatrices(t,e),this.wallRenderService.attachViewMatrices(t,e),this.floorRenderService.attachViewMatrices(t,e),this.clearScreen(),this.screenShakeService.update(),this.spriteRenderService.draw(),this.wallRenderService.draw(),this.floorRenderService.draw()}attachCamera(t){this.camera=t}clearScreen(){this.gl.clearColor(0,0,0,1),this.gl.clearDepth(1),this.gl.enable(this.gl.DEPTH_TEST),this.gl.depthFunc(this.gl.LEQUAL),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}calculateCameraMatrices(){const t=this.camera.fov*Math.PI/180,e=r.mat4.create(),n=r.mat4.create();return r.mat4.perspective(e,t,this.camera.aspectRatio,this.camera.zNear,this.camera.zFar),r.mat4.rotateY(n,n,this.camera.angle),r.mat4.translate(n,n,[-this.camera.position.x,-this.camera.height,-this.camera.position.y]),this.screenShakeService.applyToMatrices(n),{modelViewMatrix:n,projectionMatrix:e}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(79),i=n(80);e.FloorRenderService=class{init(t){this.gl=t,this.shader=i.compileTextureRepeatShader(t),this.floorArray=new r.SyncedArray({onReconstruct:e=>this.onArrayReconstruct(t,e),onUpdate:e=>this.onArrayUpdate(t),onInjection:(t,e)=>this.onInjection(t,e.obj)}),this.positionBuffer=t.createBuffer(),this.textureBuffer=t.createBuffer(),this.textureStartBuffer=t.createBuffer(),this.textureSizeBuffer=t.createBuffer()}draw(){if(this.floorArray.sync(),0===this.floorArray.getArray().length)return;const t=this.gl.FLOAT;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.gl.vertexAttribPointer(this.shader.attribute.vertexPosition,3,t,!1,0,0),this.gl.enableVertexAttribArray(this.shader.attribute.vertexPosition),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.textureBuffer),this.gl.vertexAttribPointer(this.shader.attribute.texturePosition,2,t,!1,0,0),this.gl.enableVertexAttribArray(this.shader.attribute.texturePosition),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.textureStartBuffer),this.gl.vertexAttribPointer(this.shader.attribute.textureStart,2,t,!1,0,0),this.gl.enableVertexAttribArray(this.shader.attribute.textureStart),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.textureSizeBuffer),this.gl.vertexAttribPointer(this.shader.attribute.textureSize,2,t,!1,0,0),this.gl.enableVertexAttribArray(this.shader.attribute.textureSize),this.gl.useProgram(this.shader.shaderId),this.gl.uniformMatrix4fv(this.shader.uniform.projectionMatrix,!1,this.projectionMatrix),this.gl.uniformMatrix4fv(this.shader.uniform.modelMatrix,!1,this.modelViewMatrix),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.spritesheet),this.gl.uniform1i(this.shader.attribute.textureSampler,0);const e=this.positions.length/3;this.gl.drawArrays(this.gl.TRIANGLES,0,e)}createItem(t){return{renderId:this.floorArray.createItem(t)}}updateItem(t,e){this.floorArray.updateItem(t.renderId,e)}freeItem(t){this.floorArray.freeItem(t.renderId)}attachSpritesheet(t){this.spritesheet=t}attachViewMatrices(t,e){this.modelViewMatrix=t,this.projectionMatrix=e}onArrayReconstruct(t,e){const n=e.length;this.positions=new Float32Array(new Array(2*n*3*3).fill(0)),this.texture=new Float32Array(new Array(2*n*3*2).fill(0)),this.textureStart=new Float32Array(new Array(2*n*3*2).fill(0)),this.textureSize=new Float32Array(new Array(2*n*3*2).fill(0));for(let t=0;t<e.length;t++)this.onInjection(t,e[t].obj);this.onArrayUpdate(t)}onArrayUpdate(t){t.bindBuffer(t.ARRAY_BUFFER,this.positionBuffer),t.bufferData(t.ARRAY_BUFFER,this.positions,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.textureBuffer),t.bufferData(t.ARRAY_BUFFER,this.texture,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.textureStartBuffer),t.bufferData(t.ARRAY_BUFFER,this.textureStart,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.textureSizeBuffer),t.bufferData(t.ARRAY_BUFFER,this.textureSize,t.STATIC_DRAW)}onInjection(t,e){const n=2*t*3*2,r=2*t*3*3,{startPos:i,endPos:o,height:u,textureX:a,textureY:s,textureWidth:c,textureHeight:l,repeatWidth:f,repeatHeight:h}=e;this.positions[r]=i[0],this.positions[r+1]=u,this.positions[r+2]=i[1],this.positions[r+3]=o[0],this.positions[r+4]=u,this.positions[r+5]=i[1],this.positions[r+6]=i[0],this.positions[r+7]=u,this.positions[r+8]=o[1],this.positions[r+9]=i[0],this.positions[r+10]=u,this.positions[r+11]=o[1],this.positions[r+12]=o[0],this.positions[r+13]=u,this.positions[r+14]=i[1],this.positions[r+15]=o[0],this.positions[r+16]=u,this.positions[r+17]=o[1],this.texture[n]=a,this.texture[n+1]=s,this.texture[n+2]=a+c,this.texture[n+3]=s,this.texture[n+4]=a,this.texture[n+5]=s+l,this.texture[n+6]=a,this.texture[n+7]=s+l,this.texture[n+8]=a+c,this.texture[n+9]=s,this.texture[n+10]=a+c,this.texture[n+11]=s+l,this.textureStart[n]=a,this.textureStart[n+1]=s,this.textureStart[n+2]=a,this.textureStart[n+3]=s,this.textureStart[n+4]=a,this.textureStart[n+5]=s,this.textureStart[n+6]=a,this.textureStart[n+7]=s,this.textureStart[n+8]=a,this.textureStart[n+9]=s,this.textureStart[n+10]=a,this.textureStart[n+11]=s,this.textureSize[n]=f,this.textureSize[n+1]=h,this.textureSize[n+2]=f,this.textureSize[n+3]=h,this.textureSize[n+4]=f,this.textureSize[n+5]=h,this.textureSize[n+6]=f,this.textureSize[n+7]=h,this.textureSize[n+8]=f,this.textureSize[n+9]=h,this.textureSize[n+10]=f,this.textureSize[n+11]=h}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(91),i=n(92);e.fsSource=`\n    varying lowp vec2 vTextureCoord;\n    uniform sampler2D uSampler;\n\n    varying lowp vec4 position;\n\n    ${r.fadeFunction}\n    ${i.hazeFunction}\n\n    void main() {\n      lowp vec4 texColor = texture2D(uSampler, vTextureCoord);\n      if(texColor.a < 1.0) {\n        discard;\n      }\n\n      lowp float fadeAccuracy = ${r.fadePixelAccuracy}.0;\n      lowp float distance = length(floor(position * fadeAccuracy) / fadeAccuracy);\n      lowp float multiplier = fade(distance);\n\n      gl_FragColor = vec4(haze(texColor.rgb * multiplier), 1);\n    }\n  `},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(91),i=n(92);e.rfsSource=`\n    varying lowp vec2 vTextureCoord;\n    varying lowp vec2 textureModStart;\n    varying lowp vec2 textureModSize;\n    uniform sampler2D uSampler;\n\n    varying lowp vec4 position;\n\n    ${r.fadeFunction}\n    ${i.hazeFunction}\n\n    void main() {\n      lowp vec4 texColor = texture2D(uSampler, textureModStart + mod(vTextureCoord - textureModStart, textureModSize));\n      if(texColor.a < 1.0) {\n        discard;\n      }\n\n      lowp float fadeAccuracy = ${r.fadePixelAccuracy}.0;\n      lowp float distance = length(floor(position * fadeAccuracy) / fadeAccuracy);\n      lowp float multiplier = fade(distance);\n\n      gl_FragColor =  vec4(haze(texColor.rgb * multiplier), 1);\n    }\n  `},function(t,e,n){"use strict";function r(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(alert("An error occurred compiling the shaders: "+t.getShaderInfoLog(r)),t.deleteShader(r),null)}Object.defineProperty(e,"__esModule",{value:!0}),e.initShaderProgram=function(t,e,n){const i=r(t,t.VERTEX_SHADER,e),o=r(t,t.FRAGMENT_SHADER,n),u=t.createProgram();return t.attachShader(u,i),t.attachShader(u,o),t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)?u:(alert("Unable to initialize the shader program: "+t.getProgramInfoLog(u)),null)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vertexPosition="aVertexPosition",e.vertexTranslation="aVertexTranslation",e.vertexColour="colour",e.modelMatrix="uModelViewMatrix";const r={vertexPosition:"aVertexPosition",vertexTranslation:"aVertexTranslation",modelMatrix:"uModelViewMatrix",textureSampler:"uSampler",projectionMatrix:"uProjectionMatrix",texturePosition:"aTextureCoord"},i=`\n    attribute vec4 ${r.vertexPosition};\n    attribute vec4 ${r.vertexTranslation};\n    attribute vec2 ${r.texturePosition};\n\n    uniform mat4 ${r.modelMatrix};\n    uniform mat4 ${r.projectionMatrix};\n\n    varying lowp vec2 vTextureCoord;\n    varying lowp vec4 position;\n\n    void main() {\n      mat4 billboardMatrix = mat4(\n        ${r.modelMatrix}[0][0], 0, ${r.modelMatrix}[0][2], 0,\n        0, 1, 0, 0,\n        ${r.modelMatrix}[2][0], 0, ${r.modelMatrix}[2][2], 0,\n        0, 0, 0, 1\n      );\n      vec4 rotatedPosition = (${r.vertexPosition} * billboardMatrix) + ${r.vertexTranslation};\n\n      gl_Position = ${r.projectionMatrix} * ${r.modelMatrix} * rotatedPosition;\n      vTextureCoord = ${r.texturePosition};\n      position = gl_Position / 2.0;\n    }\n  `;e.BilloardVertex={v:r,source:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vertexPosition="aVertexPosition",e.vertexTranslation="aVertexTranslation",e.vertexColour="colour",e.modelMatrix="uModelViewMatrix",e.v={vertexPosition:"aVertexPosition",modelMatrix:"uModelViewMatrix",textureSampler:"uSampler",projectionMatrix:"uProjectionMatrix",texturePosition:"aTextureCoord",textureStart:"textureStart",textureSize:"textureSize"},e.source=`\n    attribute vec4 ${e.v.vertexPosition};\n    attribute vec2 ${e.v.texturePosition};\n    attribute vec2 ${e.v.textureStart};\n    attribute vec2 ${e.v.textureSize};\n\n    uniform mat4 ${e.v.modelMatrix};\n    uniform mat4 ${e.v.projectionMatrix};\n\n    varying lowp vec2 vTextureCoord;\n    varying lowp vec2 textureModStart;\n    varying lowp vec2 textureModSize;\n\n    varying lowp vec4 position;\n\n    void main() {\n      gl_Position = ${e.v.projectionMatrix} * ${e.v.modelMatrix} * ${e.v.vertexPosition};\n      vTextureCoord = ${e.v.texturePosition};\n      textureModStart = ${e.v.textureStart};\n      textureModSize = ${e.v.textureSize};\n        position = gl_Position;\n    }\n  `,e.RepeatedVertex={v:e.v,source:e.source}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vertexPosition="aVertexPosition",e.vertexTranslation="aVertexTranslation",e.vertexColour="colour",e.modelMatrix="uModelViewMatrix",e.v={vertexPosition:"aVertexPosition",modelMatrix:"uModelViewMatrix",textureSampler:"uSampler",projectionMatrix:"uProjectionMatrix",texturePosition:"aTextureCoord"},e.source=`\n    attribute vec4 ${e.v.vertexPosition};\n    attribute vec2 ${e.v.texturePosition};\n\n    uniform mat4 ${e.v.modelMatrix};\n    uniform mat4 ${e.v.projectionMatrix};\n\n    varying lowp vec2 vTextureCoord;\n    \n\n    void main() {\n      gl_Position = ${e.v.projectionMatrix} * ${e.v.modelMatrix} * ${e.v.vertexPosition};\n      vTextureCoord = ${e.v.texturePosition};\n\n    }\n  `,e.Vertex={v:e.v,source:e.source}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(111);e.ScreenShakeService=class{constructor(){this.currentMagnitude=0}update(){this.currentMagnitude=.75*this.currentMagnitude}shake(t){this.currentMagnitude=t}applyToMatrices(t){if(this.currentMagnitude<1e-4)return;const e=.2*this.currentMagnitude,n=Math.random()*e,i=Math.random()*e,o=Math.random()*e;r.mat4.translate(t,t,[n,i,o])}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(79),i=n(80);e.SpriteRenderService=class{init(t){this.gl=t,this.shader=i.compileSpriteShader(t),this.spriteArray=new r.SyncedArray({onReconstruct:e=>this.onArrayReconstruct(t,e),onUpdate:e=>this.onArrayUpdate(t),onInjection:(t,e)=>this.onInjection(t,e.obj)}),this.positionBuffer=t.createBuffer(),this.translationBuffer=t.createBuffer(),this.textureBuffer=t.createBuffer()}draw(){if(this.spriteArray.sync(),0===this.spriteArray.getArray().length)return;const t=this.gl.FLOAT;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.gl.vertexAttribPointer(this.shader.attribute.vertexPosition,3,t,!1,0,0),this.gl.enableVertexAttribArray(this.shader.attribute.vertexPosition),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.translationBuffer),this.gl.vertexAttribPointer(this.shader.attribute.vertexTranslation,3,t,!1,0,0),this.gl.enableVertexAttribArray(this.shader.attribute.vertexTranslation),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.textureBuffer),this.gl.vertexAttribPointer(this.shader.attribute.texturePosition,2,t,!1,0,0),this.gl.enableVertexAttribArray(this.shader.attribute.texturePosition),this.gl.useProgram(this.shader.shaderId),this.gl.uniformMatrix4fv(this.shader.uniform.projectionMatrix,!1,this.projectionMatrix),this.gl.uniformMatrix4fv(this.shader.uniform.modelMatrix,!1,this.modelViewMatrix),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.spritesheet),this.gl.uniform1i(this.shader.attribute.textureSampler,0);const e=this.positions.length/3;this.gl.drawArrays(this.gl.TRIANGLES,0,e)}createItem(t){return{renderId:this.spriteArray.createItem(t)}}updateItem(t,e){this.spriteArray.updateItem(t.renderId,e)}freeItem(t){this.spriteArray.freeItem(t.renderId)}attachSpritesheet(t){this.spritesheet=t}attachViewMatrices(t,e){this.modelViewMatrix=t,this.projectionMatrix=e}onArrayReconstruct(t,e){const n=e.length;this.positions=new Float32Array(new Array(2*n*3*3).fill(0)),this.texture=new Float32Array(new Array(2*n*3*2).fill(0)),this.translations=new Float32Array(new Array(2*n*3*3).fill(0));for(let t=0;t<e.length;t++)this.onInjection(t,e[t].obj);this.onArrayUpdate(t)}onArrayUpdate(t){t.bindBuffer(t.ARRAY_BUFFER,this.positionBuffer),t.bufferData(t.ARRAY_BUFFER,this.positions,t.DYNAMIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.translationBuffer),t.bufferData(t.ARRAY_BUFFER,this.translations,t.DYNAMIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.textureBuffer),t.bufferData(t.ARRAY_BUFFER,this.texture,t.DYNAMIC_DRAW)}onInjection(t,e){const n=2*t*3*3,r=2*t*3*2,i=e.size[0]/2,o=e.size[1]/2,u=2*e.position[0],a=e.height,s=2*e.position[1];this.positions[n]=-i,this.positions[n+1]=o,this.positions[n+2]=0,this.positions[n+3]=i,this.positions[n+4]=o,this.positions[n+5]=0,this.positions[n+6]=-i,this.positions[n+7]=-o,this.positions[n+8]=0,this.positions[n+9]=+i,this.positions[n+10]=o,this.positions[n+11]=0,this.positions[n+12]=+i,this.positions[n+13]=-o,this.positions[n+14]=0,this.positions[n+15]=-i,this.positions[n+16]=-o,this.positions[n+17]=0,this.translations[n]=u,this.translations[n+1]=a,this.translations[n+2]=s,this.translations[n+3]=u,this.translations[n+4]=a,this.translations[n+5]=s,this.translations[n+6]=u,this.translations[n+7]=a,this.translations[n+8]=s,this.translations[n+9]=u,this.translations[n+10]=a,this.translations[n+11]=s,this.translations[n+12]=u,this.translations[n+13]=a,this.translations[n+14]=s,this.translations[n+15]=u,this.translations[n+16]=a,this.translations[n+17]=s;const c=e.texture.textureX+.001,l=e.texture.textureY+.001,f=e.texture.textureWidth-.001,h=e.texture.textureHeight-.001;this.texture[r]=c,this.texture[r+1]=l,this.texture[r+2]=c+f,this.texture[r+3]=l,this.texture[r+4]=c,this.texture[r+5]=l+h,this.texture[r+6]=c+f,this.texture[r+7]=l,this.texture[r+8]=c+f,this.texture[r+9]=l+h,this.texture[r+10]=c,this.texture[r+11]=l+h}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(79),i=n(80);e.WallRenderService=class{init(t){this.gl=t,this.shader=i.compileTextureRepeatShader(t),this.wallArray=new r.SyncedArray({onReconstruct:e=>this.onArrayReconstruct(t,e),onUpdate:e=>this.onArrayUpdate(t),onInjection:(t,e)=>this.onInjection(t,e.obj)}),this.positionBuffer=t.createBuffer(),this.textureBuffer=t.createBuffer(),this.textureStartBuffer=t.createBuffer(),this.textureSizeBuffer=t.createBuffer()}draw(){if(this.wallArray.sync(),0===this.wallArray.getArray().length)return;const t=this.gl.FLOAT;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.gl.vertexAttribPointer(this.shader.attribute.vertexPosition,3,t,!1,0,0),this.gl.enableVertexAttribArray(this.shader.attribute.vertexPosition),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.textureBuffer),this.gl.vertexAttribPointer(this.shader.attribute.texturePosition,2,t,!1,0,0),this.gl.enableVertexAttribArray(this.shader.attribute.texturePosition),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.textureStartBuffer),this.gl.vertexAttribPointer(this.shader.attribute.textureStart,2,t,!1,0,0),this.gl.enableVertexAttribArray(this.shader.attribute.textureStart),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.textureSizeBuffer),this.gl.vertexAttribPointer(this.shader.attribute.textureSize,2,t,!1,0,0),this.gl.enableVertexAttribArray(this.shader.attribute.textureSize),this.gl.useProgram(this.shader.shaderId),this.gl.uniformMatrix4fv(this.shader.uniform.projectionMatrix,!1,this.projectionMatrix),this.gl.uniformMatrix4fv(this.shader.uniform.modelMatrix,!1,this.modelViewMatrix),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.spritesheet),this.gl.uniform1i(this.shader.attribute.textureSampler,0);const e=this.positions.length/3;this.gl.drawArrays(this.gl.TRIANGLES,0,e)}createItem(t){return{renderId:this.wallArray.createItem(t)}}updateItem(t,e){this.wallArray.updateItem(t.renderId,e)}freeItem(t){this.wallArray.freeItem(t.renderId)}attachSpritesheet(t){this.spritesheet=t}attachViewMatrices(t,e){this.modelViewMatrix=t,this.projectionMatrix=e}onArrayReconstruct(t,e){const n=e.length;this.positions=new Float32Array(new Array(2*n*3*3).fill(0)),this.texture=new Float32Array(new Array(2*n*3*2).fill(0)),this.textureStart=new Float32Array(new Array(2*n*3*2).fill(0)),this.textureSize=new Float32Array(new Array(2*n*3*2).fill(0));for(let t=0;t<e.length;t++)this.onInjection(t,e[t].obj);this.onArrayUpdate(t)}onArrayUpdate(t){t.bindBuffer(t.ARRAY_BUFFER,this.positionBuffer),t.bufferData(t.ARRAY_BUFFER,this.positions,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.textureBuffer),t.bufferData(t.ARRAY_BUFFER,this.texture,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.textureStartBuffer),t.bufferData(t.ARRAY_BUFFER,this.textureStart,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.textureSizeBuffer),t.bufferData(t.ARRAY_BUFFER,this.textureSize,t.STATIC_DRAW)}onInjection(t,e){const n=2*t*3*2,r=2*t*3*3,{startPos:i,endPos:o,startHeight:u,startOffset:a,endHeight:s,endOffset:c,textureX:l,textureY:f,textureWidth:h,textureHeight:d,repeatWidth:p,repeatHeight:v}=e;this.positions[r]=i[0],this.positions[r+1]=u+a,this.positions[r+2]=i[1],this.positions[r+3]=o[0],this.positions[r+4]=s+c,this.positions[r+5]=o[1],this.positions[r+6]=i[0],this.positions[r+7]=a,this.positions[r+8]=i[1],this.positions[r+9]=i[0],this.positions[r+10]=c,this.positions[r+11]=i[1],this.positions[r+12]=o[0],this.positions[r+13]=s+c,this.positions[r+14]=o[1],this.positions[r+15]=o[0],this.positions[r+16]=c,this.positions[r+17]=o[1],this.texture[n]=l,this.texture[n+1]=f,this.texture[n+2]=l+h,this.texture[n+3]=f,this.texture[n+4]=l,this.texture[n+5]=f+d,this.texture[n+6]=l,this.texture[n+7]=f+d,this.texture[n+8]=l+h,this.texture[n+9]=f,this.texture[n+10]=l+h,this.texture[n+11]=f+d,this.textureStart[n]=l,this.textureStart[n+1]=f,this.textureStart[n+2]=l,this.textureStart[n+3]=f,this.textureStart[n+4]=l,this.textureStart[n+5]=f,this.textureStart[n+6]=l,this.textureStart[n+7]=f,this.textureStart[n+8]=l,this.textureStart[n+9]=f,this.textureStart[n+10]=l,this.textureStart[n+11]=f,this.textureSize[n]=p,this.textureSize[n+1]=v,this.textureSize[n+2]=p,this.textureSize[n+3]=v,this.textureSize[n+4]=p,this.textureSize[n+5]=v,this.textureSize[n+6]=p,this.textureSize[n+7]=v,this.textureSize[n+8]=p,this.textureSize[n+9]=v,this.textureSize[n+10]=p,this.textureSize[n+11]=v}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(39),o=n(139),u=n(142),a=n(143);e.UIContainer=t=>{const[e,n]=i.useGlobalState();return r.createElement("div",{style:{position:"absolute"}},e.uiState.canAccessGame?r.createElement(r.Fragment,null,r.createElement(a.PlayModeContainer,{serviceLocator:t.game.getServiceLocator()}),r.createElement(u.GameFadeContainer,{serviceLocator:t.game.getServiceLocator()}),r.createElement(o.GameMenuContainer,{serviceLocator:t.game.getServiceLocator()})):void 0)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(60),i=n(57),o={showingMenu:!0,showingFade:!0,currentScore:0};e.gameStartReducer=function(t=o,e){switch(e.type){case i.GameStartActionType.START_GAME:return Object.assign(Object.assign({},t),{showingMenu:!1,showingFade:!1,currentScore:0});case i.GameStartActionType.FADE_BACKGROUND:return Object.assign(Object.assign({},t),{showingFade:!0});case i.GameStartActionType.FADE_MENU:let e=t.currentScore;return t.bestScore&&t.bestScore>t.currentScore&&(e=t.bestScore),Object.assign(Object.assign({},t),{showingMenu:!0,bestScore:e});case r.EnemyEventType.ENEMY_KILLED:return Object.assign(Object.assign({},t),{currentScore:t.currentScore+1})}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(44),i=n(57),o={showing:!0};e.healthBarReducer=function(t=o,e){switch(e.type){case i.GameStartActionType.START_GAME:return Object.assign(Object.assign({},t),{showing:!0});case r.PlayerEventType.PLAYER_KILLED:return Object.assign(Object.assign({},t),{showing:!1})}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(93),i={canAccessGame:!1};e.uiReducer=function(t=i,e){switch(e.type){case r.RootEventType.GAME_INITIALISED:return Object.assign(Object.assign({},t),{canAccessGame:!0})}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(44),i=n(57),o={showing:!1};e.weaponReducer=function(t=o,e){switch(e.type){case i.GameStartActionType.START_GAME:return Object.assign(Object.assign({},t),{showing:!0});case r.PlayerEventType.PLAYER_KILLED:return Object.assign(Object.assign({},t),{showing:!1})}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(138);e.Sagas=[r.onPlayerKilledSaga]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(110),i=n(44),o=n(57),u=n(81);e.onPlayerKilledSaga=new r.Subject,e.onPlayerKilledSaga.subscribe(t=>{switch(t.type){case i.PlayerEventType.PLAYER_KILLED:u.dispatch.next({type:o.GameStartActionType.FADE_BACKGROUND}),setTimeout(()=>u.dispatch.next({type:o.GameStartActionType.FADE_MENU}),1e3)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(94),o=n(96),u=n(61),a=n(140),s=n(97),c=n(98),l=n(99),f=n(100),h=n(39),d=n(57);e.GameMenuContainer=t=>{const[e,n]=h.useGlobalState(),p=void 0!==e.gameStart.bestScore;return r.createElement(f.FadeComponent,{startingShown:!1,shouldShow:e.gameStart.showingMenu,fadeInSpeed:1e3,fadeOutSpeed:150},r.createElement(i.GamePanelComponent,{serviceLocator:t.serviceLocator,width:500,height:p?300:200,style:{marginLeft:400,marginTop:200,position:"absolute"},childStyle:{display:"flex",flexDirection:"column",alignItems:"center"},panelMap:o.DARK_PANEL},r.createElement(u.TextComponent,{text:"Otherworld",style:{width:"100%",textAlign:"center",marginTop:10},font:u.TextFont.REGULAR,size:u.TextSize.BIG,colour:u.TextColour.LIGHT}),r.createElement(r.Fragment,null,r.createElement(u.TextComponent,{text:"Score: "+e.gameStart.currentScore,style:{},font:u.TextFont.REGULAR,size:u.TextSize.SMALL,colour:u.TextColour.LIGHT}),p?r.createElement(u.TextComponent,{text:"Best: "+e.gameStart.bestScore,style:{},font:u.TextFont.REGULAR,size:u.TextSize.SMALL,colour:u.TextColour.LIGHT}):void 0),r.createElement(a.GameButtonContainer,{serviceLocator:t.serviceLocator,width:256,height:46,style:{marginTop:30},childStyle:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},panelMapDefault:s.BUTTON_DEFAULT,panelMapHover:c.BUTTON_HOVER,panelMapPress:l.BUTTON_PRESS,onSelect:()=>{n(d.startGame()),t.serviceLocator.getScriptingService().startGame()}},r.createElement(u.TextComponent,{text:"New Game",style:{},font:u.TextFont.REGULAR,size:u.TextSize.SMALL,colour:u.TextColour.LIGHT}))))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(94);e.GameButtonContainer=t=>{const[e,n]=r.useState(!1),[o,u]=r.useState(!1);let a=t.panelMapDefault;return e&&(a=t.panelMapHover),o&&(a=t.panelMapPress),r.createElement(i.GamePanelComponent,Object.assign({},t,{childStyle:{},panelMap:a}),r.createElement("div",{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onMouseDown:()=>u(!0),onMouseUp:()=>{u(!1),t.onSelect()},style:Object.assign({width:"100%",height:"100%"},t.childStyle)},t.children))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(101);var i;!function(t){t.SERIAL="SERIAL",t.PARALLEL="PARALLEL"}(i=e.CompositeAnimationType||(e.CompositeAnimationType={}));e.CompositeAnimation=class{constructor(t){this.animationMap={},this.animations=t.animations,this.type=t.type}driven(){return this.driver=new r.IntervalDriver,this}looping(){return this.loop=!0,this}whenDone(t){return this.onFinish=t,this}start(){return this.playing=!0,this.startAnimations(),this.driver&&this.driver.drive(()=>this.tick()),this}startAnimations(){switch(this.animations.forEach(t=>t.stop()),this.type){case i.PARALLEL:this.animations.forEach((t,e)=>{this.animationMap[e]=!1,t.start().whenDone(()=>this.onAnimationComplete(e))});break;case i.SERIAL:this.animations[0].start().whenDone(()=>this.onAnimationComplete(0))}}onAnimationComplete(t){switch(this.type){case i.PARALLEL:this.animationMap[t]=!0,Object.keys(this.animationMap).filter(t=>this.animationMap[t]).length>=this.animations.length&&(this.loop&&this.startAnimations(),this.onFinish&&this.onFinish());break;case i.SERIAL:t===this.animations.length-1?(this.loop&&this.startAnimations(),this.onFinish&&this.onFinish()):this.animations[t+1].start().whenDone(()=>this.onAnimationComplete(t+1))}}pause(){this.playing=!1,this.driver&&this.driver.undrive()}stop(){this.playing=!1,this.driver&&this.driver.undrive()}tick(){this.playing&&this.animations.forEach(t=>t.tick())}isPlaying(){return this.isPlaying}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(39),o=n(100),u=n(27);e.GameFadeContainer=t=>{const[e,n]=i.useGlobalState();return r.createElement(o.FadeComponent,{shouldShow:e.gameStart.showingFade,fadeInSpeed:1e3,fadeOutSpeed:300},r.createElement("div",{style:{width:u.DOM_WIDTH,height:u.DOM_HEIGHT,position:"absolute",backgroundColor:"#000000"}}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(144),o=n(146),u=n(151),a=n(152),s=n(39);e.PlayModeContainer=t=>{const[e,n]=s.useGlobalState();return e.gameStart.showingMenu?r.createElement(r.Fragment,null):r.createElement(r.Fragment,null,r.createElement(i.HealthBarComponent,{serviceLocator:t.serviceLocator}),r.createElement(o.WeaponComponent,{serviceLocator:t.serviceLocator}),r.createElement(u.ScoreContainer,null),r.createElement(a.KeyHintsContainer,{serviceLocator:t.serviceLocator}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(44),o=n(27),u=n(14),a=n(145),s=n(37),c=n(39);e.HealthBarComponent=t=>{const[e,n]=r.useState(t.serviceLocator.getScriptingService().getPlayer().getState().health),[l,f]=r.useState(0),[h,d]=c.useGlobalState();let p;r.useEffect(()=>(p=s.animation(t=>{f(Math.sin(t*Math.PI))}).driven().speed(100),()=>p.stop()),[]),c.useDispatchListener(e=>{switch(e.type){case i.PlayerEventType.PLAYER_DAMAGED:case i.PlayerEventType.PLAYER_KILLED:p.start().whenDone(()=>f(0));break;case i.PlayerEventType.PLAYER_INFO_CHANGE:n(t.serviceLocator.getScriptingService().getPlayer().getState().health)}});const v=.5*o.DOM_HEIGHT,y=o.DOM_HEIGHT*(.5/3),m=Math.floor(10*l);return h.healthState.showing?r.createElement("div",{style:{position:"absolute"}},r.createElement(a.AnimationImageComponent,{serviceLocator:t.serviceLocator,spriteSheet:u.SpriteSheets.UI,animation:u.UIANIMATIONS.HEALTH_BAR,interp:1-e,style:{marginLeft:10,marginTop:10,width:v,height:y,transform:`translate(0, ${m}px)`}})):r.createElement(r.Fragment,null)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(95);e.AnimationImageComponent=t=>{const e=t.serviceLocator.getResourceManager().manifest.spritesheets[t.spriteSheet];return r.createElement("div",{style:Object.assign(Object.assign({},i.getImagePropsFromSprite(e.getAnimationInterp(t.animation,t.interp),t.style.width,t.style.height)),t.style)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(27),o=n(62),u=n(83),a=n(14),s=n(44),c=n(82),l=n(37),f=n(39);e.WeaponComponent=t=>{const[e,n]=f.useGlobalState(),[h,d]=r.useState(.55),[p,v]=r.useState(0);let y,m;r.useEffect(()=>{const e=l.parallel(l.animation(t=>d(.55+t/4)).speed(100),l.animation(t=>v(180*t)).speed(100)),n=l.parallel(l.animation(t=>d(.8-t/4)).speed(100),l.animation(t=>v(180*(1-t))).speed(100));return y=l.sequence(e,n).driven(),m=l.animation(e=>{const n=t.serviceLocator.getScriptingService().getPlayer().getState().velocity,r=o.vec_distance(n);d(.55+Math.sin(e*Math.PI*2)*r)}).driven().speed(400).looping().start(),()=>{y.stop(),m.stop()}},[]),f.useDispatchListener(t=>{t.type===s.PlayerEventType.PLAYER_ATTACK&&y.start()});const b=.5*i.DOM_HEIGHT,g=1*i.DOM_HEIGHT,S=1*i.DOM_WIDTH,T=i.DOM_HEIGHT*h;return e.weaponState.showing?r.createElement(u.ViewportComponent,{x:0,y:0,width:i.DOM_WIDTH,height:i.DOM_HEIGHT,style:{}},r.createElement(c.SpriteImageComponent,{serviceLocator:t.serviceLocator,spriteSheet:a.SpriteSheets.SPRITE,sprite:a.Sprites.SWORD,style:{marginLeft:S,marginTop:T,width:b,height:g,transform:`rotate(-${Math.floor(p)+10}deg) translate(-50%, -50%)`}})):r.createElement(r.Fragment,null)}},function(t,e,n){"use strict";function r(t,e,n){return(n-e)*t+e}Object.defineProperty(e,"__esModule",{value:!0}),e.interpolate=r,e.convert_unit=function(t,e,n,i){return r(t/e,n,i)},e.clipToRange=function(t,e,n){let r=t;return r=r<e?e:r,r=r>n?n:r,r},e.toRadians=function(t){return t/180*Math.PI},e.getGradientIncrementor=function(t,e,n){return(e-t)/n},e.getGradientOffset=function(t,e,n){return(e-t)*n},e.getTextureCoordinate=function(t,e,n,r,i,o){return{textureX:i/t,textureY:o/e,textureWidth:n/t,textureHeight:r/e}}},function(t,e,n){"use strict";function r(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}Object.defineProperty(e,"__esModule",{value:!0}),e.swap=r,e.swapSort=function(t,e){let n=!0;for(;n;){n=!1;for(let i=0;i<t.length-1;i++){const o=e(t[i],t[i+1]),u=e(t[i+1],t[i]);!o&&u&&(n=!0,r(t,i,i+1))}}}},function(t,e,n){"use strict";function r(t,e){return{x:t.x+e.x,y:t.y+e.y}}function i(t,e){return t.x+=e.x,t.y+=e.y,t}Object.defineProperty(e,"__esModule",{value:!0}),e.ROTATE_RESOLUTION=100,e.vec_cross=function(t,e){return t.x*e.y-t.y*e.x},e.vec_sub=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},e.vec_add=r,e.vec_add_mutable=i,e.vec_divide=function(t,e){return{x:t.x/e.x,y:t.y/e.y}},e.vec_mult_scalar=function(t,e){return{x:t.x*e,y:t.y*e}},e.vec_rotate=function(t,n){const r=~~(Math.cos(n)*e.ROTATE_RESOLUTION)/e.ROTATE_RESOLUTION,i=~~(Math.sin(n)*e.ROTATE_RESOLUTION)/e.ROTATE_RESOLUTION;return{x:t.x*r-t.y*i,y:t.y*r+t.x*i}},e.vec_distance=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.vec_scale=function(t,e){return{x:t.x*e,y:t.y*e}},e.vec_sum=function(t){const e={x:0,y:0};return t.forEach(t=>{i(e,t)}),e},e.vec_sum_immutable=function(t){let e={x:0,y:0};return t.forEach(t=>{e=r(e,t)}),e},e.vec_interpolate=function(t,e){const n={x:0,y:0};return t.forEach((t,r)=>{n.x+=t.x*e[r],n.y+=t.y*e[r]}),n},e.vec_normalize=function(t){const e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}}},function(t,e,n){"use strict";function r(){return Math.random()}Object.defineProperty(e,"__esModule",{value:!0}),e.randomFloat=r,e.randomIntRange=function(t,e){return Math.floor(r()*(e-t))+t},e.randomFloatRange=function(t,e){const n=r();return n*e+(1-n)*t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(61),i=n(39),o=n(11),u=n(27),a=n(37),s=n(60),c=n(102);e.ScoreContainer=t=>{const[e,n]=i.useGlobalState(),[l,f]=o.useState(1);let h;o.useEffect(()=>{h=a.animation(t=>{f(1+t)}).tween(t=>2*t).tween(a.sin).speed(300).driven()},[]),i.useDispatchListener(t=>{t.type===s.EnemyEventType.ENEMY_KILLED&&h.start().whenDone(()=>f(1))});const d=`scale(${l})`;return o.createElement("div",{style:{width:u.DOM_WIDTH,height:u.DOM_HEIGHT,display:"flex",justifyContent:"center",position:"absolute",alignItems:"flex-start"}},o.createElement(r.TextComponent,{text:""+e.gameStart.currentScore,font:r.TextFont.REGULAR,size:r.TextSize.MED,colour:r.TextColour.LIGHT,style:Object.assign({transform:d,transformOrigin:"top center"},c.ShadowComponentStyle())}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(27),o=n(153),u=n(83),a=n(102),s=[[{keycode:"KeyW",key:"W",hint:"Walk forwards",fade:!1},{keycode:"KeyS",key:"S",hint:"Walk backwards",fade:!1},{keycode:"KeyA",key:"A",hint:"Walk left",fade:!1},{keycode:"KeyD",key:"D",hint:"Walk right",fade:!1}],[{keycode:"ArrowLeft",key:"←",hint:"Turn Left",fade:!1},{keycode:"ArrowRight",key:"→",hint:"Turn Right",fade:!1}],[{keycode:"KeyE",key:"E",hint:"Attack",fade:!1}]];e.KeyHintsContainer=t=>{const[e,n]=r.useState([]),[c,l]=r.useState(0),[f,h]=r.useState(!1),d=t=>{n(e.map(e=>Object.assign(Object.assign({},e),{fade:!!e.fade||t.code===e.keycode})))};return r.useEffect(()=>{const t=setTimeout(()=>h(!f),500);return()=>clearTimeout(t)},[f]),r.useEffect(()=>(window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d))),r.useEffect(()=>{c<s.length&&n([...e,...s[c]])},[c]),r.createElement(u.ViewportComponent,{x:0,y:0,width:i.DOM_WIDTH,height:i.DOM_HEIGHT,style:{display:"flex",justifyContent:"flex-end"}},r.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"}},e.map(i=>r.createElement(o.KeyHintComponent,{key:i.key,serviceLocator:t.serviceLocator,keyCode:i.key,selected:f,text:i.hint,style:a.ShadowComponentStyle(),fade:i.fade,onFadeComplete:()=>(t=>{const r=e.filter(e=>t.keycode!==e.keycode);n(r),0===r.length&&l(c+1)})(i)}))))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(61),o=n(154),u=n(37);e.KeyHintComponent=t=>{const e=t.selected?o.SELECTED_TEXT_OFFSET:0,[n,a]=r.useState(1),[s,c]=r.useState(void 0),[l,f]=r.useState(void 0);return r.useEffect(()=>{c(u.animation(t=>a(t)).tween(u.sin).speed(300).whenDone(t.onFadeComplete).driven())},[]),r.useEffect(()=>{const t=u.animation(t=>a(1-t)).tween(u.sin).speed(300).driven().start();f(t)},[]),r.useEffect(()=>{s&&c(s.whenDone(t.onFadeComplete))},[t.onFadeComplete]),r.useEffect(()=>{t.fade&&s&&(l.stop(),s.start())},[t.fade]),r.createElement("div",{style:Object.assign(Object.assign({},t.style),{display:"flex",marginTop:64*-n,opacity:1-n})},r.createElement(o.KeyComponent,{serviceLocator:t.serviceLocator,keyCode:t.keyCode,selected:t.selected,style:{}}),r.createElement(i.TextComponent,{text:t.text,font:i.TextFont.REGULAR,size:i.TextSize.MED,colour:i.TextColour.LIGHT,style:{transform:`translate(0px, ${e}px)`}}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(11),i=n(61),o=n(82),u=n(14);e.SELECTED_TEXT_OFFSET=4,e.KeyComponent=t=>{const n=t.selected?u.UISPRITES.KEY_DOWN:u.UISPRITES.KEY_UP,a=t.selected?e.SELECTED_TEXT_OFFSET:0;return r.createElement("div",{style:Object.assign(Object.assign({},t.style),{width:64,height:64})},r.createElement(o.SpriteImageComponent,{serviceLocator:t.serviceLocator,spriteSheet:u.SpriteSheets.UI,sprite:n,style:{position:"absolute",width:64,height:64}}),r.createElement(i.TextComponent,{text:t.keyCode,font:i.TextFont.REGULAR,size:i.TextSize.MED,colour:i.TextColour.LIGHT,style:{textAlign:"center",position:"absolute",width:64,height:64,transform:`translate(0px, ${a}px)`}}))}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function u(t){try{s(r.next(t))}catch(t){o(t)}}function a(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}s((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(27),o=n(93),u=n(156),a=n(14),s=n(157),c=n(104),l=n(105),f=n(162),h=n(165),d=n(166),p=n(90),v=n(167),y=n(180),m=n(109),b=n(181);e.Game=class{constructor(){this.initialised=!1,this.updateWorld=!1,this.update=()=>{this.serviceLocator.getScriptingService().update(),this.serviceLocator.getWorld().performSync(),this.updateWorld&&(this.serviceLocator.getInputService().update(),this.serviceLocator.getWorld().update(),this.serviceLocator.getPhysicsService().update(),this.serviceLocator.getInteractionService().update())},this.draw=()=>{this.serviceLocator.getRenderService().draw()},this.mainLoop=(t,e,n,r)=>{m.logFPS(t=>{console.log(`FPS: ${t} BudgetUsage: ${Math.floor(100*r)}% EntityCount: ${this.serviceLocator.getWorld().getEntityArray().getArray().length}`)}),m.setFPSProportion(1/n),this.update(),this.draw()}}init(t,e){return r(this,void 0,void 0,(function*(){const n=new AudioContext,r=new p.ScreenBuffer(t,i.WIDTH,i.HEIGHT),m=new s.ResourceManager;yield m.load(t,n);const g=new l.EventRouter;g.attachEventListener(l.GameEventSource.UI,e);const S=new u.World(t=>g.routeEvent(l.GameEventSource.WORLD,t));g.attachEventListener(l.GameEventSource.WORLD,t=>S.emitIntoWorld(t));const T=new v.ScriptingService(this),x=new f.InputService,E=new h.InteractionService;this.serviceLocator=new y.ServiceLocator(m,S,new p.RenderService(m),new c.AudioService(n),g,T,x,new d.PhysicsService,E),this.serviceLocator.getInputService().init(this.serviceLocator),this.serviceLocator.getRenderService().init(r.getOpenGL()),this.serviceLocator.getWorld().init(),this.serviceLocator.getScriptingService().init(this.serviceLocator);const _=new b.TimeControlledLoop(i.TARGET_MILLIS,this.mainLoop);this.initialised=!0,this.serviceLocator.getEventRouter().routeEvent(l.GameEventSource.ROOT,{type:o.RootEventType.GAME_INITIALISED}),this.serviceLocator.getAudioService().play(this.serviceLocator.getResourceManager().manifest.audio[a.Audios.INCOMING]),_.start()}))}isInitialised(){return this.initialised}getServiceLocator(){return this.serviceLocator}setUpdateWorld(t){this.updateWorld=t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(85),i=n(103);e.World=class{constructor(t){this.worldDispatch=t}init(){this.entityArray=new r.ConsistentArray}update(){const t=this.entityArray.getArray();for(let e=0;e<t.length;e++)t[e].update()}addEntity(t,e){this.entityArray.add(t)}removeEntity(t,e){this.entityArray.remove(t)}emitIntoWorld(t){const e=this.getEntityArray().getArray();for(let n=0;n<e.length;n++)e[n].onObservedEvent(t)}emitOutOfWorld(t){this.worldDispatch(t)}getEntityArray(){return this.entityArray}performSync(){const t=this.entityArray.getToAdd(),e=this.entityArray.getToRemove();for(let e=0;e<t.length;e++)t[e].emit({type:i.EntityEventType.ENTITY_CREATED});for(let t=0;t<e.length;t++)e[t].emit({type:i.EntityEventType.ENTITY_DELETED});this.entityArray.sync()}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function u(t){try{s(r.next(t))}catch(t){o(t)}}function a(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}s((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const i=n(104),o=n(158),u=n(160);e.ResourceManager=class{load(t,e){return r(this,void 0,void 0,(function*(){this.manifest=yield this.loadManifest(t,e,o.defaultManifest)}))}loadManifest(t,e,n){return r(this,void 0,void 0,(function*(){const r={spritesheets:{},audio:{},maps:n.maps};for(const t in n.audio)r.audio[t]=yield i.loadSound(n.audio[t],e);for(const e in n.spritesheets){const i=n.spritesheets[e];r.spritesheets[e]=yield u.loadSpriteSheet(t,i.url);for(const t in i.sprites){const n=i.sprites[t];r.spritesheets[e].registerSprite(t,n.width,n.height,n.x,n.y)}for(const t in i.animations){const n=i.animations[t];r.spritesheets[e].registerAnimation(t,n.width,n.height,n.x,n.y,n.frames,n.vertical)}}return r}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(97),i=n(98),o=n(99),u=n(96),a=n(159),s=n(14);e.defaultManifest={maps:{[s.MAPS.DEFAULT]:a.default},spritesheets:{[s.SpriteSheets.SPRITE]:{url:"img/sprite.png",animations:{[s.Animations.CRABLET_BROWN]:{width:16,height:16,x:0,y:64,frames:8},[s.Animations.CRABLET_GREEN]:{width:16,height:16,x:0,y:80,frames:8},[s.Animations.CRABLET_BLUE]:{width:16,height:16,x:0,y:96,frames:8},[s.Animations.CRABLET_BROWN_ATTACK]:{width:16,height:16,x:128,y:64,frames:8},[s.Animations.CRABLET_GREEN_ATTACK]:{width:16,height:16,x:128,y:80,frames:8},[s.Animations.CRABLET_BLUE_ATTACK]:{width:16,height:16,x:128,y:96,frames:8},[s.Animations.EGG_CHARGE]:{width:32,height:32,x:0,y:128,frames:8}},sprites:{[s.Sprites.SWORD]:{width:16,height:32,x:128,y:32},[s.Sprites.MACATOR_DAMAGED]:{width:16,height:16,x:0,y:112},[s.Sprites.MACATOR_DEAD_BROWN]:{width:16,height:16,x:16,y:112},[s.Sprites.MACATOR_DEAD_GREEN]:{width:16,height:16,x:32,y:112},[s.Sprites.MACATOR_DEAD_BLUE]:{width:16,height:16,x:48,y:112}}},[s.SpriteSheets.UI]:{url:"img/ui.png",animations:{[s.UIANIMATIONS.HEALTH_BAR]:{width:96,height:32,x:0,y:0,vertical:!0,frames:10}},sprites:Object.assign(Object.assign(Object.assign(Object.assign({[s.UISPRITES.KEY_UP]:{x:96,y:80,width:16,height:16},[s.UISPRITES.KEY_DOWN]:{x:112,y:80,width:16,height:16}},u.DARK_PANEL_SPRITES),r.BUTTON_DEFAULT_SPRITES),i.BUTTON_HOVER_SPRITES),o.BUTTON_PRESS_SPRITES)},[s.SpriteSheets.SCENERY]:{url:"img/scenery.png",animations:{},sprites:{[s.SCENERYSPRITES.WALL]:{x:8,y:64,width:8,height:8},[s.SCENERYSPRITES.FLOOR]:{x:0,y:64,width:8,height:8}}}},audio:{[s.Audios.INTRO]:"audio/intro.mp3",[s.Audios.BOING]:"audio/boing.mp3",[s.Audios.POINT]:"audio/point.mp3",[s.Audios.SLAM]:"audio/slam.mp3",[s.Audios.WHOOSH]:"audio/whoosh.mp3",[s.Audios.PLAYER_HIT]:"audio/player_hit.mp3",[s.Audios.END]:"audio/end.mp3",[s.Audios.HISS]:"audio/hiss.mp3",[s.Audios.INCOMING]:"audio/incoming.mp3"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(14);function i(t,e,n,r,i,o,u,a){return[{startx:t,starty:e,endx:t+n,endy:e,height:o,offset:u,texture:i,collides:a},{startx:t+n,starty:e,endx:t+n,endy:e+r,height:o,offset:u,texture:i,collides:a},{startx:t+n,starty:e+r,endx:t,endy:e+r,height:o,offset:u,texture:i,collides:a},{startx:t,starty:e+r,endx:t,endy:e,height:o,offset:u,texture:i,collides:a}]}function o(t,e,n,r,i,o){const u=[];for(let a=0;a<r;a++){const s=a/r*Math.PI*2,c=(a+1)/r*Math.PI*2,l=t+Math.sin(s)*n,f=e+Math.cos(s)*n,h=t+Math.sin(c)*n,d=e+Math.cos(c)*n;u.push({startx:l,starty:f,endx:h,endy:d,height:i,offset:o})}return u}e.default={walls:[...i(-20,-20,40,40,r.SCENERYSPRITES.WALL,5,0,!0),...i(-2,-2,4,4,r.SCENERYSPRITES.FLOOR,1,3,!1),...i(-5,-5,10,10,r.SCENERYSPRITES.FLOOR,1,4,!1),...o(-1.5,-1.5,.5,6,3,0),...o(1.5,-1.5,.5,6,3,0),...o(1.5,1.5,.5,6,3,0),...o(-1.5,1.5,.5,6,3,0),...o(-4,-4,.8,6,4,0),...o(4,-4,.8,6,4,0),...o(4,4,.8,6,4,0),...o(-4,4,-.8,6,4,0),...function(){const t=[],e=new Array(1444).fill(0);for(let n=0;n<100;n++){const n=Math.random(),o=9*n+19*(1-n),u=Math.random()*Math.PI*2,a=Math.floor(Math.sin(u)*o),s=Math.floor(Math.cos(u)*o),c=a+19+38*(s+19);t.push(...i(a,s,1,1,r.SCENERYSPRITES.WALL,1,e[c],!0)),e[c]+=1}return t}()],floors:[{startx:-50,starty:-50,endx:50,endy:50},{startx:-2,starty:-2,endx:2,endy:2,height:3},{startx:-5,starty:-5,endx:5,endy:5,height:4},{startx:-20,starty:-20,endx:20,endy:20,height:5}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(161);function i(t){return new Promise(e=>{const n=new Image;n.onload=function(){e(n)},n.src=t})}function o(t,e){const n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),n}e.loadImage=i,e.loadTextureFromImage=o,e.loadTextureFromURL=function(t,e){return i(e).then(e=>o(t,e))},e.loadSpriteSheet=function(t,e){return i(e).then(e=>{const n=o(t,e);return new r.SpriteSheet(e.width,e.height,n,e)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SpriteSheet=class{constructor(t,e,n,r){this.width=t,this.height=e,this.texture=n,this.image=r,this.spriteHash={},this.animationHash={}}registerSprite(t,e,n,r,i){this.spriteHash[t]={textureCoordinate:this.getTextureCoordinate(e,n,r,i),pixelCoordinate:{textureX:r,textureY:i,textureWidth:e,textureHeight:n},spriteSheetWidth:this.width,spriteSheetHeight:this.height,source:this.image.src}}registerAnimation(t,e,n,r,i,o,u){const a=e,s=n;let c=r,l=i;this.animationHash[t]=[];for(let e=0;e<o;e++)this.animationHash[t].push({textureCoordinate:this.getTextureCoordinate(a,s,c,l),pixelCoordinate:{textureX:c,textureY:l,textureWidth:a,textureHeight:s},spriteSheetWidth:this.width,spriteSheetHeight:this.height,source:this.image.src}),u?l+=s:c+=a}getSprite(t){return this.spriteHash[t]||console.log(`SpriteSheet ${t} missing`),this.spriteHash[t]}getAnimationFrame(t,e){const n=this.animationHash[t];if(n)return e>=n.length?n[n.length-1]:this.animationHash[t][e];console.log(`Animation ${t} missing`)}getAnimationInterp(t,e){const n=this.animationHash[t];n||console.log(`Animation ${t} missing`);const r=Math.floor(e*n.length);return this.getAnimationFrame(t,r)}getAnimationFrameCount(t){return this.animationHash[t].length}getWidth(){return this.width}getHeight(){return this.height}getTexture(){return this.texture}getImage(){return this.image}getTextureCoordinate(t,e,n,r){return{textureX:n/this.width,textureY:r/this.height,textureWidth:t/this.width,textureHeight:e/this.height}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(105),i=n(163);var o;!function(t){t.DEFAULT="DEFAULT"}(o=e.InputState||(e.InputState={}));e.InputService=class{constructor(){this.onKeyUp=t=>{this.keydown[t.code]=!1,this.controlScheme.onKeyUp(t.code,this.keydown)},this.onKeyDown=t=>{this.keydown[t.code]=!0,this.controlScheme.onKeyDown(t.code,this.keydown)},this.onGameEvent=(t,e)=>{},this.setInputState=t=>{switch(this.inputState=t,t){case o.DEFAULT:this.controlScheme=new i.DefaultControlScheme(this.serviceLocator)}},this.keydown={}}init(t){this.serviceLocator=t,this.serviceLocator.getEventRouter().attachEventListener(r.GameEventSource.INPUT,this.onGameEvent),this.setInputState(o.DEFAULT),this.attachWindowHooks()}update(){this.controlScheme.poll(this.keydown)}attachWindowHooks(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(164),i=n(87);e.DefaultControlScheme=class{constructor(t){this.serviceLocator=t}poll(t){t.KeyW&&r.Walk(this.serviceLocator)(i.WalkDirection.FORWARD),t.KeyS&&r.Walk(this.serviceLocator)(i.WalkDirection.BACK),t.KeyA&&r.Walk(this.serviceLocator)(i.WalkDirection.LEFT),t.KeyD&&r.Walk(this.serviceLocator)(i.WalkDirection.RIGHT),t.ArrowLeft&&r.Turn(this.serviceLocator)(i.TurnDirection.ANTICLOCKWISE),t.ArrowRight&&r.Turn(this.serviceLocator)(i.TurnDirection.CLOCKWISE),t.KeyE&&r.Attack(this.serviceLocator)()}onKeyDown(t,e){console.log(t)}onKeyUp(t,e){}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(86),i=n(87);e.Walk=t=>e=>t.getScriptingService().getPlayer().emit({type:i.TravelEventType.WALK,payload:e}),e.Turn=t=>e=>t.getScriptingService().getPlayer().emit({type:i.TravelEventType.TURN,payload:e}),e.Attack=t=>()=>t.getScriptingService().getPlayer().emit({type:r.InteractionEventType.ATTACK})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(85),i=n(63);e.InteractionService=class{constructor(){this.interactionMap={};for(const t in i.InteractionType)this.interactionMap[t]=new r.ConsistentArray}update(){for(const t in i.InteractionType)this.interactionMap[t].sync()}getInteractables(t,e,n,r){return this.interactionMap[t].getArray().filter(t=>this.canInteract(t,e,n,r).canInteract)}getInteractable(t,e,n,r){const i=this.interactionMap[t].getArray().map(t=>this.canInteract(t,e,n,r)).filter(t=>t.canInteract);if(0!==i.length)return i.sort((t,e)=>t.distance-e.distance)[0].ref}canInteract(t,e,n,r){const i=t.getState(),o=e.x,u=e.y,a=e.x+Math.sin(n)*r,s=e.y-Math.cos(n)*r,c=a-o,l=s-u,f=i.position.x,h=i.position.y,d=i.radius;if((f-o)*c+(h-u)*l<0)return{canInteract:!1,distance:-1,ref:t};const p=Math.sqrt(c*c+l*l);let v=((f-o)*(a-o)+(h-u)*(s-u))/(p*p);v=Math.min(1,Math.max(v,0));const y=f-(o+v*c),m=h-(u+v*l),b=Math.sqrt(y*y+m*m);return{canInteract:b<d,distance:b,ref:t}}registerEntity(t,e){this.interactionMap[e].add(t)}unregisterEntity(t,e){this.interactionMap[e].remove(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(85),i=n(62);e.PhysicsService=class{constructor(){this.entities=new r.ConsistentArray,this.boundaries=new r.ConsistentArray}registerPhysicsEntity(t){this.entities.add(t)}unregisterPhysicsEntity(t){this.entities.remove(t)}registerBoundary(t){this.boundaries.add(t)}unregisterBoundary(t){this.boundaries.remove(t)}update(){this.entities.sync(),this.boundaries.sync();const t=this.entities.getArray(),e=this.boundaries.getArray();for(const e of t)this.calculateEntityCollisionImpulse(e,t);for(const n of t)this.calculateEntityBoundaryCollisionImpulse(n,e);this.moveEntities(t)}calculateEntityBoundaryCollisionImpulse(t,e){const n=t.getState();for(const t of e){const e=t.start.x,r=t.start.y,o=t.end.x,u=t.end.y,a=o-e,s=u-r,c=n.position.x,l=n.position.y,f=n.radius,h=Math.sqrt(a*a+s*s);let d=((c-e)*(o-e)+(l-r)*(u-r))/(h*h);d=Math.min(1,Math.max(d,0));const p=c-(e+d*a),v=l-(r+d*s);if(Math.sqrt(p*p+v*v)>f)continue;const y=i.vec_normalize({x:p,y:v}),m=y.x*n.velocity.x+y.y*n.velocity.y,b=m>0?0:m*(1+n.elastic);n.velocity.x=n.velocity.x-b*y.x,n.velocity.y=n.velocity.y-b*y.y}}calculateEntityCollisionImpulse(t,e){const n=t.getState(),r=n.position,i=n.radius,o={x:0,y:0};for(const u of e){if(t===u)continue;const e=u.getState(),a=e.position,s=e.radius,c=a.x-r.x,l=a.y-r.y,f=(i+s)*(i*s),h=c*c+l*l;if(h>f)continue;const d=(1-h/f)*(e.mass/n.mass),p=c,v=l;o.x+=p*(.2*-d),o.y+=v*(.2*-d)}0===o.x&&0===o.y||(n.velocity.x+=o.x,n.velocity.y+=o.y)}moveEntities(t){for(const e of t){const t=e.getState();t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.velocity.x*=t.friction,t.velocity.y*=t.friction}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(14),i=n(168),o=n(106),u=n(178);e.ScriptingService=class{constructor(t){this.shouldReset=!1,this.game=t}init(t){this.serviceLocator=t,this.bootstrapContent()}getPlayer(){return this.player}resetContent(){this.shouldReset=!0}update(){if(this.shouldReset){this.shouldReset=!1;const t=this.serviceLocator.getWorld(),e=t.getEntityArray();for(const n of e.getArray())t.removeEntity(n);this.bootstrapContent()}}endGame(){this.serviceLocator.getAudioService().play(this.serviceLocator.getResourceManager().manifest.audio[r.Audios.END]),this.game.setUpdateWorld(!1)}startGame(){this.resetContent(),this.game.setUpdateWorld(!0)}bootstrapContent(){const t=this.serviceLocator.getWorld();this.player=u.createPlayer(this.serviceLocator),t.addEntity(this.player);const e=this.player.getState().camera;this.serviceLocator.getAudioService().attachCamera(e),this.serviceLocator.getRenderService().attachCamera(e),t.addEntity(o.createEgg(this.serviceLocator)),i.loadMap(this.serviceLocator,this.serviceLocator.getResourceManager().manifest.maps[r.MAPS.DEFAULT])}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(169),i=n(14);function o(t,e){t.getWorld().addEntity(r.createStaticWall(t,void 0===e.texture?i.SCENERYSPRITES.WALL:e.texture,{x:e.startx,y:e.starty},{x:e.endx,y:e.endy},e.height,e.offset,e.collides))}function u(t,e){t.getWorld().addEntity(r.createStaticFloor(t,void 0===e.texture?i.SCENERYSPRITES.FLOOR:e.texture,e.height?e.height:0,{x:e.startx,y:e.starty},{x:e.endx,y:e.endy}))}e.loadMap=function(t,e){e.walls.forEach(e=>o(t,e)),e.floors.forEach(e=>u(t,e))},e.loadWall=o,e.loadFloor=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(27),i=n(170),o=n(171),u=n(172),a=n(88),s=n(14);e.createStaticFloor=function(t,e,n,i,u){const{textureCoordinate:c,pixelCoordinate:l}=t.getResourceManager().manifest.spritesheets[s.SpriteSheets.SCENERY].getSprite(e),f={startPos:[i.x,i.y],endPos:[u.x,u.y],height:n,textureX:c.textureX,textureY:c.textureY,textureWidth:Math.abs(u.x-i.x)*c.textureWidth*r.SCENERY_PIXEL_DENSITY/l.textureWidth,textureHeight:Math.abs(u.y-i.y)*c.textureHeight*r.SCENERY_PIXEL_DENSITY/l.textureWidth,repeatWidth:c.textureWidth,repeatHeight:c.textureHeight};return new a.Entity(t,new o.FloorRenderComponent({floorState:{floor:f}}))},e.createStaticWall=function(t,e,n,o,c=1,l=0,f=!0){const h=t.getResourceManager().manifest.spritesheets[s.SpriteSheets.SCENERY].getSprite(e),d=Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2))*h.textureCoordinate.textureWidth*r.SCENERY_PIXEL_DENSITY/h.pixelCoordinate.textureWidth,p=h.textureCoordinate.textureHeight*c*r.SCENERY_PIXEL_DENSITY/h.pixelCoordinate.textureHeight,v={startPos:[n.x,n.y],endPos:[o.x,o.y],startHeight:c,endHeight:c,startOffset:l,endOffset:l,textureX:h.textureCoordinate.textureX,textureY:h.textureCoordinate.textureY,textureWidth:d,textureHeight:p,repeatWidth:h.textureCoordinate.textureWidth,repeatHeight:h.textureCoordinate.textureHeight};return new a.Entity(t,new u.WallRenderComponent(v),new i.BoundaryComponent({boundaryState:{boundary:{start:n,end:o},collides:f}}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(28);class i extends r.EntityComponent{constructor(t){super(),this.initialState=t}init(t){return this.initialState||{}}update(t){}onEvent(t,e){}onObservedEvent(t,e){}onCreate(t){const{boundary:e,collides:n}=t.getState().boundaryState;n&&t.getServiceLocator().getPhysicsService().registerBoundary(e)}onStateTransition(t,e,n){e.boundaryState.collides||!0!==n.boundaryState.collides||t.getServiceLocator().getPhysicsService().registerBoundary(n.boundaryState.boundary),!0!==e.boundaryState.collides||n.boundaryState.collides||t.getServiceLocator().getPhysicsService().unregisterBoundary(n.boundaryState.boundary)}onDestroy(t){t.getServiceLocator().getPhysicsService().unregisterBoundary(t.getState().boundaryState.boundary)}}e.BoundaryComponent=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(28);class i extends r.EntityComponent{constructor(t){super(),this.initialState=t}init(t){return this.initialState||{}}update(t){const{floor:e}=t.getState().floorState;e&&t.getServiceLocator().getRenderService().floorRenderService.updateItem(this.toRenderRef,e)}onEvent(t,e){}onObservedEvent(t,e){}onStateTransition(t,e,n){!e.floorState.floor&&n.floorState.floor?this.toRenderRef=t.getServiceLocator().getRenderService().floorRenderService.createItem(n.floorState.floor):e.floorState.floor&&!n.floorState.floor&&this.toRenderRef&&(t.getServiceLocator().getRenderService().floorRenderService.freeItem(this.toRenderRef),this.toRenderRef=void 0)}onCreate(t){this.initialState&&!this.toRenderRef&&(this.toRenderRef=t.getServiceLocator().getRenderService().floorRenderService.createItem(t.getState().floorState.floor))}onDestroy(t){this.toRenderRef&&(t.getServiceLocator().getRenderService().floorRenderService.freeItem(this.toRenderRef),this.toRenderRef=void 0)}}e.FloorRenderComponent=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(28);class i extends r.EntityComponent{constructor(t){super(),this.initialWall=t}init(t){return this.initialWall?{wallState:{wall:this.initialWall}}:{wallState:{}}}update(t){const{wall:e}=t.getState().wallState;e&&t.getServiceLocator().getRenderService().wallRenderService.updateItem(this.toRenderRef,e)}onEvent(t,e){}onObservedEvent(t,e){}onStateTransition(t,e,n){!e.wallState.wall&&n.wallState.wall?this.toRenderRef=t.getServiceLocator().getRenderService().wallRenderService.createItem(n.wallState.wall):e.wallState.wall&&!n.wallState.wall&&this.toRenderRef&&(t.getServiceLocator().getRenderService().wallRenderService.freeItem(this.toRenderRef),this.toRenderRef=void 0)}onCreate(t){this.initialWall&&!this.toRenderRef&&(this.toRenderRef=t.getServiceLocator().getRenderService().wallRenderService.createItem(t.getState().wallState.wall))}onDestroy(t){this.toRenderRef&&(t.getServiceLocator().getRenderService().wallRenderService.freeItem(this.toRenderRef),this.toRenderRef=void 0)}}e.WallRenderComponent=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(28);class i extends r.EntityComponent{init(t){return{}}update(t){const{map:e}=t.getState().animationState;for(const t in e)e[t].tick()}onEvent(t,e){}onObservedEvent(t,e){}onCreate(t){const{map:e}=t.getState().animationState;e[t.getState().logicState].start()}onDestroy(t){this.stopAll(t.getState().animationState.map)}onStateTransition(t,e,n){this.stopAll(e.animationState.map),n.animationState.map[n.logicState].start()}stopAll(t){for(const e in t)t[e].stop()}}e.AnimationStateComponent=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(14),i=n(63),o=n(37),u=n(84),a=n(62),s=n(107),c=n(28),l=n(60),f=n(86);var h;!function(t){t.WALKING="WALKING",t.DAMAGED="DAMAGED",t.DYING="DYING",t.ATTACKING="ATTACKING"}(h||(h={}));class d extends c.EntityComponent{constructor(t,e){super(),this.initialX=t,this.initialY=e}init(t){return this.attackDelay=new s.ActionDelay(2e3),{macatorState:h.WALKING,velocity:{x:0,y:0},friction:.8,mass:.4,elastic:0,health:1}}update(t){this.animation&&(this.animation.tick(),this.attackAnimation.tick()),this.syncSprite(t);const e=t.getServiceLocator().getScriptingService().getPlayer().getState().position,n=t.getState().position,r=t.getState().macatorState;if(r===h.WALKING||r===h.ATTACKING){const i=a.vec_normalize(a.vec_sub(e,n));let o=.008;o=r===h.ATTACKING?.03:o,t.getState().velocity=a.vec_add(t.getState().velocity,a.vec_mult_scalar(i,o))}r===h.WALKING&&a.vec_distance(a.vec_sub(e,n))<20&&this.attackDelay.canAction()&&t.setState({macatorState:h.ATTACKING}),r===h.ATTACKING&&a.vec_distance(a.vec_sub(e,n))<.6&&(this.attackDelay.onAction(),t.setState({macatorState:h.WALKING}),t.getServiceLocator().getScriptingService().getPlayer().emit({type:f.InteractionEventType.ON_DAMAGED,payload:{amount:.02}}))}onEvent(t,e){switch(e.type){case f.InteractionEventType.ON_DAMAGED:this.onDamaged(t,e.payload.amount,e.payload.source)}}onObservedEvent(t,e){}onCreate(t){Math.random(),Math.PI;const e=this.initialX,n=this.initialY,i=Math.random();let o=r.Animations.CRABLET_BROWN,a=r.Animations.CRABLET_BROWN_ATTACK;switch(Math.floor(3*Math.random())){case 0:o=r.Animations.CRABLET_BROWN,a=r.Animations.CRABLET_BROWN_ATTACK,this.deadTexture=t.getServiceLocator().getResourceManager().manifest.spritesheets[r.SpriteSheets.SPRITE].getSprite(r.Sprites.MACATOR_DEAD_BROWN).textureCoordinate;break;case 1:o=r.Animations.CRABLET_GREEN,a=r.Animations.CRABLET_GREEN_ATTACK,this.deadTexture=t.getServiceLocator().getResourceManager().manifest.spritesheets[r.SpriteSheets.SPRITE].getSprite(r.Sprites.MACATOR_DEAD_GREEN).textureCoordinate;break;case 2:o=r.Animations.CRABLET_BLUE,a=r.Animations.CRABLET_BLUE_ATTACK,this.deadTexture=t.getServiceLocator().getResourceManager().manifest.spritesheets[r.SpriteSheets.SPRITE].getSprite(r.Sprites.MACATOR_DEAD_BLUE).textureCoordinate}t.setState({spriteState:{sprite:{position:[e,n],size:[1,1],height:.5,texture:t.getServiceLocator().getResourceManager().manifest.spritesheets[r.SpriteSheets.SPRITE].getAnimationInterp(o,i).textureCoordinate}},position:{x:e,y:n},height:.5,radius:.5,angle:0,collides:!0,interactable:{ATTACK:!0}},!0);const s=(e,n)=>t.getServiceLocator().getResourceManager().manifest.spritesheets[r.SpriteSheets.SPRITE].getAnimationInterp(e,n);this.animation=new u.GameAnimation(e=>{t.getState().spriteState.sprite.texture=s(o,e).textureCoordinate}).speed(400).withOffset(Math.random()).looping().start(),this.attackAnimation=new u.GameAnimation(e=>{const n=t.getState().spriteState.sprite;n.texture=s(a,e).textureCoordinate,n.height=.5+.25*Math.sin(e*Math.PI)}).speed(400)}onDestroy(t){}onStateTransition(t,e,n){e.macatorState!==n.macatorState&&this.onMacatorStateChange(t,e.macatorState,n.macatorState)}syncSprite(t){const e=t.getState();e.spriteState.sprite.position=[e.position.x,e.position.y]}onDamaged(t,e,n){if(t.getState().macatorState!==h.WALKING&&t.getState().macatorState!==h.ATTACKING)return;const r=t.getState();r.health-=e,r.health<=0?(r.velocity=a.vec_add(r.velocity,{x:.5*Math.sin(n.angle),y:.5*-Math.cos(n.angle)}),t.setState({macatorState:h.DYING})):(r.velocity=a.vec_add(r.velocity,{x:.3*Math.sin(n.angle),y:.3*-Math.cos(n.angle)}),t.setState({macatorState:h.DAMAGED}))}onMacatorStateChange(t,e,n){if(n===h.DAMAGED){t.getState().spriteState.sprite.height=.5,this.animation.stop(),this.attackAnimation.stop();const e=t.getServiceLocator().getResourceManager().manifest.spritesheets[r.SpriteSheets.SPRITE].getSprite(r.Sprites.MACATOR_DAMAGED),n=t.getState().spriteState.sprite;n.texture=e.textureCoordinate,o.animation(t=>{n.size[0]=.5+t,n.size[1]=.5+t}).driven().tween(t=>Math.sin(t*Math.PI)).speed(200).start().whenDone(()=>{n.size[0]=1,n.size[1]=1}),setTimeout(()=>t.setState({macatorState:h.WALKING}),200)}if(n===h.WALKING&&(t.getState().spriteState.sprite.height=.5,this.animation.looping().start(),this.attackAnimation.stop()),n===h.ATTACKING&&(t.getState().spriteState.sprite.height=.5,this.animation.stop(),this.attackAnimation.start().whenDone(()=>{t.setState({macatorState:h.WALKING}),this.attackDelay.onAction()}),t.getServiceLocator().getAudioService().play3D(t.getServiceLocator().getResourceManager().manifest.audio[r.Audios.HISS],[t.getState().position.x,t.getState().position.y])),n===h.DYING){t.getState().spriteState.sprite.height=.5,this.animation.stop(),this.attackAnimation.stop();const e=t.getServiceLocator().getResourceManager().manifest.spritesheets[r.SpriteSheets.SPRITE].getSprite(r.Sprites.MACATOR_DAMAGED);t.getState().spriteState.sprite.texture=e.textureCoordinate,setTimeout(()=>{t.getState().spriteState.sprite.texture=this.deadTexture},200),t.getServiceLocator().getInteractionService().unregisterEntity(t,i.InteractionType.ATTACK),t.getServiceLocator().getAudioService().play(t.getServiceLocator().getResourceManager().manifest.audio[r.Audios.POINT]),t.emitGlobally({type:l.EnemyEventType.ENEMY_KILLED})}}}e.CrabletLogicComponent=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(14),i=n(106),o=n(37),u=n(28),a=n(60);var s;!function(t){t.IDLE="IDLE",t.HATCHING="HATCHING"}(s||(s={}));class c extends u.EntityComponent{init(t){const e=s.IDLE,n=t.getServiceLocator().getResourceManager().manifest.spritesheets[r.SpriteSheets.SPRITE],i=o.animation(e=>{const i=n.getAnimationInterp(r.Animations.EGG_CHARGE,e);t.getState().spriteState.sprite.texture=i.textureCoordinate}).speed(2e3).looping();return this.hatchingAnimation=o.animation(e=>{const i=n.getAnimationInterp(r.Animations.EGG_CHARGE,e);t.getState().spriteState.sprite.texture=i.textureCoordinate}).speed(400).tween(o.sin).looping().whenDone(()=>this.hatch(t)),setTimeout(()=>{this.hatchingAnimation.withOffset(i.getCurrentPosition()),this.setLogicState(t,s.HATCHING)},5e3),{logicState:e,animationState:{map:{[s.IDLE]:i,[s.HATCHING]:this.hatchingAnimation}},targetCount:1,currentLiving:0,velocity:{x:0,y:0},friction:.5,mass:1,elastic:0,radius:1.5}}update(t){const e=t.getState();e.spriteState.sprite.position=[e.position.x,e.position.y]}onEvent(t,e){}onObservedEvent(t,e){e.type===a.EnemyEventType.ENEMY_KILLED&&(t.setState({currentLiving:t.getState().currentLiving-1},!1),t.getState().currentLiving<=0&&this.increaseDifficulty(t))}onCreate(t){const e=t.getServiceLocator().getResourceManager().manifest.spritesheets[r.SpriteSheets.SPRITE].getAnimationFrame(r.Animations.EGG_CHARGE,0);t.setState({spriteState:{sprite:{position:[0,0],size:[3,3],height:1.5,texture:e.textureCoordinate}},position:{x:0,y:0},collides:!0})}onDestroy(t){}onStateTransition(t,e,n){}setLogicState(t,e){t.setState({logicState:e})}increaseDifficulty(t){const e=2*t.getState().targetCount;t.setState({targetCount:e,logicState:s.HATCHING}),this.hatchingAnimation.speed(100/e+300)}hatch(t){const{currentLiving:e,targetCount:n,position:r}=t.getState(),o=e+1;t.setState({currentLiving:o},!1),o>=n&&this.setLogicState(t,s.IDLE);const u=i.createMacator(t.getServiceLocator(),r.x,r.y);u.attachListener(t),t.getServiceLocator().getWorld().addEntity(u)}}e.EggLogicComponent=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(63),i=n(28);class o extends i.EntityComponent{init(t){return{interactable:{}}}update(t){}onEvent(t,e){}onObservedEvent(t,e){}onStateTransition(t,e,n){const i=e.interactable,o=n.interactable;for(const e in r.InteractionType){const n=e;i[n]&&!o[n]&&t.getServiceLocator().getInteractionService().unregisterEntity(t,n),!i[n]&&o[n]&&t.getServiceLocator().getInteractionService().registerEntity(t,n)}}onCreate(t){}onDestroy(t){for(const e in r.InteractionType){const n=e;t.getState().interactable[n]&&t.getServiceLocator().getInteractionService().unregisterEntity(t,n)}}}e.InteractionComponent=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(28);class i extends r.EntityComponent{init(t){return{spriteState:{}}}update(t){const{sprite:e}=t.getState().spriteState;e&&t.getServiceLocator().getRenderService().spriteRenderService.updateItem(this.toRenderRef,e)}onEvent(t,e){}onObservedEvent(t,e){}onStateTransition(t,e,n){!e.spriteState.sprite&&n.spriteState.sprite?this.toRenderRef=t.getServiceLocator().getRenderService().spriteRenderService.createItem(n.spriteState.sprite):e.spriteState.sprite&&!n.spriteState.sprite&&this.toRenderRef&&(t.getServiceLocator().getRenderService().spriteRenderService.freeItem(this.toRenderRef),this.toRenderRef=void 0)}onCreate(t){}onDestroy(t){this.toRenderRef&&(t.getServiceLocator().getRenderService().spriteRenderService.freeItem(this.toRenderRef),this.toRenderRef=void 0)}}e.SpriteRenderComponent=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(108),i=n(179),o=n(88);e.createPlayer=function(t){return new o.Entity(t,new r.PhysicsComponent,new i.PlayerControlComponent({x:0,y:2},0))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(27),i=n(14),o=n(63),u=n(37),a=n(62),s=n(107),c=n(109),l=n(28),f=n(86),h=n(44),d=n(87);class p extends l.EntityComponent{constructor(t,e){super(),this.initialPosition=t,this.initialAngle=e,this.accumulatedWalk={x:0,y:0},this.accumulatedAngle=0,this.killed=!1,this.headbobOffset=0,this.attackDelay=new s.ActionDelay(300)}init(t){return this.headbob=u.animation(e=>{const n=t.getState().velocity,r=a.vec_distance(n);this.headbobOffset=Math.abs(Math.sin(e*Math.PI))*r*.6}).speed(400).looping().start(),{camera:{position:this.initialPosition,height:r.DEFAULT_PLAYER_HEIGHT,angle:this.initialAngle,fov:r.FOV,aspectRatio:r.ASPECT_RATIO,zNear:r.ZNEAR,zFar:r.ZFAR},cameraShouldSync:!0,position:this.initialPosition,height:r.DEFAULT_PLAYER_HEIGHT,radius:r.DEFAULT_PLAYER_RADIUS,angle:this.initialAngle,velocity:{x:0,y:0},friction:.8,mass:1,elastic:0,health:1}}update(t){const e=t.getState();this.headbob.tick(),e.cameraShouldSync&&this.syncCamera(t),e.velocity=a.vec_add(e.velocity,this.accumulatedWalk),e.angle=e.angle+this.accumulatedAngle,this.accumulatedAngle=0,this.accumulatedWalk={x:0,y:0}}onEvent(t,e){switch(e.type){case d.TravelEventType.WALK:this.onWalk(t,e.payload);break;case d.TravelEventType.TURN:this.onTurn(t,e.payload);break;case f.InteractionEventType.ATTACK:this.attackDelay.canAction()&&this.onAttack(t);break;case f.InteractionEventType.ON_DAMAGED:this.onDamaged(t,e.payload.amount)}}onObservedEvent(t,e){}onCreate(t){t.setState({collides:!0},!0)}onDestroy(t){t.setState({collides:!1},!0)}onStateTransition(t,e,n){t.emitGlobally({type:h.PlayerEventType.PLAYER_INFO_CHANGE})}onDamaged(t,e){t.setState({health:t.getState().health-e}),t.getServiceLocator().getAudioService().play(t.getServiceLocator().getResourceManager().manifest.audio[i.Audios.PLAYER_HIT]),t.getServiceLocator().getRenderService().screenShakeService.shake(1),t.getState().health<=0&&!this.killed?(t.emitGlobally({type:h.PlayerEventType.PLAYER_KILLED}),t.getServiceLocator().getScriptingService().endGame(),this.killed=!0):this.killed||t.emitGlobally({type:h.PlayerEventType.PLAYER_DAMAGED})}onAttack(t){t.emitGlobally({type:h.PlayerEventType.PLAYER_ATTACK}),t.getServiceLocator().getAudioService().play(t.getServiceLocator().getResourceManager().manifest.audio[i.Audios.WHOOSH]),this.attackDelay.onAction();const e=t.getState(),n=t.getServiceLocator().getInteractionService().getInteractables(o.InteractionType.ATTACK,e.position,e.angle,1.5);n.length>0&&t.getServiceLocator().getAudioService().play(t.getServiceLocator().getResourceManager().manifest.audio[i.Audios.SLAM]),n.forEach(t=>{t.emit({type:f.InteractionEventType.ON_DAMAGED,payload:{amount:.4,source:e}})})}onWalk(t,e){const n=c.fpsNorm(.02),r=t.getState();let i={x:0,y:0};switch(e){case d.WalkDirection.FORWARD:i=a.vec_rotate({x:0,y:-n},r.angle);break;case d.WalkDirection.BACK:i=a.vec_rotate({x:0,y:n},r.angle);break;case d.WalkDirection.LEFT:i=a.vec_rotate({x:-n,y:0},r.angle);break;case d.WalkDirection.RIGHT:i=a.vec_rotate({x:n,y:0},r.angle)}this.accumulatedWalk=a.vec_add(this.accumulatedWalk,i)}onTurn(t,e){const n=c.fpsNorm(.15);t.getState();switch(e){case d.TurnDirection.ANTICLOCKWISE:this.accumulatedAngle=this.accumulatedAngle-n/3;break;case d.TurnDirection.CLOCKWISE:this.accumulatedAngle=this.accumulatedAngle+n/3}}syncCamera(t){const{position:e,height:n,angle:r,camera:i}=t.getState();i.position=e,i.angle=r,i.height=n+this.headbobOffset}}e.PlayerControlComponent=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ServiceLocator=class{constructor(t,e,n,r,i,o,u,a,s){this.resourceManager=t,this.world=e,this.renderService=n,this.audioService=r,this.eventRouter=i,this.scriptingService=o,this.inputService=u,this.physicsService=a,this.interactionService=s}getResourceManager(){return this.resourceManager}getWorld(){return this.world}getRenderService(){return this.renderService}getAudioService(){return this.audioService}getEventRouter(){return this.eventRouter}getScriptingService(){return this.scriptingService}getInputService(){return this.inputService}getPhysicsService(){return this.physicsService}getInteractionService(){return this.interactionService}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.TimeControlledLoop=class{constructor(t,e){this.targetMilliseconds=t,this.callback=e,this.actualMilliseconds=t,this.actualProportion=1,this.budgetUsage=0}start(){this.looping=!0,this.loop()}stop(){this.looping=!1}loop(){this.startMilliseconds=Date.now(),this.callback(this,this.actualMilliseconds,this.actualProportion,this.budgetUsage),this.endMilliseconds=Date.now();const t=this.endMilliseconds-this.startMilliseconds;this.budgetUsage=t/this.targetMilliseconds;let e=this.targetMilliseconds-t;e=e>=0?e:0,e>0?(this.actualMilliseconds=this.targetMilliseconds,this.actualProportion=1):(this.actualMilliseconds=t,this.actualProportion=this.targetMilliseconds/t),this.looping&&setTimeout(()=>this.loop(),e)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"audit",(function(){return u})),n.d(e,"auditTime",(function(){return f})),n.d(e,"buffer",(function(){return h})),n.d(e,"bufferCount",(function(){return y})),n.d(e,"bufferTime",(function(){return T})),n.d(e,"bufferToggle",(function(){return O})),n.d(e,"bufferWhen",(function(){return C})),n.d(e,"catchError",(function(){return U})),n.d(e,"combineAll",(function(){return F})),n.d(e,"combineLatest",(function(){return W})),n.d(e,"concat",(function(){return G})),n.d(e,"concatAll",(function(){return Y.a})),n.d(e,"concatMap",(function(){return q})),n.d(e,"concatMapTo",(function(){return $})),n.d(e,"count",(function(){return Q})),n.d(e,"debounce",(function(){return J})),n.d(e,"debounceTime",(function(){return nt})),n.d(e,"defaultIfEmpty",(function(){return ut})),n.d(e,"delay",(function(){return ft})),n.d(e,"delayWhen",(function(){return yt})),n.d(e,"dematerialize",(function(){return Tt})),n.d(e,"distinct",(function(){return _t})),n.d(e,"distinctUntilChanged",(function(){return Rt})),n.d(e,"distinctUntilKeyChanged",(function(){return Pt})),n.d(e,"elementAt",(function(){return zt})),n.d(e,"endWith",(function(){return Ht})),n.d(e,"every",(function(){return Gt})),n.d(e,"exhaust",(function(){return qt})),n.d(e,"exhaustMap",(function(){return Zt})),n.d(e,"expand",(function(){return ee})),n.d(e,"filter",(function(){return Ct.a})),n.d(e,"finalize",(function(){return ie})),n.d(e,"find",(function(){return ae})),n.d(e,"findIndex",(function(){return le})),n.d(e,"first",(function(){return he})),n.d(e,"groupBy",(function(){return de.b})),n.d(e,"ignoreElements",(function(){return pe})),n.d(e,"isEmpty",(function(){return me})),n.d(e,"last",(function(){return Ee})),n.d(e,"map",(function(){return Xt.a})),n.d(e,"mapTo",(function(){return _e})),n.d(e,"materialize",(function(){return Re})),n.d(e,"max",(function(){return ke})),n.d(e,"merge",(function(){return De})),n.d(e,"mergeAll",(function(){return je.a})),n.d(e,"mergeMap",(function(){return K.a})),n.d(e,"flatMap",(function(){return K.a})),n.d(e,"mergeMapTo",(function(){return Be})),n.d(e,"mergeScan",(function(){return Fe})),n.d(e,"min",(function(){return We})),n.d(e,"multicast",(function(){return Ge})),n.d(e,"observeOn",(function(){return Ke.b})),n.d(e,"onErrorResumeNext",(function(){return qe})),n.d(e,"pairwise",(function(){return Xe})),n.d(e,"partition",(function(){return en})),n.d(e,"pluck",(function(){return nn})),n.d(e,"publish",(function(){return un})),n.d(e,"publishBehavior",(function(){return sn})),n.d(e,"publishLast",(function(){return ln})),n.d(e,"publishReplay",(function(){return hn})),n.d(e,"race",(function(){return pn})),n.d(e,"reduce",(function(){return Ne})),n.d(e,"repeat",(function(){return vn})),n.d(e,"repeatWhen",(function(){return bn})),n.d(e,"retry",(function(){return Tn})),n.d(e,"retryWhen",(function(){return _n})),n.d(e,"refCount",(function(){return Rn.a})),n.d(e,"sample",(function(){return An})),n.d(e,"sampleTime",(function(){return In})),n.d(e,"scan",(function(){return Pe})),n.d(e,"sequenceEqual",(function(){return kn})),n.d(e,"share",(function(){return Fn})),n.d(e,"shareReplay",(function(){return Vn})),n.d(e,"single",(function(){return zn})),n.d(e,"skip",(function(){return Gn})),n.d(e,"skipLast",(function(){return qn})),n.d(e,"skipUntil",(function(){return Xn})),n.d(e,"skipWhile",(function(){return tr})),n.d(e,"startWith",(function(){return rr})),n.d(e,"subscribeOn",(function(){return ar})),n.d(e,"switchAll",(function(){return hr})),n.d(e,"switchMap",(function(){return cr})),n.d(e,"switchMapTo",(function(){return dr})),n.d(e,"take",(function(){return Bt})),n.d(e,"takeLast",(function(){return Se})),n.d(e,"takeUntil",(function(){return pr})),n.d(e,"takeWhile",(function(){return mr})),n.d(e,"tap",(function(){return xr})),n.d(e,"throttle",(function(){return Mr})),n.d(e,"throttleTime",(function(){return Or})),n.d(e,"throwIfEmpty",(function(){return Nt})),n.d(e,"timeInterval",(function(){return Nr})),n.d(e,"timeout",(function(){return Vr})),n.d(e,"timeoutWith",(function(){return Dr})),n.d(e,"timestamp",(function(){return zr})),n.d(e,"toArray",(function(){return Gr})),n.d(e,"window",(function(){return Yr})),n.d(e,"windowCount",(function(){return $r})),n.d(e,"windowTime",(function(){return Zr})),n.d(e,"windowToggle",(function(){return oi})),n.d(e,"windowWhen",(function(){return si})),n.d(e,"withLatestFrom",(function(){return fi})),n.d(e,"zip",(function(){return vi})),n.d(e,"zipAll",(function(){return yi}));var r=n(0),i=n(4),o=n(3);function u(t){return function(e){return e.lift(new a(t))}}var a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.durationSelector))},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.a(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(t){return this.destination.error(t)}var n=Object(o.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(i.a),c=n(8),l=n(64);function f(t,e){return void 0===e&&(e=c.a),u((function(){return Object(l.a)(t,e)}))}function h(t){return function(e){return e.lift(new d(t))}}var d=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.closingNotifier))},t}(),p=function(t){function e(e,n){var r=t.call(this,e)||this;return r.buffer=[],r.add(Object(o.a)(r,n)),r}return r.a(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(i.a),v=n(1);function y(t,e){return void 0===e&&(e=null),function(n){return n.lift(new m(t,e))}}var m=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?g:b}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),b=function(t){function e(e,n){var r=t.call(this,e)||this;return r.bufferSize=n,r.buffer=[],r}return r.a(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(v.a),g=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r.a(e,t),e.prototype._next=function(t){var e=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n==0&&r.push([]);for(var o=r.length;o--;){var u=r[o];u.push(t),u.length===e&&(r.splice(o,1),this.destination.next(u))}},e.prototype._complete=function(){for(var e=this.buffers,n=this.destination;e.length>0;){var r=e.shift();r.length>0&&n.next(r)}t.prototype._complete.call(this)},e}(v.a),S=n(10);function T(t){var e=arguments.length,n=c.a;Object(S.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new x(t,r,i,n))}}var x=function(){function t(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new _(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),E=function(){return function(){this.buffer=[]}}(),_=function(t){function e(e,n,r,i,o){var u=t.call(this,e)||this;u.bufferTimeSpan=n,u.bufferCreationInterval=r,u.maxBufferSize=i,u.scheduler=o,u.contexts=[];var a=u.openContext();if(u.timespanOnly=null==r||r<0,u.timespanOnly){var s={subscriber:u,context:a,bufferTimeSpan:n};u.add(a.closeAction=o.schedule(w,n,s))}else{var c={subscriber:u,context:a},l={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:u,scheduler:o};u.add(a.closeAction=o.schedule(R,n,c)),u.add(o.schedule(M,r,l))}return u}return r.a(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],u=o.buffer;u.push(t),u.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,n=this.destination;e.length>0;){var r=e.shift();n.next(r.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(w,n,r))}},e.prototype.openContext=function(){var t=new E;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(v.a);function w(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function M(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(R,n,{subscriber:r,context:o})),this.schedule(t,e))}function R(t){var e=t.subscriber,n=t.context;e.closeContext(n)}var A=n(5);function O(t,e){return function(n){return n.lift(new P(t,e))}}var P=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new I(t,this.openings,this.closingSelector))},t}(),I=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(Object(o.a)(i,n)),i}return r.a(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,r=0;r<n;r++)e[r].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.buffer,r=t.subscription;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=new A.a,r={buffer:[],subscription:n};e.push(r);var i=Object(o.a)(this,t,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))},e}(i.a);function C(t){return function(e){return e.lift(new L(t))}}var L=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new N(t,this.closingSelector))},t}(),N=function(t){function e(e,n){var r=t.call(this,e)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.a(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,n,r,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{e=(0,this.closingSelector)()}catch(t){return this.error(t)}t=new A.a,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(Object(o.a)(this,e)),this.subscribing=!1},e}(i.a),k=n(15);function U(t){return function(e){var n=new D(t),r=e.lift(n);return n.caught=r}}var D=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new j(t,this.selector,this.caught))},t}(),j=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return r.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var r=new k.a(this,void 0,void 0);this.add(r);var i=Object(o.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}},e}(i.a),B=n(45);function F(t){return function(e){return e.lift(new B.a(t))}}var V=n(7),z=n(13);function W(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(V.a)(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(Object(z.a)([e].concat(t)),new B.a(n))}}var H=n(35);function G(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(H.a.apply(void 0,[e].concat(t)))}}var Y=n(65),K=n(24);function q(t,e){return Object(K.a)(t,e,1)}function $(t,e){return q((function(){return t}),e)}function Q(t){return function(e){return e.lift(new X(t,e))}}var X=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Z(t,this.predicate,this.source))},t}(),Z=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(v.a);function J(t){return function(e){return e.lift(new tt(t))}}var tt=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new et(t,this.durationSelector))},t}(),et=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r.durationSubscription=null,r}return r.a(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(o.a)(this,e))&&!n.closed&&this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(t,e,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(i.a);function nt(t,e){return void 0===e&&(e=c.a),function(n){return n.lift(new rt(t,e))}}var rt=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new it(t,this.dueTime,this.scheduler))},t}(),it=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.a(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ot,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(v.a);function ot(t){t.debouncedNext()}function ut(t){return void 0===t&&(t=null),function(e){return e.lift(new at(t))}}var at=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new st(t,this.defaultValue))},t}(),st=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.a(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(v.a);function ct(t){return t instanceof Date&&!isNaN(+t)}var lt=n(19);function ft(t,e){void 0===e&&(e=c.a);var n=ct(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new ht(n,e))}}var ht=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new dt(t,this.delay,this.scheduler))},t}(),dt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r.a(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new pt(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(lt.a.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(lt.a.createComplete()),this.unsubscribe()},e}(v.a),pt=function(){return function(t,e){this.time=t,this.notification=e}}(),vt=n(2);function yt(t,e){return e?function(n){return new gt(n,e).lift(new mt(t))}:function(e){return e.lift(new mt(t))}}var mt=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new bt(t,this.delayDurationSelector))},t}(),bt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){var e=this.index++;try{var n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},e.prototype.tryDelay=function(t,e){var n=Object(o.a)(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(i.a),gt=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subscriptionDelay=n,r}return r.a(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new St(t,this.source))},e}(vt.a),St=function(t){function e(e,n){var r=t.call(this)||this;return r.parent=e,r.source=n,r.sourceSubscribed=!1,r}return r.a(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(v.a);function Tt(){return function(t){return t.lift(new xt)}}var xt=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Et(t))},t}(),Et=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(v.a);function _t(t,e){return function(n){return n.lift(new wt(t,e))}}var wt=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new Mt(t,this.keySelector,this.flushes))},t}(),Mt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=n,i.values=new Set,r&&i.add(Object(o.a)(i,r)),i}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(t){return void n.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(i.a);function Rt(t,e){return function(n){return n.lift(new At(t,e))}}var At=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Ot(t,this.compare,this.keySelector))},t}(),Ot=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.a(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(t){return this.destination.error(t)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},e}(v.a);function Pt(t,e){return Rt((function(n,r){return e?e(n[t],r[t]):n[t]===r[t]}))}var It=n(25),Ct=n(18),Lt=n(29);function Nt(t){return void 0===t&&(t=Dt),function(e){return e.lift(new kt(t))}}var kt=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new Ut(t,this.errorFactory))},t}(),Ut=function(t){function e(e,n){var r=t.call(this,e)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.a(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(v.a);function Dt(){return new Lt.a}var jt=n(12);function Bt(t){return function(e){return 0===t?Object(jt.b)():e.lift(new Ft(t))}}var Ft=function(){function t(t){if(this.total=t,this.total<0)throw new It.a}return t.prototype.call=function(t,e){return e.subscribe(new Vt(t,this.total))},t}(),Vt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.a(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(v.a);function zt(t,e){if(t<0)throw new It.a;var n=arguments.length>=2;return function(r){return r.pipe(Object(Ct.a)((function(e,n){return n===t})),Bt(1),n?ut(e):Nt((function(){return new It.a})))}}var Wt=n(38);function Ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return Object(H.a)(e,Wt.a.apply(void 0,t))}}function Gt(t,e){return function(n){return n.lift(new Yt(t,e,n))}}var Yt=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Kt(t,this.predicate,this.thisArg,this.source))},t}(),Kt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.a(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(v.a);function qt(){return function(t){return t.lift(new $t)}}var $t=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Qt(t))},t}(),Qt=function(t){function e(e){var n=t.call(this,e)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.a(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(o.a)(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.a),Xt=n(9);function Zt(t,e){return e?function(n){return n.pipe(Zt((function(n,r){return Object(z.a)(t(n,r)).pipe(Object(Xt.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Jt(t))}}var Jt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new te(t,this.project))},t}(),te=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r.a(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.hasSubscription=!0,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new k.a(this,e,n),i=this.destination;i.add(r);var u=Object(o.a)(this,t,void 0,void 0,r);u!==r&&i.add(u)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.a);function ee(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new ne(t,e,n))}}var ne=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new re(t,this.project,this.concurrent,this.scheduler))},t}(),re=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r.a(e,t),e.dispatch=function(t){var e=t.subscriber,n=t.result,r=t.value,i=t.index;e.subscribeToProjection(n,r,i)},e.prototype._next=function(t){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(t);try{var i=(0,this.project)(t,r);if(this.scheduler){var o={subscriber:this,result:i,value:t,index:r};this.destination.add(this.scheduler.schedule(e.dispatch,0,o))}else this.subscribeToProjection(i,t,r)}catch(t){n.error(t)}}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.destination.add(Object(o.a)(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(i.a);function ie(t){return function(e){return e.lift(new oe(t))}}var oe=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new ue(t,this.callback))},t}(),ue=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new A.a(n)),r}return r.a(e,t),e}(v.a);function ae(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(n){return n.lift(new se(t,n,!1,e))}}var se=function(){function t(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new ce(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),ce=function(t){function e(e,n,r,i,o){var u=t.call(this,e)||this;return u.predicate=n,u.source=r,u.yieldIndex=i,u.thisArg=o,u.index=0,u}return r.a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,n=this.thisArg,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(v.a);function le(t,e){return function(n){return n.lift(new se(t,n,!0,e))}}var fe=n(17);function he(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(Ct.a)((function(e,n){return t(e,n,r)})):fe.a,Bt(1),n?ut(e):Nt((function(){return new Lt.a})))}}var de=n(59);function pe(){return function(t){return t.lift(new ve)}}var ve=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new ye(t))},t}(),ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype._next=function(t){},e}(v.a);function me(){return function(t){return t.lift(new be)}}var be=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new ge(t))},t}(),ge=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(v.a);function Se(t){return function(e){return 0===t?Object(jt.b)():e.lift(new Te(t))}}var Te=function(){function t(t){if(this.total=t,this.total<0)throw new It.a}return t.prototype.call=function(t,e){return e.subscribe(new xe(t,this.total))},t}(),xe=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.a(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(v.a);function Ee(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(Ct.a)((function(e,n){return t(e,n,r)})):fe.a,Se(1),n?ut(e):Nt((function(){return new Lt.a})))}}function _e(t){return function(e){return e.lift(new we(t))}}var we=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new Me(t,this.value))},t}(),Me=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return r.a(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(v.a);function Re(){return function(t){return t.lift(new Ae)}}var Ae=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Oe(t))},t}(),Oe=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e.prototype._next=function(t){this.destination.next(lt.a.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(lt.a.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(lt.a.createComplete()),t.complete()},e}(v.a);function Pe(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ie(t,e,n))}}var Ie=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new Ce(t,this.accumulator,this.seed,this.hasSeed))},t}(),Ce=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.a(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(v.a),Le=n(40);function Ne(t,e){return arguments.length>=2?function(n){return Object(Le.a)(Pe(t,e),Se(1),ut(e))(n)}:function(e){return Object(Le.a)(Pe((function(e,n,r){return t(e,n,r+1)})),Se(1))(e)}}function ke(t){return Ne("function"==typeof t?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e})}var Ue=n(66);function De(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(Ue.a.apply(void 0,[e].concat(t)))}}var je=n(46);function Be(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?Object(K.a)((function(){return t}),e,n):("number"==typeof e&&(n=e),Object(K.a)((function(){return t}),n))}function Fe(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new Ve(t,e,n))}}var Ve=function(){function t(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new ze(t,this.accumulator,this.seed,this.concurrent))},t}(),ze=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.a(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,t,e)}catch(t){return n.error(t)}this.active++,this._innerSub(r,t,e)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n){var r=new k.a(this,e,n),i=this.destination;i.add(r);var u=Object(o.a)(this,t,void 0,void 0,r);u!==r&&i.add(u)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(i.a);function We(t){return Ne("function"==typeof t?function(e,n){return t(e,n)<0?e:n}:function(t,e){return t<e?t:e})}var He=n(67);function Ge(t,e){return function(n){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new Ye(r,e));var i=Object.create(n,He.b);return i.source=n,i.subjectFactory=r,i}}var Ye=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}(),Ke=n(68);function qe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&Object(V.a)(t[0])&&(t=t[0]),function(e){return e.lift(new $e(t))}}var $e=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new Qe(t,this.nextSources))},t}(),Qe=function(t){function e(e,n){var r=t.call(this,e)||this;return r.destination=e,r.nextSources=n,r}return r.a(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var e=new k.a(this,void 0,void 0),n=this.destination;n.add(e);var r=Object(o.a)(this,t,void 0,void 0,e);r!==e&&n.add(r)}else this.destination.complete()},e}(i.a);function Xe(){return function(t){return t.lift(new Ze)}}var Ze=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Je(t))},t}(),Je=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return r.a(e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(v.a),tn=n(78);function en(t,e){return function(n){return[Object(Ct.a)(t,e)(n),Object(Ct.a)(Object(tn.a)(t,e))(n)]}}function nn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(e){return Object(Xt.a)(rn(t,n))(e)}}function rn(t,e){return function(n){for(var r=n,i=0;i<e;i++){var o=r[t[i]];if(void 0===o)return;r=o}return r}}var on=n(6);function un(t){return t?Ge((function(){return new on.a}),t):Ge(new on.a)}var an=n(69);function sn(t){return function(e){return Ge(new an.a(t))(e)}}var cn=n(32);function ln(){return function(t){return Ge(new cn.a)(t)}}var fn=n(49);function hn(t,e,n,r){n&&"function"!=typeof n&&(r=n);var i="function"==typeof n?n:void 0,o=new fn.a(t,e,r);return function(t){return Ge((function(){return o}),i)(t)}}var dn=n(70);function pn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&Object(V.a)(t[0])&&(t=t[0]),e.lift.call(dn.a.apply(void 0,[e].concat(t)))}}function vn(t){return void 0===t&&(t=-1),function(e){return 0===t?Object(jt.b)():t<0?e.lift(new yn(-1,e)):e.lift(new yn(t-1,e))}}var yn=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new mn(t,this.count,this.source))},t}(),mn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.count=n,i.source=r,i}return r.a(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,n=this.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(v.a);function bn(t){return function(e){return e.lift(new gn(t))}}var gn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new Sn(t,this.notifier,e))},t}(),Sn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new on.a;try{e=(0,this.notifier)(this.notifications)}catch(e){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=Object(o.a)(this,e)},e}(i.a);function Tn(t){return void 0===t&&(t=-1),function(e){return e.lift(new xn(t,e))}}var xn=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new En(t,this.count,this.source))},t}(),En=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.count=n,i.source=r,i}return r.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return t.prototype.error.call(this,e);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(v.a);function _n(t){return function(e){return e.lift(new wn(t,e))}}var wn=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Mn(t,this.notifier,this.source))},t}(),Mn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.notifier=n,i.source=r,i}return r.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new on.a;try{r=(0,this.notifier)(n)}catch(e){return t.prototype.error.call(this,e)}i=Object(o.a)(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,n,r,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},e}(i.a),Rn=n(48);function An(t){return function(e){return e.lift(new On(t))}}var On=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new Pn(t),r=e.subscribe(n);return r.add(Object(o.a)(n,this.notifier)),r},t}(),Pn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return r.a(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(i.a);function In(t,e){return void 0===e&&(e=c.a),function(n){return n.lift(new Cn(t,e))}}var Cn=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new Ln(t,this.period,this.scheduler))},t}(),Ln=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(Nn,n,{subscriber:i,period:n})),i}return r.a(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(v.a);function Nn(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}function kn(t,e){return function(n){return n.lift(new Un(t,e))}}var Un=function(){function t(t,e){this.compareTo=t,this.comparator=e}return t.prototype.call=function(t,e){return e.subscribe(new Dn(t,this.compareTo,this.comparator))},t}(),Dn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new jn(e,i))),i}return r.a(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this._a,e=this._b,n=this.comparator;t.length>0&&e.length>0;){var r=t.shift(),i=e.shift(),o=!1;try{o=n?n(r,i):r===i}catch(t){this.destination.error(t)}o||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e}(v.a),jn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.parent=n,r}return r.a(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(v.a);function Bn(){return new on.a}function Fn(){return function(t){return Object(Rn.a)()(Ge(Bn)(t))}}function Vn(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,u=void 0===o?Number.POSITIVE_INFINITY:o,a=t.refCount,s=t.scheduler,c=0,l=!1,f=!1;return function(t){c++,e&&!l||(l=!1,e=new fn.a(i,u,s),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}}));var r=e.subscribe(this);this.add((function(){c--,r.unsubscribe(),n&&!f&&a&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(r))}}function zn(t){return function(e){return e.lift(new Wn(t,e))}}var Wn=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Hn(t,this.predicate,this.source))},t}(),Hn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r.a(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new Lt.a)},e}(v.a);function Gn(t){return function(e){return e.lift(new Yn(t))}}var Yn=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Kn(t,this.total))},t}(),Kn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.a(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(v.a);function qn(t){return function(e){return e.lift(new $n(t))}}var $n=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new It.a}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new v.a(t)):e.subscribe(new Qn(t,this._skipCount))},t}(),Qn=function(t){function e(e,n){var r=t.call(this,e)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.a(e,t),e.prototype._next=function(t){var e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{var r=n%e,i=this._ring,o=i[r];i[r]=t,this.destination.next(o)}},e}(v.a);function Xn(t){return function(e){return e.lift(new Zn(t))}}var Zn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new Jn(t,this.notifier))},t}(),Jn=function(t){function e(e,n){var r=t.call(this,e)||this;r.hasValue=!1;var i=new k.a(r,void 0,void 0);r.add(i),r.innerSubscription=i;var u=Object(o.a)(r,n,void 0,void 0,i);return u!==i&&(r.add(u),r.innerSubscription=u),r}return r.a(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype.notifyNext=function(t,e,n,r,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(i.a);function tr(t){return function(e){return e.lift(new er(t))}}var er=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new nr(t,this.predicate))},t}(),nr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.a(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(v.a);function rr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(S.a)(n)?(t.pop(),function(e){return Object(H.a)(t,e,n)}):function(e){return Object(H.a)(t,e)}}var ir=n(55),or=n(34),ur=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=ir.a);var i=t.call(this)||this;return i.source=e,i.delayTime=n,i.scheduler=r,(!Object(or.a)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=ir.a),i}return r.a(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=ir.a),new e(t,n,r)},e.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},e.prototype._subscribe=function(t){var n=this.delayTime,r=this.source;return this.scheduler.schedule(e.dispatch,n,{source:r,subscriber:t})},e}(vt.a);function ar(t,e){return void 0===e&&(e=0),function(n){return n.lift(new sr(t,e))}}var sr=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new ur(e,this.delay,this.scheduler).subscribe(t)},t}();function cr(t,e){return"function"==typeof e?function(n){return n.pipe(cr((function(n,r){return Object(z.a)(t(n,r)).pipe(Object(Xt.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new lr(t))}}var lr=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new fr(t,this.project))},t}(),fr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.a(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new k.a(this,e,n),u=this.destination;u.add(i),this.innerSubscription=Object(o.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&u.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(i.a);function hr(){return cr(fe.a)}function dr(t,e){return e?cr((function(){return t}),e):cr((function(){return t}))}function pr(t){return function(e){return e.lift(new vr(t))}}var vr=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new yr(t),r=Object(o.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),yr=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(i.a);function mr(t,e){return void 0===e&&(e=!1),function(n){return n.lift(new br(t,e))}}var br=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new gr(t,this.predicate,this.inclusive))},t}(),gr=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())},e}(v.a),Sr=n(21),Tr=n(26);function xr(t,e,n){return function(r){return r.lift(new Er(t,e,n))}}var Er=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new _r(t,this.nextOrObserver,this.error,this.complete))},t}(),_r=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=Sr.a,o._tapError=Sr.a,o._tapComplete=Sr.a,o._tapError=r||Sr.a,o._tapComplete=i||Sr.a,Object(Tr.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Sr.a,o._tapError=n.error||Sr.a,o._tapComplete=n.complete||Sr.a),o}return r.a(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(v.a),wr={leading:!0,trailing:!1};function Mr(t,e){return void 0===e&&(e=wr),function(n){return n.lift(new Rr(t,e.leading,e.trailing))}}var Rr=function(){function t(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new Ar(t,this.durationSelector,this.leading,this.trailing))},t}(),Ar=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.destination=e,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r.a(e,t),e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this._hasValue,e=this._sendValue;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=null},e.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=Object(o.a)(this,e))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=null,e&&this.send()},e.prototype.notifyNext=function(t,e,n,r,i){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(i.a);function Or(t,e,n){return void 0===e&&(e=c.a),void 0===n&&(n=wr),function(r){return r.lift(new Pr(t,e,n.leading,n.trailing))}}var Pr=function(){function t(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new Ir(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),Ir=function(t){function e(e,n,r,i,o){var u=t.call(this,e)||this;return u.duration=n,u.scheduler=r,u.leading=i,u.trailing=o,u._hasTrailingValue=!1,u._trailingValue=null,u}return r.a(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Cr,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(v.a);function Cr(t){t.subscriber.clearThrottle()}var Lr=n(50);function Nr(t){return void 0===t&&(t=c.a),function(e){return Object(Lr.a)((function(){return e.pipe(Pe((function(e,n){var r=e.current;return{value:n,current:t.now(),last:r}}),{current:t.now(),value:void 0,last:void 0}),Object(Xt.a)((function(t){var e=t.current,n=t.last,r=t.value;return new kr(r,e-n)})))}))}}var kr=function(){return function(t,e){this.value=t,this.interval=e}}(),Ur=n(71);function Dr(t,e,n){return void 0===n&&(n=c.a),function(r){var i=ct(t),o=i?+t-n.now():Math.abs(t);return r.lift(new jr(o,i,e,n))}}var jr=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new Br(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Br=function(t){function e(e,n,r,i,o){var u=t.call(this,e)||this;return u.absoluteTimeout=n,u.waitFor=r,u.withObservable=i,u.scheduler=o,u.action=null,u.scheduleTimeout(),u}return r.a(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Object(o.a)(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(i.a),Fr=n(47);function Vr(t,e){return void 0===e&&(e=c.a),Dr(t,Object(Fr.a)(new Ur.a),e)}function zr(t){return void 0===t&&(t=c.a),Object(Xt.a)((function(e){return new Wr(e,t.now())}))}var Wr=function(){return function(t,e){this.value=t,this.timestamp=e}}();function Hr(t,e,n){return 0===n?[e]:(t.push(e),t)}function Gr(){return Ne(Hr,[])}function Yr(t){return function(e){return e.lift(new Kr(t))}}var Kr=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var n=new qr(t),r=e.subscribe(n);return r.closed||n.add(Object(o.a)(n,this.windowBoundaries)),r},t}(),qr=function(t){function e(e){var n=t.call(this,e)||this;return n.window=new on.a,e.next(n.window),n}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new on.a;e.next(n)},e}(i.a);function $r(t,e){return void 0===e&&(e=0),function(n){return n.lift(new Qr(t,e))}}var Qr=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new Xr(t,this.windowSize,this.startWindowEvery))},t}(),Xr=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.destination=e,i.windowSize=n,i.startWindowEvery=r,i.windows=[new on.a],i.count=0,e.next(i.windows[0]),i}return r.a(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,u=0;u<o&&!this.closed;u++)i[u].next(t);var a=this.count-r+1;if(a>=0&&a%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var s=new on.a;i.push(s),n.next(s)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(v.a);function Zr(t){var e=c.a,n=null,r=Number.POSITIVE_INFINITY;return Object(S.a)(arguments[3])&&(e=arguments[3]),Object(S.a)(arguments[2])?e=arguments[2]:Object(or.a)(arguments[2])&&(r=arguments[2]),Object(S.a)(arguments[1])?e=arguments[1]:Object(or.a)(arguments[1])&&(n=arguments[1]),function(i){return i.lift(new Jr(t,n,r,e))}}var Jr=function(){function t(t,e,n,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new ei(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),ti=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return r.a(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(on.a),ei=function(t){function e(e,n,r,i,o){var u=t.call(this,e)||this;u.destination=e,u.windowTimeSpan=n,u.windowCreationInterval=r,u.maxWindowSize=i,u.scheduler=o,u.windows=[];var a=u.openWindow();if(null!==r&&r>=0){var s={subscriber:u,window:a,context:null},c={windowTimeSpan:n,windowCreationInterval:r,subscriber:u,scheduler:o};u.add(o.schedule(ii,n,s)),u.add(o.schedule(ri,r,c))}else{var l={subscriber:u,window:a,windowTimeSpan:n};u.add(o.schedule(ni,n,l))}return u}return r.a(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,r=0;r<n;r++){var i=e[r];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new ti;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(v.a);function ni(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function ri(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,o=n.openWindow(),u={action:this,subscription:null},a={subscriber:n,window:o,context:u};u.subscription=r.schedule(ii,e,a),this.add(u.subscription),this.schedule(t,i)}function ii(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}function oi(t,e){return function(n){return n.lift(new ui(t,e))}}var ui=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new ai(t,this.openings,this.closingSelector))},t}(),ai=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=Object(o.a)(i,n,n)),i}return r.a(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,r=0;r<n;r++)e[r].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,r=-1;++r<n;){var i=e[r];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var r=t[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,r,i){if(t===this.openings){var u=void 0;try{u=(0,this.closingSelector)(e)}catch(t){return this.error(t)}var a=new on.a,s=new A.a,c={window:a,subscription:s};this.contexts.push(c);var l=Object(o.a)(this,u,c);l.closed?this.closeWindow(this.contexts.length-1):(l.context=c,s.add(l)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,n=e[t],r=n.window,i=n.subscription;e.splice(t,1),r.complete(),i.unsubscribe()}},e}(i.a);function si(t){return function(e){return e.lift(new ci(t))}}var ci=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new li(t,this.closingSelector))},t}(),li=function(t){function e(e,n){var r=t.call(this,e)||this;return r.destination=e,r.closingSelector=n,r.openWindow(),r}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n,r=this.window=new on.a;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(t){return this.destination.error(t),void this.window.error(t)}this.add(this.closingNotification=Object(o.a)(this,n))},e}(i.a);function fi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return e.lift(new hi(r,n))}}var hi=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new di(t,this.observables,this.project))},t}(),di=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.observables=n,i.project=r,i.toRespond=[];var u=n.length;i.values=new Array(u);for(var a=0;a<u;a++)i.toRespond.push(a);for(a=0;a<u;a++){var s=n[a];i.add(Object(o.a)(i,s,s,a))}return i}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var u=o.indexOf(n);-1!==u&&o.splice(u,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a),pi=n(51);function vi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(pi.b.apply(void 0,[e].concat(t)))}}function yi(t){return function(e){return e.lift(new pi.a(t))}}}]);